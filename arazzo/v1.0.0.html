<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta name="generator" content="ReSpec 35.1.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
<title>The Arazzo Specification v1.0.0</title>
<meta name="description" content="The Arazzo Specification provides a mechanism that can define sequences of calls and their dependencies to be woven together and expressed in the context of delivering a particular outcome or set of outcomes when dealing with API descriptions (such as OpenAPI descriptions)">
<link rel="canonical" href="https://spec.openapis.org/arazzo/latest.html">
<script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
<script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-JR4K3ZJLPH&amp;l=dataLayer&amp;cx=c&amp;gtm=457e54e1h1za200&amp;tag_exp=102015666~102509682~102803279~102813109~102887800~102926062~103027016~103051953~103055465~103077950"></script>
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>

<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-831873-42"></script>

<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'UA-831873-42');
</script>

<meta name="color-scheme" content="light">
<style>
.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "base",
  "latestVersion": "https://spec.openapis.org/arazzo/latest.html",
  "editors": [
    {
      "name": "Frank Kilcommins "
    },
    {
      "name": "Nick Denny "
    },
    {
      "name": "Kevin Duffey "
    }
  ],
  "formerEditors": [],
  "publishDate": "2024-05-29T00:00:00.000Z",
  "subtitle": "Version 1.0.0",
  "edDraftURI": "https://github.com/OAI/Arazzo-Specification/",
  "shortName": "Arazzo",
  "historyURI": null,
  "lint": false,
  "logos": [
    {
      "src": "https://raw.githubusercontent.com/OAI/OpenAPI-Style-Guide/master/graphics/bitmap/OpenAPI_Logo_Pantone.png",
      "alt": "OpenAPI Initiative",
      "height": 48,
      "url": "https://openapis.org/"
    }
  ],
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "GitHub OAI/Arazzo-Specification",
          "href": "https://github.com/OAI/Arazzo-Specification/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/OAI/Arazzo-Specification/issues"
        },
        {
          "value": "Commit history",
          "href": "https://github.com/OAI/Arazzo-Specification/commits/main/versions/1.0.0.md"
        },
        {
          "value": "Pull requests",
          "href": "https://github.com/OAI/Arazzo-Specification/pulls"
        }
      ]
    }
  ],
  "publishISODate": "2024-05-29T00:00:00.000Z",
  "generatedSubtitle": "29 May 2024"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/base.css"></head><body class="h-entry informative toc-inline"><div class="head">
    <p class="logos"><a class="logo" href="https://openapis.org/"><img crossorigin="" alt="OpenAPI Initiative" height="48" src="https://raw.githubusercontent.com/OAI/OpenAPI-Style-Guide/master/graphics/bitmap/OpenAPI_Logo_Pantone.png">
  </a></p>
    <h1 id="title" class="title">The Arazzo Specification v1.0.0 </h1> <h2 id="subtitle" class="subtitle">Version 1.0.0</h2>
    <p id="w3c-state"> <time class="dt-published" datetime="2024-05-29">29 May 2024</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        
        <dt>Latest published version:</dt><dd>
                <a href="https://spec.openapis.org/arazzo/latest.html">https://spec.openapis.org/arazzo/latest.html</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://github.com/OAI/Arazzo-Specification/">https://github.com/OAI/Arazzo-Specification/</a></dd>
        
        
        
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Frank Kilcommins </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Nick Denny </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Kevin Duffey </span>
  </dd>
        
        
        
        
        <dt>Participate</dt><dd>
    <a href="https://github.com/OAI/Arazzo-Specification/">GitHub OAI/Arazzo-Specification</a>
  </dd><dd>
    <a href="https://github.com/OAI/Arazzo-Specification/issues">File a bug</a>
  </dd><dd>
    <a href="https://github.com/OAI/Arazzo-Specification/commits/main/versions/1.0.0.md">Commit history</a>
  </dd><dd>
    <a href="https://github.com/OAI/Arazzo-Specification/pulls">Pull requests</a>
  </dd>
      </dl>
    </details>
    
    
    <p class="copyright">Copyright © 2024 the Linux Foundation</p>
    <hr title="Separator for header">
  </div><style>
#respec-ui { visibility: hidden; }h1,h2,h3 { color: #629b34; }.dt-published { color: #629b34; } .dt-published::before { content: "Published "; }a[href] { color: #45512c; }body:not(.toc-inline) #toc h2 { color: #45512c; }table { display: block; width: 100%; overflow: auto; }table th { font-weight: 600; }table th, table td { padding: 6px 13px; border: 1px solid #dfe2e5; }table tr { background-color: #fff; border-top: 1px solid #c6cbd1; }table tr:nth-child(2n) { background-color: #f6f8fa; }pre { background-color: #f6f8fa !important; }code { color: #c83500 } th code { color: inherit }a.bibref { text-decoration: underline;}/**  * GitHub Gist Theme  * Author : Louis Barranqueiro - https://github.com/LouisBarranqueiro  */  .hljs {   display: block;   background: white;   padding: 0.5em;   color: #333333;   overflow-x: auto; }  .hljs-comment, .hljs-meta {   color: #969896; }  .hljs-string, .hljs-variable, .hljs-template-variable, .hljs-strong, .hljs-emphasis, .hljs-quote {   color: #df5000; }  .hljs-keyword, .hljs-selector-tag, .hljs-type {   color: #a71d5d; }  .hljs-literal, .hljs-symbol, .hljs-bullet, .hljs-attribute {   color: #0086b3; }  .hljs-section, .hljs-name {   color: #63a35c; }  .hljs-tag {   color: #333333; }  .hljs-title, .hljs-attr, .hljs-selector-id, .hljs-selector-class, .hljs-selector-attr, .hljs-selector-pseudo {   color: #795da3; }  .hljs-addition {   color: #55a532;   background-color: #eaffea; }  .hljs-deletion {   color: #bd2c00;   background-color: #ffecec; }  .hljs-link {   text-decoration: underline; } 
</style><section class="notoc introductory" id="abstract"><h2>What is the Arazzo Specification?</h2>The Arazzo Specification provides a mechanism that can define sequences of calls and their dependencies to be woven together and expressed in the context of delivering a particular outcome or set of outcomes when dealing with API descriptions (such as OpenAPI descriptions).</section><section class="override introductory notoc" id="sotd" data-max-toc="0"><h2>Status of This Document</h2>The source-of-truth for the specification is the GitHub markdown file referenced above.</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#arazzo-specification"><bdi class="secno">1. </bdi>Arazzo Specification</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#version-1-0-0"><bdi class="secno">1.1 </bdi>Version 1.0.0</a></li></ol></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">2. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#definitions"><bdi class="secno">3. </bdi><span>Definitions</span></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#arazzo-description"><bdi class="secno">3.1 </bdi><span>Arazzo Description</span></a></li></ol></li><li class="tocline"><a class="tocxref" href="#specification"><bdi class="secno">4. </bdi>Specification</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#versions"><bdi class="secno">4.1 </bdi>Versions</a></li><li class="tocline"><a class="tocxref" href="#format"><bdi class="secno">4.2 </bdi>Format</a></li><li class="tocline"><a class="tocxref" href="#arazzo-description-structure"><bdi class="secno">4.3 </bdi>Arazzo Description Structure</a></li><li class="tocline"><a class="tocxref" href="#data-types"><bdi class="secno">4.4 </bdi>Data Types</a></li><li class="tocline"><a class="tocxref" href="#relative-references-in-urls"><bdi class="secno">4.5 </bdi>Relative References in URLs</a></li><li class="tocline"><a class="tocxref" href="#schema"><bdi class="secno">4.6 </bdi>Schema</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#arazzo-specification-object"><bdi class="secno">4.6.1 </bdi>Arazzo Specification Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields"><bdi class="secno">4.6.1.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#arazzo-specification-object-example"><bdi class="secno">4.6.1.2 </bdi>Arazzo Specification Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#info-object"><bdi class="secno">4.6.2 </bdi>Info Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-0"><bdi class="secno">4.6.2.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#info-object-example"><bdi class="secno">4.6.2.2 </bdi>Info Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#source-description-object"><bdi class="secno">4.6.3 </bdi>Source Description Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-1"><bdi class="secno">4.6.3.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#source-description-object-example"><bdi class="secno">4.6.3.2 </bdi>Source Description Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#workflow-object"><bdi class="secno">4.6.4 </bdi>Workflow Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-2"><bdi class="secno">4.6.4.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#workflow-object-example"><bdi class="secno">4.6.4.2 </bdi>Workflow Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#step-object"><bdi class="secno">4.6.5 </bdi>Step Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-3"><bdi class="secno">4.6.5.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#step-object-example"><bdi class="secno">4.6.5.2 </bdi>Step Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#parameter-object"><bdi class="secno">4.6.6 </bdi>Parameter Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-4"><bdi class="secno">4.6.6.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#parameter-object-example"><bdi class="secno">4.6.6.2 </bdi>Parameter Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#success-action-object"><bdi class="secno">4.6.7 </bdi>Success Action Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-5"><bdi class="secno">4.6.7.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#success-action-object-example"><bdi class="secno">4.6.7.2 </bdi>Success Action Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#failure-action-object"><bdi class="secno">4.6.8 </bdi>Failure Action Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-6"><bdi class="secno">4.6.8.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#failure-action-object-example"><bdi class="secno">4.6.8.2 </bdi>Failure Action Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#components-object"><bdi class="secno">4.6.9 </bdi>Components Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-7"><bdi class="secno">4.6.9.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#components-object-example"><bdi class="secno">4.6.9.2 </bdi>Components Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#reusable-object"><bdi class="secno">4.6.10 </bdi>Reusable Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-8"><bdi class="secno">4.6.10.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#reusable-object-example"><bdi class="secno">4.6.10.2 </bdi>Reusable Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#criterion-object"><bdi class="secno">4.6.11 </bdi>Criterion Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#literals"><bdi class="secno">4.6.11.1 </bdi>Literals</a></li><li class="tocline"><a class="tocxref" href="#operators"><bdi class="secno">4.6.11.2 </bdi>Operators</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-9"><bdi class="secno">4.6.11.3 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#criterion-object-example"><bdi class="secno">4.6.11.4 </bdi>Criterion Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#criterion-expression-type-object"><bdi class="secno">4.6.12 </bdi>Criterion Expression Type Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-10"><bdi class="secno">4.6.12.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#criterion-expression-type-example"><bdi class="secno">4.6.12.2 </bdi>Criterion Expression Type Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#request-body-object"><bdi class="secno">4.6.13 </bdi>Request Body Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-11"><bdi class="secno">4.6.13.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#requestbody-object-example"><bdi class="secno">4.6.13.2 </bdi>RequestBody Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#payload-replacement-object"><bdi class="secno">4.6.14 </bdi>Payload Replacement Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-12"><bdi class="secno">4.6.14.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#payload-replacement-object-example"><bdi class="secno">4.6.14.2 </bdi>Payload Replacement Object Example</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#runtime-expressions"><bdi class="secno">4.7 </bdi>Runtime Expressions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">4.7.1 </bdi>Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#specification-extensions"><bdi class="secno">4.8 </bdi>Specification Extensions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">5. </bdi>Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><bdi class="secno">6. </bdi>IANA Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#application-vnd-oai-workflows"><bdi class="secno">6.1 </bdi>application/vnd.oai.workflows</a></li><li class="tocline"><a class="tocxref" href="#application-vnd-oai-workflows-json"><bdi class="secno">6.2 </bdi>application/vnd.oai.workflows+json</a></li><li class="tocline"><a class="tocxref" href="#application-vnd-oai-workflows-yaml"><bdi class="secno">6.3 </bdi>application/vnd.oai.workflows+yaml</a></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-a-revision-history"><bdi class="secno">7. </bdi>Appendix A: Revision History</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.1 </bdi>Informative references</a></li></ol></li></ol></nav>
<section id="arazzo-specification"><div class="header-wrapper"><h2 id="x1-arazzo-specification"><bdi class="secno">1. </bdi>Arazzo Specification</h2><a class="self-link" href="#arazzo-specification" aria-label="Permalink for Section 1."></a></div>
<section id="version-1-0-0"><div class="header-wrapper"><h3 id="x1-1-version-1-0-0"><bdi class="secno">1.1 </bdi>Version 1.0.0</h3><a class="self-link" href="#version-1-0-0" aria-label="Permalink for Section 1.1"></a></div>
<p>The key words “<em class="rfc2119">MUST</em>”, “<em class="rfc2119">MUST NOT</em>”, “<em class="rfc2119">REQUIRED</em>”, “<em class="rfc2119">SHALL</em>”, “<em class="rfc2119">SHALL NOT</em>”, “<em class="rfc2119">SHOULD</em>”, “<em class="rfc2119">SHOULD NOT</em>”, “<em class="rfc2119">RECOMMENDED</em>”, “<em class="rfc2119">NOT RECOMMENDED</em>”, “<em class="rfc2119">MAY</em>”, and “<em class="rfc2119">OPTIONAL</em>” in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>] when, and only when, they appear in all capitals, as shown here.</p>
<p>This document is licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">The Apache License, Version 2.0</a>.</p>
</section></section><section id="introduction"><div class="header-wrapper"><h2 id="x2-introduction"><bdi class="secno">2. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 2."></a></div>
<p>Being able to express specific sequences of calls and articulate the dependencies between them to achieve a particular goal is desirable in the context of API descriptions. The aim of the Arazzo Specification is to provide a mechanism that can define sequences of calls and their dependencies to be woven together and expressed in the context of delivering a particular outcome or set of outcomes when dealing with API descriptions (such as OpenAPI descriptions).</p>
<p>The Arazzo Specification can articulate these workflows in a human-readable and machine-readable manner, thus improving the capability of API specifications to tell the story of the API in a manner that can improve the consuming developer experience.</p>


</section><section id="definitions"><div class="header-wrapper"><h2 id="x3-definitions"><bdi class="secno">3. </bdi><dfn id="dfn-definitions" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Definitions</dfn></h2><a class="self-link" href="#definitions" aria-label="Permalink for Section 3."></a></div>
<section id="arazzo-description"><div class="header-wrapper"><h3 id="x3-1-arazzo-description"><bdi class="secno">3.1 </bdi><dfn id="dfn-arazzo-description" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Arazzo Description</dfn></h3><a class="self-link" href="#arazzo-description" aria-label="Permalink for Section 3.1"></a></div>
<p>A self-contained document (or set of documents) which defines or describes API workflows (specific sequence of calls to achieve a particular goal in the context of an API definition). An Arazzo Description uses and conforms to the Arazzo Specification, and <code><em class="rfc2119">MUST</em></code> contain a valid Arazzo Specification version field (<code>arazzo</code>), an <a href="#info-object">Info</a> field, a <code>sourceDescriptions</code> field with at least one defined <a href="#source-description-object">Source</a>, and there <code><em class="rfc2119">MUST</em></code> be at least one <a href="#workflow-object">Workflow</a> defined in the <code>workflows</code> fixed field.</p>
</section></section><section id="specification"><div class="header-wrapper"><h2 id="x4-specification"><bdi class="secno">4. </bdi>Specification</h2><a class="self-link" href="#specification" aria-label="Permalink for Section 4."></a></div>
<section id="versions"><div class="header-wrapper"><h3 id="x4-1-versions"><bdi class="secno">4.1 </bdi>Versions</h3><a class="self-link" href="#versions" aria-label="Permalink for Section 4.1"></a></div>
<p>The Arazzo Specification is versioned using a <code>major</code>.<code>minor</code>.<code>patch</code> versioning scheme. The <code>major</code>.<code>minor</code> portion of the version string (for example 1.0) <em class="rfc2119">SHALL</em> designate the Arazzo feature set. <code>.patch</code> versions address errors in, or provide clarifications to, this document, not the feature set. The patch version <em class="rfc2119">SHOULD NOT</em> be considered by tooling, making no distinction between 1.0.0 and 1.0.1 for example.</p>
</section><section id="format"><div class="header-wrapper"><h3 id="x4-2-format"><bdi class="secno">4.2 </bdi>Format</h3><a class="self-link" href="#format" aria-label="Permalink for Section 4.2"></a></div>
<p>An Arazzo Description that conforms to the Arazzo Specification is itself a JSON object, which may be represented either in JSON or YAML format.</p>
<p>All field names in the specification are <strong>case sensitive</strong>.
This includes all fields that are used as keys in a map, except where explicitly noted that keys are <strong>case insensitive</strong>.</p>
<p>In order to preserve the ability to round-trip between YAML and JSON formats, YAML version <a href="https://yaml.org/spec/1.2/spec.html">1.2</a> is <em class="rfc2119">RECOMMENDED</em> along with some additional constraints:</p>
<ul>
<li>Tags <em class="rfc2119">MUST</em> be limited to those allowed by the <a href="https://yaml.org/spec/1.2/spec.html#id2803231">JSON Schema ruleset</a>.</li>
<li>Keys used in YAML maps <em class="rfc2119">MUST</em> be limited to a scalar string, as defined by the <a href="https://yaml.org/spec/1.2/spec.html#id2802346">YAML Failsafe schema ruleset</a>.</li>
</ul>
</section><section id="arazzo-description-structure"><div class="header-wrapper"><h3 id="x4-3-arazzo-description-structure"><bdi class="secno">4.3 </bdi>Arazzo Description Structure</h3><a class="self-link" href="#arazzo-description-structure" aria-label="Permalink for Section 4.3"></a></div>
<p>It is <em class="rfc2119">RECOMMENDED</em> that the entry Arazzo document be named: <code>arazzo.json</code> or <code>arazzo.yaml</code>.</p>
<p>An Arazzo Description <em class="rfc2119">MAY</em> be made up of a single document or be divided into multiple, connected parts at the discretion of the author. If workflows from other documents are being referenced, they must by included as a <a href="#source-description-object">Source Description Object</a>. In a multi-document description, the document containing the <a href="#arazzo-specification-object">Arazzo Specification Object</a> is known as the <strong>entry Arazzo document</strong>.</p>
</section><section id="data-types"><div class="header-wrapper"><h3 id="x4-4-data-types"><bdi class="secno">4.4 </bdi>Data Types</h3><a class="self-link" href="#data-types" aria-label="Permalink for Section 4.4"></a></div>
<p>Data types in the Arazzo Specification are based on the types supported by the <a href="https://tools.ietf.org/html/draft-bhutton-json-schema-00#section-4.2.1">JSON Schema Specification Draft 2020-12</a>. Note that integer as a type is also supported and is defined as a JSON number without a fraction or exponent part.</p>
<p>As defined by the <a href="https://tools.ietf.org/html/draft-bhutton-json-schema-validation-00#section-7">JSON Schema Validation vocabulary</a>, data types can have an optional modifier property: <code>format</code>. Arazzo additionally supports the formats (similar to the OpenAPI specification) to provide fine detail for primitive data types.</p>
<p>The formats defined are:</p>
<table>
<thead>
<tr>
<th><a href="#data-types"><code>type</code></a></th>
<th><code>format</code></th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>integer</code></td>
<td><code>int32</code></td>
<td>signed 32 bits</td>
</tr>
<tr>
<td><code>integer</code></td>
<td><code>int64</code></td>
<td>signed 64 bits (a.k.a long)</td>
</tr>
<tr>
<td><code>number</code></td>
<td><code>float</code></td>
<td></td>
</tr>
<tr>
<td><code>number</code></td>
<td><code>double</code></td>
<td></td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>password</code></td>
<td>A hint to UIs to obscure input.</td>
</tr>
</tbody>
</table>
</section><section id="relative-references-in-urls"><div class="header-wrapper"><h3 id="x4-5-relative-references-in-urls"><bdi class="secno">4.5 </bdi>Relative References in URLs</h3><a class="self-link" href="#relative-references-in-urls" aria-label="Permalink for Section 4.5"></a></div>
<p>Unless specified otherwise, all properties that are URLs <em class="rfc2119">MAY</em> be relative references as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-4.2">Section 4.2</a>.
Unless specified otherwise, relative references are resolved using the URL of the referring document.</p>
</section><section id="schema"><div class="header-wrapper"><h3 id="x4-6-schema"><bdi class="secno">4.6 </bdi>Schema</h3><a class="self-link" href="#schema" aria-label="Permalink for Section 4.6"></a></div>
<p>In the following description, if a field is not explicitly <strong><em class="rfc2119">REQUIRED</em></strong> or described with a <em class="rfc2119">MUST</em> or <em class="rfc2119">SHALL</em>, it can be considered <em class="rfc2119">OPTIONAL</em>.</p>
<section id="arazzo-specification-object"><div class="header-wrapper"><h4 id="x4-6-1-arazzo-specification-object"><bdi class="secno">4.6.1 </bdi>Arazzo Specification Object</h4><a class="self-link" href="#arazzo-specification-object" aria-label="Permalink for Section 4.6.1"></a></div>
<p>This is the root object of the <a href="#arazzo-description">Arazzo Description</a>.</p>
<section id="fixed-fields"><div class="header-wrapper"><h5 id="x4-6-1-1-fixed-fields"><bdi class="secno">4.6.1.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields" aria-label="Permalink for Section 4.6.1.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="arazzoVersion"></span>arazzo</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. This string <em class="rfc2119">MUST</em> be the <a href="#versions">version number</a> of the Arazzo Specification that the Arazzo Description uses. The <code>arazzo</code> field <em class="rfc2119">MUST</em> be used by tooling to interpret the Arazzo Description.</td>
</tr>
<tr>
<td><span id="arazzoInfo"></span>info</td>
<td style="text-align:center"><a href="#info-object">Info Object</a></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. Provides metadata about the workflows contain within the Arazzo Description. The metadata <em class="rfc2119">MAY</em> be used by tooling as required.</td>
</tr>
<tr>
<td><span id="arazzoSources"></span>sourceDescriptions</td>
<td style="text-align:center">[<a href="#source-description-object">Source Description Object</a>]</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A list of source descriptions (such as an OpenAPI description) this Arazzo Description <em class="rfc2119">SHALL</em> apply to. The list <em class="rfc2119">MUST</em> have at least one entry.</td>
</tr>
<tr>
<td><span id="workflows"></span>workflows</td>
<td style="text-align:center">[<a href="#workflow-object">Workflow Object</a>]</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A list of workflows. The list <em class="rfc2119">MUST</em> have at least one entry.</td>
</tr>
<tr>
<td><span id="components"></span>components</td>
<td style="text-align:center"><a href="#components-object">Components Object</a></td>
<td>An element to hold various schemas for the Arazzo Description.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="arazzo-specification-object-example"><div class="header-wrapper"><h5 id="x4-6-1-2-arazzo-specification-object-example"><bdi class="secno">4.6.1.2 </bdi>Arazzo Specification Object Example</h5><a class="self-link" href="#arazzo-specification-object-example" aria-label="Permalink for Section 4.6.1.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">arazzo:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">purchasing</span> <span class="hljs-string">workflow</span>
  <span class="hljs-attr">summary:</span> <span class="hljs-string">This</span> <span class="hljs-string">Arazzo</span> <span class="hljs-string">Description</span> <span class="hljs-string">showcases</span> <span class="hljs-string">the</span> <span class="hljs-string">workflow</span> <span class="hljs-string">for</span> <span class="hljs-string">how</span> <span class="hljs-string">to</span> <span class="hljs-string">purchase</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">through</span> <span class="hljs-string">a</span> <span class="hljs-string">sequence</span> <span class="hljs-string">of</span> <span class="hljs-string">API</span> <span class="hljs-string">calls</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">|
      This Arazzo Description walks you through the workflow and steps of `searching` for, `selecting`, and `purchasing` an available pet.
</span>  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.1</span>
<span class="hljs-attr">sourceDescriptions:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">petStoreDescription</span>
  <span class="hljs-attr">url:</span> <span class="hljs-string">https://github.com/swagger-api/swagger-petstore/blob/master/src/main/resources/openapi.yaml</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">openapi</span>

<span class="hljs-attr">workflows:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">workflowId:</span> <span class="hljs-string">loginUserAndRetrievePet</span>
  <span class="hljs-attr">summary:</span> <span class="hljs-string">Login</span> <span class="hljs-string">User</span> <span class="hljs-string">and</span> <span class="hljs-string">then</span> <span class="hljs-string">retrieve</span> <span class="hljs-string">pets</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">workflow</span> <span class="hljs-string">lays</span> <span class="hljs-string">out</span> <span class="hljs-string">the</span> <span class="hljs-string">steps</span> <span class="hljs-string">to</span> <span class="hljs-string">login</span> <span class="hljs-string">a</span> <span class="hljs-string">user</span> <span class="hljs-string">and</span> <span class="hljs-string">then</span> <span class="hljs-string">retrieve</span> <span class="hljs-string">pets</span>
  <span class="hljs-attr">inputs:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">username:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">password:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">steps:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">stepId:</span> <span class="hljs-string">loginStep</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">step</span> <span class="hljs-string">demonstrates</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">login</span> <span class="hljs-string">step</span>
    <span class="hljs-attr">operationId:</span> <span class="hljs-string">loginUser</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-comment"># parameters to inject into the loginUser operation (parameter name must be resolvable at the referenced operation and the value is determined using {expression} syntax)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.username</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">password</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.password</span>
    <span class="hljs-attr">successCriteria:</span>
      <span class="hljs-comment"># assertions to determine step was successful</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">outputs:</span>
      <span class="hljs-comment"># outputs from this step</span>
      <span class="hljs-attr">tokenExpires:</span> <span class="hljs-string">$response.header.X-Expires-After</span>
      <span class="hljs-attr">rateLimit:</span> <span class="hljs-string">$response.header.X-Rate-Limit</span>
      <span class="hljs-attr">sessionToken:</span> <span class="hljs-string">$response.body</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">stepId:</span> <span class="hljs-string">getPetStep</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">retrieve</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">by</span> <span class="hljs-string">status</span> <span class="hljs-string">from</span> <span class="hljs-string">the</span> <span class="hljs-string">GET</span> <span class="hljs-string">pets</span> <span class="hljs-string">endpoint</span>
    <span class="hljs-attr">operationPath:</span> <span class="hljs-string">'{$sourceDescriptions.petstoreDescription.url}#/paths/~1pet~1findByStatus/get'</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">status</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">'available'</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Authorization</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$steps.loginUser.outputs.sessionToken</span>
    <span class="hljs-attr">successCriteria:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">outputs:</span>
      <span class="hljs-comment"># outputs from this step</span>
      <span class="hljs-attr">availablePets:</span> <span class="hljs-string">$response.body</span>
  <span class="hljs-attr">outputs:</span>
      <span class="hljs-attr">available:</span> <span class="hljs-string">$steps.getPetStep.availablePets</span>
</code></pre>
</section></section><section id="info-object"><div class="header-wrapper"><h4 id="x4-6-2-info-object"><bdi class="secno">4.6.2 </bdi>Info Object</h4><a class="self-link" href="#info-object" aria-label="Permalink for Section 4.6.2"></a></div>
<p>The object provides metadata about API workflows defined in this Arazzo document.
The metadata <em class="rfc2119">MAY</em> be used by the clients if needed.</p>
<section id="fixed-fields-0"><div class="header-wrapper"><h5 id="x4-6-2-1-fixed-fields"><bdi class="secno">4.6.2.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-0" aria-label="Permalink for Section 4.6.2.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="infoTitle"></span>title</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A human readable title of the Arazzo Description.</td>
</tr>
<tr>
<td><span id="infoSummary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary of the Arazzo Description.</td>
</tr>
<tr>
<td><span id="infoDescription"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the purpose of the workflows defined. <a href="https://spec.commonmark.org/">CommonMark syntax</a> <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="infoVersion"></span>version</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The version identifier of the Arazzo document (which is distinct from the <a href="#versions">Arazzo Specification version</a>).</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="info-object-example"><div class="header-wrapper"><h5 id="x4-6-2-2-info-object-example"><bdi class="secno">4.6.2.2 </bdi>Info Object Example</h5><a class="self-link" href="#info-object-example" aria-label="Permalink for Section 4.6.2.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">title:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">purchasing</span> <span class="hljs-string">workflow</span>
<span class="hljs-attr">summary:</span> <span class="hljs-string">This</span> <span class="hljs-string">workflow</span> <span class="hljs-string">showcases</span> <span class="hljs-string">how</span> <span class="hljs-string">to</span> <span class="hljs-string">purchase</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">through</span> <span class="hljs-string">a</span> <span class="hljs-string">sequence</span> <span class="hljs-string">of</span> <span class="hljs-string">API</span> <span class="hljs-string">calls</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">|
    This workflow walks you through the steps of searching for, selecting, and purchasing an available pet.
</span><span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.1</span>
</code></pre>
</section></section><section id="source-description-object"><div class="header-wrapper"><h4 id="x4-6-3-source-description-object"><bdi class="secno">4.6.3 </bdi>Source Description Object</h4><a class="self-link" href="#source-description-object" aria-label="Permalink for Section 4.6.3"></a></div>
<p>Describes a source description (such as an OpenAPI description) that will be referenced by one or more workflows described within an Arazzo Description.</p>
<p>An object storing a map between named description keys and location URLs to the source descriptions (such as an OpenAPI description) this Arazzo Description <em class="rfc2119">SHALL</em> apply to. Each source location <code>string</code> <em class="rfc2119">MUST</em> be in the form of a URI-reference as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-4.1">Section 4.1</a>.</p>
<section id="fixed-fields-1"><div class="header-wrapper"><h5 id="x4-6-3-1-fixed-fields"><bdi class="secno">4.6.3.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-1" aria-label="Permalink for Section 4.6.3.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="sourceName"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A unique name for the source description. Tools and libraries <em class="rfc2119">MAY</em> use the <code>name</code> to uniquely identify a source description, therefore, it is <em class="rfc2119">RECOMMENDED</em> to follow common programming naming conventions. <em class="rfc2119">SHOULD</em> conform to the regular expression <code>[A-Za-z0-9_\-]+</code>.</td>
</tr>
<tr>
<td><span id="sourceURL"></span>url</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A URL to a source description to be used by a workflow. If a relative reference is used, it <em class="rfc2119">MUST</em> be in the form of a URI-reference as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-4.2">Section 4.2</a>.</td>
</tr>
<tr>
<td><span id="sourceType"></span>type</td>
<td style="text-align:center"><code>string</code></td>
<td>The type of source description. Possible values are <code>"openapi"</code> or <code>"arazzo"</code>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="source-description-object-example"><div class="header-wrapper"><h5 id="x4-6-3-2-source-description-object-example"><bdi class="secno">4.6.3.2 </bdi>Source Description Object Example</h5><a class="self-link" href="#source-description-object-example" aria-label="Permalink for Section 4.6.3.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">name:</span> <span class="hljs-string">petStoreDescription</span>
<span class="hljs-attr">url:</span> <span class="hljs-string">https://github.com/swagger-api/swagger-petstore/blob/master/src/main/resources/openapi.yaml</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">openapi</span>
</code></pre>
</section></section><section id="workflow-object"><div class="header-wrapper"><h4 id="x4-6-4-workflow-object"><bdi class="secno">4.6.4 </bdi>Workflow Object</h4><a class="self-link" href="#workflow-object" aria-label="Permalink for Section 4.6.4"></a></div>
<p>Describes the steps to be taken across one or more APIs to achieve an objective. The workflow object <em class="rfc2119">MAY</em> define inputs needed in order to execute workflow steps, where the defined steps represent a call to an API operation or another workflow, and a set of outputs.</p>
<section id="fixed-fields-2"><div class="header-wrapper"><h5 id="x4-6-4-1-fixed-fields"><bdi class="secno">4.6.4.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-2" aria-label="Permalink for Section 4.6.4.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="workflowId"></span>workflowId</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. Unique string to represent the workflow. The id <em class="rfc2119">MUST</em> be unique amongst all workflows describe in the Arazzo Description. The <code>workflowId</code> value is <strong>case-sensitive</strong>. Tools and libraries <em class="rfc2119">MAY</em> use the <code>workflowId</code> to uniquely identify a workflow, therefore, it is <em class="rfc2119">RECOMMENDED</em> to follow common programming naming conventions. <em class="rfc2119">SHOULD</em> conform to the regular expression <code>[A-Za-z0-9_\-]+</code>.</td>
</tr>
<tr>
<td><span id="workflowSummary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A summary of the purpose or objective of the workflow.</td>
</tr>
<tr>
<td><span id="workflowDescription"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the workflow. <a href="https://spec.commonmark.org/">CommonMark syntax</a> <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="workflowInputs"></span>inputs</td>
<td style="text-align:center"><code>JSON Schema</code></td>
<td>A JSON Schema 2020-12 object representing the input parameters used by this workflow.</td>
</tr>
<tr>
<td><span id="dependsOn"></span>dependsOn</td>
<td style="text-align:center">[<code>string</code>]</td>
<td>A list of workflows that <em class="rfc2119">MUST</em> be completed before this workflow can be processed. The values provided <em class="rfc2119">MUST</em> be a <code>workflowId</code>. If the workflow depended on is defined within the current Workflow Document, then specify the <code>workflowId</code> of the relevant local workflow. If the workflow is defined in a separate Arazzo Document then the workflow <em class="rfc2119">MUST</em> be defined in the <code>sourceDescriptions</code> and the <code>workflowId</code> <em class="rfc2119">MUST</em> be specified using a <a href="#runtime-expressions">runtime expression</a> (e.g., <code>$sourceDescriptions.&lt;name&gt;.&lt;workflowId&gt;</code>) to avoid ambiguity or potential clashes.</td>
</tr>
<tr>
<td><span id="workflowSteps"></span>steps</td>
<td style="text-align:center">[<a href="#step-object">Step Object</a>]</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. An ordered list of steps where each step represents a call to an API operation or to another workflow.</td>
</tr>
<tr>
<td><span id="workflowSuccessActions"></span>successActions</td>
<td style="text-align:center">[<a href="#success-action-object">Success Action Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>A list of success actions that are applicable for all steps described under this workflow. These success actions can be overridden at the step level but cannot be removed there. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to success actions defined in the <a href="#components-object">components/successActions</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate success actions.</td>
</tr>
<tr>
<td><span id="workflowFailureActions"></span>failureActions</td>
<td style="text-align:center">[<a href="#failure-action-object">Failure Action Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>A list of failure actions that are applicable for all steps described under this workflow. These failure actions can be overridden at the step level but cannot be removed there. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to failure actions defined in the <a href="#components-object">components/failureActions</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate failure actions.</td>
</tr>
<tr>
<td><span id="workflowOutputs"></span>outputs</td>
<td style="text-align:center">Map[<code>string</code>, {expression}]</td>
<td>A map between a friendly name and a dynamic output value. The name <em class="rfc2119">MUST</em> use keys that match the regular expression: <code>^[a-zA-Z0-9\.\-_]+$</code>.</td>
</tr>
<tr>
<td><span id="workflowParameters"></span>parameters</td>
<td style="text-align:center">[<a href="#parameter-object">Parameter Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>A list of parameters that are applicable for all steps described under this workflow. These parameters can be overridden at the step level but cannot be removed there. Each parameter <em class="rfc2119">MUST</em> be passed to an operation or workflow as referenced by <code>operationId</code>, <code>operationPath</code>, or <code>workflowId</code> as specified within each step. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to a parameter defined in the <a href="#components-object">components/parameters</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate parameters.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="workflow-object-example"><div class="header-wrapper"><h5 id="x4-6-4-2-workflow-object-example"><bdi class="secno">4.6.4.2 </bdi>Workflow Object Example</h5><a class="self-link" href="#workflow-object-example" aria-label="Permalink for Section 4.6.4.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">workflowId:</span> <span class="hljs-string">loginUser</span>
<span class="hljs-attr">summary:</span> <span class="hljs-string">Login</span> <span class="hljs-string">User</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">workflow</span> <span class="hljs-string">lays</span> <span class="hljs-string">out</span> <span class="hljs-string">the</span> <span class="hljs-string">steps</span> <span class="hljs-string">to</span> <span class="hljs-string">login</span> <span class="hljs-string">a</span> <span class="hljs-string">user</span>
<span class="hljs-attr">inputs:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">username:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">password:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">steps:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">stepId:</span> <span class="hljs-string">loginStep</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">step</span> <span class="hljs-string">demonstrates</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">login</span> <span class="hljs-string">step</span>
    <span class="hljs-attr">operationId:</span> <span class="hljs-string">loginUser</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-comment"># parameters to inject into the loginUser operation (parameter name must be resolvable at the referenced operation and the value is determined using {expression} syntax)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.username</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">password</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.password</span>
    <span class="hljs-attr">successCriteria:</span>
        <span class="hljs-comment"># assertions to determine step was successful </span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">outputs:</span>
        <span class="hljs-comment"># outputs from this step</span>
        <span class="hljs-attr">tokenExpires:</span> <span class="hljs-string">$response.header.X-Expires-After</span>
        <span class="hljs-attr">rateLimit:</span> <span class="hljs-string">$response.header.X-Rate-Limit</span>
<span class="hljs-attr">outputs:</span>
    <span class="hljs-attr">tokenExpires:</span> <span class="hljs-string">$steps.loginStep.outputs.tokenExpires</span>
</code></pre>
</section></section><section id="step-object"><div class="header-wrapper"><h4 id="x4-6-5-step-object"><bdi class="secno">4.6.5 </bdi>Step Object</h4><a class="self-link" href="#step-object" aria-label="Permalink for Section 4.6.5"></a></div>
<p>Describes a single workflow step which <em class="rfc2119">MAY</em> be a call to an API operation (<a href="https://spec.openapis.org/oas/latest.html#operation-object">OpenAPI Operation Object</a> or another <a href="#workflow-object">Workflow Object</a>).</p>
<section id="fixed-fields-3"><div class="header-wrapper"><h5 id="x4-6-5-1-fixed-fields"><bdi class="secno">4.6.5.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-3" aria-label="Permalink for Section 4.6.5.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="stepDescription"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the step. <a href="https://spec.commonmark.org/">CommonMark syntax</a> <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="stepId"></span>stepId</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. Unique string to represent the step. The <code>stepId</code> <em class="rfc2119">MUST</em> be unique amongst all steps described in the workflow. The <code>stepId</code> value is <strong>case-sensitive</strong>. Tools and libraries <em class="rfc2119">MAY</em> use the <code>stepId</code> to uniquely identify a workflow step, therefore, it is <em class="rfc2119">RECOMMENDED</em> to follow common programming naming conventions. <em class="rfc2119">SHOULD</em> conform to the regular expression <code>[A-Za-z0-9_\-]+</code>.</td>
</tr>
<tr>
<td><span id="stepOperationId"></span>operationId</td>
<td style="text-align:center"><code>string</code></td>
<td>The name of an existing, resolvable operation, as defined with a unique <code>operationId</code> and existing within one of the <code>sourceDescriptions</code>. The referenced operation will be invoked by this workflow step. If multiple (non <code>arazzo</code> type) <code>sourceDescriptions</code> are defined, then the <code>operationId</code> <em class="rfc2119">MUST</em> be specified using a <a href="#runtime-expressions">runtime expression</a> (e.g., <code>$sourceDescriptions.&lt;name&gt;.&lt;operationId&gt;</code>) to avoid ambiguity or potential clashes. This field is mutually exclusive of the <code>operationPath</code> and <code>workflowId</code> fields respectively.</td>
</tr>
<tr>
<td><span id="stepOperationPath"></span>operationPath</td>
<td style="text-align:center"><code>string</code></td>
<td>A reference to a <a href="#source-description-object">Source</a> combined with a <a href="https://tools.ietf.org/html/rfc6901">JSON Pointer</a> to reference an operation. This field is mutually exclusive of the <code>operationId</code> and <code>workflowId</code> fields respectively. The operation being referenced <em class="rfc2119">MUST</em> be described within one of the <code>sourceDescriptions</code> descriptions. A <a href="#runtime-expressions">runtime expression</a> syntax <em class="rfc2119">MUST</em> be used to identify the source description document. If the referenced operation has an <code>operationId</code> defined then the <code>operationId</code> <em class="rfc2119">SHOULD</em> be preferred over the <code>operationPath</code>.</td>
</tr>
<tr>
<td><span id="stepWorkflowId"></span>workflowId</td>
<td style="text-align:center"><code>string</code></td>
<td>The <a href="#fixed-fields-2">workflowId</a> referencing an existing workflow within the Arazzo Description. If multiple <code>arazzo</code> type <code>sourceDescriptions</code> are defined, then the <code>workflowId</code> <em class="rfc2119">MUST</em> be specified using a <a href="#runtime-expressions">runtime expression</a> (e.g., <code>$sourceDescriptions.&lt;name&gt;.&lt;workflowId&gt;</code>) to avoid ambiguity or potential clashes. The field is mutually exclusive of the <code>operationId</code> and <code>operationPath</code> fields respectively.</td>
</tr>
<tr>
<td><span id="stepParameters"></span>parameters</td>
<td style="text-align:center">[<a href="#parameter-object">Parameter Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>A list of parameters that <em class="rfc2119">MUST</em> be passed to an operation or workflow as referenced by <code>operationId</code>, <code>operationPath</code>, or <code>workflowId</code>. If a parameter is already defined at the <a href="#workflow-object">Workflow</a>, the new definition will override it but can never remove it. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to a parameter defined in the <a href="#components-object">components/parameters</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate parameters.</td>
</tr>
<tr>
<td><span id="stepRequestBody"></span>requestBody</td>
<td style="text-align:center"><a href="#request-body-object">Request Body Object</a></td>
<td>The request body to pass to an operation as referenced by <code>operationId</code> or <code>operationPath</code>. The <code>requestBody</code> is fully supported in HTTP methods where the HTTP 1.1 specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7231" title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">RFC7231</a></cite>] <a href="https://tools.ietf.org/html/rfc7231#section-4.3.1">Section 4.3.1</a> has explicitly defined semantics for request bodies.  In other cases where the HTTP spec is vague (such as <a href="https://tools.ietf.org/html/rfc7231#section-4.3.1">GET</a>, <a href="https://tools.ietf.org/html/rfc7231#section-4.3.2">HEAD</a> and <a href="https://tools.ietf.org/html/rfc7231#section-4.3.5">DELETE</a>), <code>requestBody</code> is permitted but does not have well-defined semantics and <em class="rfc2119">SHOULD</em> be avoided if possible.</td>
</tr>
<tr>
<td><span id="stepSuccessCriteria"></span>successCriteria</td>
<td style="text-align:center">[<a href="#criterion-object">Criterion Object</a>]</td>
<td>A list of assertions to determine the success of the step. Each assertion is described using a <a href="#criterion-object">Criterion Object</a>. All assertions <code><em class="rfc2119">MUST</em></code> be satisfied for the step to be deemed successful.</td>
</tr>
<tr>
<td><span id="stepOnSuccess"></span>onSuccess</td>
<td style="text-align:center">[<a href="#success-action-object">Success Action Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>An array of success action objects that specify what to do upon step success. If omitted, the next sequential step shall be executed as the default behavior. If multiple success actions have similar <code>criteria</code>, the first sequential action matching the criteria <em class="rfc2119">SHALL</em> be the action executed. If a success action is already defined at the <a href="#workflow-object">Workflow</a>, the new definition will override it but can never remove it. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to a success action defined in the <a href="#components-object">components</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate success actions.</td>
</tr>
<tr>
<td><span id="stepOnFailure"></span>onFailure</td>
<td style="text-align:center">[<a href="#failure-action-object">Failure Action Object</a> | <a href="#reusable-object">Reusable Object</a>]</td>
<td>An array of failure action objects that specify what to do upon step failure. If omitted, the default behavior is to break and return. If multiple failure actions have similar <code>criteria</code>, the first sequential action matching the criteria <em class="rfc2119">SHALL</em> be the action executed. If a failure action is already defined at the <a href="#workflow-object">Workflow</a>, the new definition will override it but can never remove it. If a Reusable Object is provided, it <em class="rfc2119">MUST</em> link to a failure action defined in the <a href="#components-object">components</a> of the current Arazzo document. The list <em class="rfc2119">MUST NOT</em> include duplicate failure actions.</td>
</tr>
<tr>
<td><span id="stepOutputs"></span>outputs</td>
<td style="text-align:center">Map[<code>string</code>, {expression}]</td>
<td>A map between a friendly name and a dynamic output value defined using a <a href="#runtime-expressions">runtime expression</a>. The name <em class="rfc2119">MUST</em> use keys that match the regular expression: <code>^[a-zA-Z0-9\.\-_]+$</code>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="step-object-example"><div class="header-wrapper"><h5 id="x4-6-5-2-step-object-example"><bdi class="secno">4.6.5.2 </bdi>Step Object Example</h5><a class="self-link" href="#step-object-example" aria-label="Permalink for Section 4.6.5.2"></a></div>
<p><strong>Single step</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-attr">stepId:</span> <span class="hljs-string">loginStep</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">step</span> <span class="hljs-string">demonstrates</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">login</span> <span class="hljs-string">step</span>
<span class="hljs-attr">operationId:</span> <span class="hljs-string">loginUser</span>
<span class="hljs-attr">parameters:</span>
    <span class="hljs-comment"># parameters to inject into the loginUser operation (parameter name must be resolvable at the referenced operation and the value is determined using {expression} syntax)</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
      <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.username</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">password</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
      <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.password</span>
<span class="hljs-attr">successCriteria:</span>
    <span class="hljs-comment"># assertions to determine step was successful</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
<span class="hljs-attr">outputs:</span>
    <span class="hljs-comment"># outputs from this step</span>
    <span class="hljs-attr">tokenExpires:</span> <span class="hljs-string">$response.header.X-Expires-After</span>
    <span class="hljs-attr">rateLimit:</span> <span class="hljs-string">$response.header.X-Rate-Limit</span>
</code></pre>
<p><strong>Multiple steps</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-attr">steps:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">stepId:</span> <span class="hljs-string">loginStep</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">step</span> <span class="hljs-string">demonstrates</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">login</span> <span class="hljs-string">step</span>
    <span class="hljs-attr">operationId:</span> <span class="hljs-string">loginUser</span>
    <span class="hljs-attr">parameters:</span>
        <span class="hljs-comment"># parameters to inject into the loginUser operation (parameter name must be resolvable at the referenced operation and the value is determined using {expression} syntax)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.username</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">password</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.password</span>
    <span class="hljs-attr">successCriteria:</span>
        <span class="hljs-comment"># assertions to determine step was successful</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">outputs:</span>
        <span class="hljs-comment"># outputs from this step</span>
        <span class="hljs-attr">tokenExpires:</span> <span class="hljs-string">$response.header.X-Expires-After</span>
        <span class="hljs-attr">rateLimit:</span> <span class="hljs-string">$response.header.X-Rate-Limit</span>
        <span class="hljs-attr">sessionToken:</span> <span class="hljs-string">$response.body</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">stepId:</span> <span class="hljs-string">getPetStep</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">retrieve</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">by</span> <span class="hljs-string">status</span> <span class="hljs-string">from</span> <span class="hljs-string">the</span> <span class="hljs-string">GET</span> <span class="hljs-string">pets</span> <span class="hljs-string">endpoint</span>
    <span class="hljs-attr">operationPath:</span> <span class="hljs-string">'{$sourceDescriptions.petStoreDescription.url}#/paths/~1pet~1findByStatus/get'</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">status</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">'available'</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Authorization</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">$steps.loginUser.outputs.sessionToken</span>
    <span class="hljs-attr">successCriteria:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
    <span class="hljs-attr">outputs:</span>
        <span class="hljs-comment"># outputs from this step</span>
        <span class="hljs-attr">availablePets:</span> <span class="hljs-string">$response.body</span>
</code></pre>
</section></section><section id="parameter-object"><div class="header-wrapper"><h4 id="x4-6-6-parameter-object"><bdi class="secno">4.6.6 </bdi>Parameter Object</h4><a class="self-link" href="#parameter-object" aria-label="Permalink for Section 4.6.6"></a></div>
<p>Describes a single step parameter. A unique parameter is defined by the combination of a <code>name</code> and <code>in</code> fields. There are four possible locations specified by the <code>in</code> field:</p>
<ul>
<li>path - Used together with OpenAPI style <a href="https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#path-templating">Path Templating</a>, where the parameter value is actually part of the operation’s URL. This does not include the host or base path of the API. For example, in /items/{itemId}, the path parameter is itemId.</li>
<li>query - Parameters that are appended to the URL. For example, in <code>/items?id=###</code>, the query parameter is <code>id</code>.</li>
<li>header - Custom headers that are expected as part of the request. Note that [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7230" title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">RFC7230</a></cite>] <a href="https://tools.ietf.org/html/rfc7230#page-22">Page 22</a> states header names are case insensitive.</li>
<li>cookie - Used to pass a specific cookie value to the source API.</li>
</ul>
<section id="fixed-fields-4"><div class="header-wrapper"><h5 id="x4-6-6-1-fixed-fields"><bdi class="secno">4.6.6.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-4" aria-label="Permalink for Section 4.6.6.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="parameterName"></span> name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the parameter. Parameter names are <em>case sensitive</em>.</td>
</tr>
<tr>
<td><span id="parameterIn"></span> in</td>
<td style="text-align:center"><code>string</code></td>
<td>The name location of the parameter. Possible values are <code>"path"</code>, <code>"query"</code>, <code>"header"</code>, <code>"cookie"</code>, or <code>"body"</code>.  When the step in context specifies a <code>workflowId</code>, then all parameters map to workflow inputs. In all other scenarios (e.g., a step specifies an <code>operationId</code>), the <code>in</code> field <em class="rfc2119">MUST</em> be specified.</td>
</tr>
<tr>
<td><span id="parameterValue"></span> value</td>
<td style="text-align:center">Any | {expression}</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The value to pass in the parameter. The value can be a constant or an <a href="#runtime-expressions">Runtime Expression</a> to be evaluated and passed to the referenced operation or workflow.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="parameter-object-example"><div class="header-wrapper"><h5 id="x4-6-6-2-parameter-object-example"><bdi class="secno">4.6.6.2 </bdi>Parameter Object Example</h5><a class="self-link" href="#parameter-object-example" aria-label="Permalink for Section 4.6.6.2"></a></div>
<p><strong>Query Example</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.username</span>
</code></pre>
<p><strong>Header Example</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">X-Api-Key</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
  <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.x-api-key</span>
</code></pre>
</section></section><section id="success-action-object"><div class="header-wrapper"><h4 id="x4-6-7-success-action-object"><bdi class="secno">4.6.7 </bdi>Success Action Object</h4><a class="self-link" href="#success-action-object" aria-label="Permalink for Section 4.6.7"></a></div>
<p>A single success action which describes an action to take upon success of a workflow step. There are two possible values for the <code>type</code> field.</p>
<ul>
<li>end - The workflow ends, and context returns to the caller with applicable outputs</li>
<li>goto - A one-way transfer of workflow control to the specified label (either a <code>workflowId</code> or <code>stepId</code>)</li>
</ul>
<section id="fixed-fields-5"><div class="header-wrapper"><h5 id="x4-6-7-1-fixed-fields"><bdi class="secno">4.6.7.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-5" aria-label="Permalink for Section 4.6.7.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="successActionName"></span> name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the success action. Names are <em>case sensitive</em>.</td>
</tr>
<tr>
<td><span id="successActionType"></span> type</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The type of action to take. Possible values are <code>"end"</code> or <code>"goto"</code>.</td>
</tr>
<tr>
<td><span id="successWorkflowId"></span> workflowId</td>
<td style="text-align:center"><code>string</code></td>
<td>The <a href="#fixed-fields-2">workflowId</a> referencing an existing workflow within the Arazzo Description to transfer to upon success of the step. This field is only relevant when the <code>type</code> field value is <code>"goto"</code>. If multiple <code>arazzo</code> type <code>sourceDescriptions</code> are defined, then the <code>workflowId</code> <em class="rfc2119">MUST</em> be specified using a <a href="#runtime-expressions">runtime expression</a> (e.g., <code>$sourceDescriptions.&lt;name&gt;.&lt;workflowId&gt;</code>) to avoid ambiguity or potential clashes.  This field is mutually exclusive to <code>stepId</code>.</td>
</tr>
<tr>
<td><span id="successStepId"></span> stepId</td>
<td style="text-align:center"><code>string</code></td>
<td>The <code>stepId</code> to transfer to upon success of the step. This field is only relevant when the <code>type</code> field value is <code>"goto"</code>. The referenced <code>stepId</code> <em class="rfc2119">MUST</em> be within the current workflow. This field is mutually exclusive to <code>workflowId</code>.</td>
</tr>
<tr>
<td><span id="successCriteria"></span> criteria</td>
<td style="text-align:center">[<a href="#criterion-object">Criterion Object</a>]</td>
<td>A list of assertions to determine if this action <em class="rfc2119">SHALL</em> be executed. Each assertion is described using a <a href="#criterion-object">Criterion Object</a>. All criteria assertions <code><em class="rfc2119">MUST</em></code> be satisfied for the action to be executed.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="success-action-object-example"><div class="header-wrapper"><h5 id="x4-6-7-2-success-action-object-example"><bdi class="secno">4.6.7.2 </bdi>Success Action Object Example</h5><a class="self-link" href="#success-action-object-example" aria-label="Permalink for Section 4.6.7.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">name:</span> <span class="hljs-string">JoinWaitingList</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">goto</span>
<span class="hljs-attr">stepId:</span> <span class="hljs-string">joinWaitingListStep</span>
<span class="hljs-attr">criteria:</span>
    <span class="hljs-comment"># assertions to determine if this success action should be executed</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">context:</span> <span class="hljs-string">$response.body</span>
      <span class="hljs-attr">condition:</span> <span class="hljs-string">$[?count(@.pets)</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">0</span><span class="hljs-string">]</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">jsonpath</span>
</code></pre>
</section></section><section id="failure-action-object"><div class="header-wrapper"><h4 id="x4-6-8-failure-action-object"><bdi class="secno">4.6.8 </bdi>Failure Action Object</h4><a class="self-link" href="#failure-action-object" aria-label="Permalink for Section 4.6.8"></a></div>
<p>A single failure action which describes an action to take upon failure of a workflow step. There are three possible values for the <code>type</code> field.</p>
<ul>
<li>end - The workflow ends, and context returns to the caller with applicable outputs</li>
<li>retry - The current step will be retried. The retry will be constrained by the <code>retryAfter</code> and <code>retryLimit</code> fields. If a <code>stepId</code> or <code>workflowId</code> are specified, then the reference is executed and the context is returned, after which the current step is retried.</li>
<li>goto - A one-way transfer of workflow control to the specified label (either a <code>workflowId</code> or <code>stepId</code>)</li>
</ul>
<section id="fixed-fields-6"><div class="header-wrapper"><h5 id="x4-6-8-1-fixed-fields"><bdi class="secno">4.6.8.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-6" aria-label="Permalink for Section 4.6.8.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="failureActionName"></span> name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the failure action. Names are <em>case sensitive</em>.</td>
</tr>
<tr>
<td><span id="failureActionType"></span> type</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The type of action to take. Possible values are <code>"end"</code>, <code>"retry"</code>, or <code>"goto"</code>.</td>
</tr>
<tr>
<td><span id="failureWorkflowId"></span> workflowId</td>
<td style="text-align:center"><code>string</code></td>
<td>The <a href="#fixed-fields-2">workflowId</a> referencing an existing workflow within the Arazzo Description to transfer to upon failure of the step. This field is only relevant when the <code>type</code> field value is <code>"goto"</code> or <code>"retry"</code>. If multiple <code>arazzo</code> type <code>sourceDescriptions</code> are defined, then the <code>workflowId</code> <em class="rfc2119">MUST</em> be specified using a <a href="#runtime-expressions">runtime expression</a> (e.g., <code>$sourceDescriptions.&lt;name&gt;.&lt;workflowId&gt;</code>) to avoid ambiguity or potential clashes.  This field is mutually exclusive to <code>stepId</code>. When used with <code>"retry"</code>, context transfers back upon completion of the specified workflow.</td>
</tr>
<tr>
<td><span id="failureStepId"></span> stepId</td>
<td style="text-align:center"><code>string</code></td>
<td>The <code>stepId</code> to transfer to upon failure of the step. This field is only relevant when the <code>type</code> field value is <code>"goto"</code> or <code>"retry"</code>. The referenced <code>stepId</code> <em class="rfc2119">MUST</em> be within the current workflow. This field is mutually exclusive to <code>workflowId</code>. When used with <code>"retry"</code>, context transfers back upon completion of the specified step.</td>
</tr>
<tr>
<td><span id="failureRetryAfter"></span> retryAfter</td>
<td style="text-align:center"><code>number</code></td>
<td>A non-negative decimal indicating the seconds to delay after the step failure before another attempt <em class="rfc2119">SHALL</em> be made. <strong>Note:</strong> if an HTTP <a href="https://tools.ietf.org/html/rfc9110.html#name-retry-after">Retry-After</a> response header was returned to a step from a targeted operation, then it <em class="rfc2119">SHOULD</em> overrule this particular field value. This field only applies when the <code>type</code> field value is <code>"retry"</code> or <code>"function"</code>.</td>
</tr>
<tr>
<td><span id="failureRetryLimit"></span> retryLimit</td>
<td style="text-align:center"><code>integer</code></td>
<td>A non-negative integer indicating how many attempts to retry the step <em class="rfc2119">MAY</em> be attempted before failing the overall step. If not specified then a single retry <em class="rfc2119">SHALL</em> be attempted. This field only applies when the <code>type</code> field value is <code>"retry"</code>. The <code>retryLimit</code> <em class="rfc2119">MUST</em> be exhausted prior to executing subsequent failure actions.</td>
</tr>
<tr>
<td><span id="failureCriteria"></span> criteria</td>
<td style="text-align:center">[<a href="#criterion-object">Criterion Object</a>]</td>
<td>A list of assertions to determine if this action <em class="rfc2119">SHALL</em> be executed. Each assertion is described using a <a href="#criterion-object">Criterion Object</a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="failure-action-object-example"><div class="header-wrapper"><h5 id="x4-6-8-2-failure-action-object-example"><bdi class="secno">4.6.8.2 </bdi>Failure Action Object Example</h5><a class="self-link" href="#failure-action-object-example" aria-label="Permalink for Section 4.6.8.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">name:</span> <span class="hljs-string">retryStep</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">retry</span>
<span class="hljs-attr">retryAfter:</span> <span class="hljs-number">1</span>
<span class="hljs-attr">retryLimit:</span> <span class="hljs-number">5</span>
<span class="hljs-attr">criteria:</span>
    <span class="hljs-comment"># assertions to determine if this action should be executed</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">503</span>
</code></pre>
</section></section><section id="components-object"><div class="header-wrapper"><h4 id="x4-6-9-components-object"><bdi class="secno">4.6.9 </bdi>Components Object</h4><a class="self-link" href="#components-object" aria-label="Permalink for Section 4.6.9"></a></div>
<p>Holds a set of reusable objects for different aspects of the Arazzo Specification. All objects defined within the components object will have no effect on the Arazzo Description unless they are explicitly referenced from properties outside the components object.</p>
<p>Components are scoped to the Arazzo document they are defined in. For example, if a step defined in Arazzo document “A” references a workflow defined in Arazzo document “B”, the components in “A” are not considered when evaluating the workflow referenced in “B”.</p>
<section id="fixed-fields-7"><div class="header-wrapper"><h5 id="x4-6-9-1-fixed-fields"><bdi class="secno">4.6.9.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-7" aria-label="Permalink for Section 4.6.9.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:left">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="componentInputs"></span> inputs</td>
<td style="text-align:left">Map[<code>string</code>, <code>JSON Schema</code>]</td>
<td>An object to hold reusable JSON Schema objects to be referenced from workflow inputs.</td>
</tr>
<tr>
<td><span id="componentParameters"></span>parameters</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#parameter-object">Parameter Object</a>]</td>
<td>An object to hold reusable Parameter Objects</td>
</tr>
<tr>
<td><span id="componentSuccessActions"></span>successActions</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#success-action-object">Success Action Object</a>]</td>
<td>An object to hold reusable Success Actions Objects.</td>
</tr>
<tr>
<td><span id="componentFailureActions"></span>failureActions</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#failure-action-object">Failure Action Object</a>]</td>
<td>An object to hold reusable Failure Actions Objects.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>All the fixed fields declared above are objects that <em class="rfc2119">MUST</em> use keys that match the regular expression: <code>^[a-zA-Z0-9\.\-_]+$</code>. The key is used to refer to the input or parameter in other parts of the Workflow Description.</p>
<p>Field Name Examples:</p>
<pre class="highlight "><code aria-busy="false" class="hljs">
User
User_1
User_Name
user-name
my.org.User
</code></pre>
</section><section id="components-object-example"><div class="header-wrapper"><h5 id="x4-6-9-2-components-object-example"><bdi class="secno">4.6.9.2 </bdi>Components Object Example</h5><a class="self-link" href="#components-object-example" aria-label="Permalink for Section 4.6.9.2"></a></div>
<pre class="nohighlight"><code>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">parameters:</span>
    <span class="hljs-attr">storeId:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">storeId</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
      <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.x-store-id</span>
  <span class="hljs-attr">inputs:</span>
    <span class="hljs-attr">pagination:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">page:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
        <span class="hljs-attr">pageSize:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
  <span class="hljs-attr">failureActions:</span>
    <span class="hljs-attr">refreshToken:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">refreshExpiredToken</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">retry</span>
      <span class="hljs-attr">retryAfter:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">retryLimit:</span> <span class="hljs-number">5</span>
      <span class="hljs-attr">workflowId:</span> <span class="hljs-string">refreshTokenWorkflowId</span>
      <span class="hljs-attr">criteria:</span>
          <span class="hljs-comment"># assertions to determine if this action should be executed</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">401</span>       
</code></pre>
<pre class="nohighlight"><code>
<span class="hljs-attr">"components"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"storeId"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"storeId"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"in"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"header"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$inputs.x-store-id"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"inputs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"pagination"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integer"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"int32"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"pageSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integer"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"int32"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"failureActions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"refreshToken"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"refreshExpiredToken"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"retry"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"retryAfter"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"retryLimit"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"workflowId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"refreshTokenWorkflowId"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"criteria"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"condition"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{$statusCode == 401}"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</section></section><section id="reusable-object"><div class="header-wrapper"><h4 id="x4-6-10-reusable-object"><bdi class="secno">4.6.10 </bdi>Reusable Object</h4><a class="self-link" href="#reusable-object" aria-label="Permalink for Section 4.6.10"></a></div>
<p>A simple object to allow referencing of objects contained within the <a href="#components-object">Components Object</a>. It can be used from locations within steps or workflows in the Arazzo Description. <strong>Note</strong> - Input Objects <em class="rfc2119">MUST</em> use standard JSON Schema referencing via the <code>$ref</code> keyword while all non JSON Schema objects use this object and its expression based referencing mechanism.</p>
<section id="fixed-fields-8"><div class="header-wrapper"><h5 id="x4-6-10-1-fixed-fields"><bdi class="secno">4.6.10.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-8" aria-label="Permalink for Section 4.6.10.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="reusableObjectReference"></span>reference</td>
<td style="text-align:center"><code>{expression}</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A <a href="#runtime-expressions">runtime expression</a> used to reference the desired object.</td>
</tr>
<tr>
<td><span id="reusableObjectValue"></span>value</td>
<td style="text-align:center"><code>string</code></td>
<td>Sets a value of the referenced parameter. This is only applicable for parameter object references.</td>
</tr>
</tbody>
</table>
<p>This object cannot be extended with additional properties and any properties added <em class="rfc2119">MUST</em> be ignored.</p>
</section><section id="reusable-object-example"><div class="header-wrapper"><h5 id="x4-6-10-2-reusable-object-example"><bdi class="secno">4.6.10.2 </bdi>Reusable Object Example</h5><a class="self-link" href="#reusable-object-example" aria-label="Permalink for Section 4.6.10.2"></a></div>
<pre class="nohighlight"><code>
  <span class="hljs-attr">reference:</span> <span class="hljs-string">$components.successActions.notify</span>
</code></pre>
<pre class="nohighlight"><code>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"reference"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$components.successActions.notify"</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<pre class="nohighlight"><code>
  <span class="hljs-attr">reference:</span> <span class="hljs-string">$components.parameters.page</span>
  <span class="hljs-attr">value:</span> <span class="hljs-number">1</span>
</code></pre>
<pre class="nohighlight"><code>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"reference"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$components.parameters.page"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
</section></section><section id="criterion-object"><div class="header-wrapper"><h4 id="x4-6-11-criterion-object"><bdi class="secno">4.6.11 </bdi>Criterion Object</h4><a class="self-link" href="#criterion-object" aria-label="Permalink for Section 4.6.11"></a></div>
<p>An object used to specify the context, conditions, and condition types that can be used to prove or satisfy assertions specified in <a href="#step-object">Step Object</a> <code>successCriteria</code>, <a href="#success-action-object">Success Action Object</a> <code>criteria</code>, and <a href="#failure-action-object">Failure Action Object</a> <code>criteria</code>.</p>
<p>There are four flavors of conditions supported:</p>
<ul>
<li>simple - where basic literals, operators, and loose comparisons are used in combination with <a href="#runtime-expressions">Runtime Expressions</a>.</li>
<li>regex - where a regex pattern is applied on the supplied context. The context is defined by a <a href="#runtime-expressions">Runtime Expression</a>.</li>
<li>jsonpath - where a JSONPath expression is applied. The root node context is defined by a <a href="#runtime-expressions">Runtime Expression</a>.</li>
<li>xpath - where an XPath expression is applied. The root node context is defined by a <a href="#runtime-expressions">Runtime Expression</a>.</li>
</ul>
<section id="literals"><div class="header-wrapper"><h5 id="x4-6-11-1-literals"><bdi class="secno">4.6.11.1 </bdi>Literals</h5><a class="self-link" href="#literals" aria-label="Permalink for Section 4.6.11.1"></a></div>
<p>As part of a condition expression, you can use <code>boolean</code>, <code>null</code>, <code>number</code>, or <code>string</code> data types.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Literal value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boolean</code></td>
<td><code>true</code> or <code>false</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td><code>null</code></td>
</tr>
<tr>
<td><code>number</code></td>
<td>Any number format supported in <a href="#data-types">Data Types</a></td>
</tr>
<tr>
<td><code>string</code></td>
<td>Strings <em class="rfc2119">MUST</em> use single quotes (‘) around the string. To use a literal single quote, escape the literal single quote using an additional single quote (’').</td>
</tr>
</tbody>
</table>
</section><section id="operators"><div class="header-wrapper"><h5 id="x4-6-11-2-operators"><bdi class="secno">4.6.11.2 </bdi>Operators</h5><a class="self-link" href="#operators" aria-label="Permalink for Section 4.6.11.2"></a></div>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>Less than</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>Less than or equal</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>Greater than</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>Greater than or equal</td>
</tr>
<tr>
<td><code>==</code></td>
<td>Equal</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>Not equal</td>
</tr>
<tr>
<td><code>!</code></td>
<td>Not</td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>And</td>
</tr>
<tr>
<td><code>||</code></td>
<td>Or</td>
</tr>
<tr>
<td><code>()</code></td>
<td>Logical Grouping</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>Index (0-based)</td>
</tr>
<tr>
<td><code>.</code></td>
<td>Property de-reference</td>
</tr>
</tbody>
</table>
<p>String comparisons <code><em class="rfc2119">MUST</em></code> be case insensitive.</p>
</section><section id="fixed-fields-9"><div class="header-wrapper"><h5 id="x4-6-11-3-fixed-fields"><bdi class="secno">4.6.11.3 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-9" aria-label="Permalink for Section 4.6.11.3"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="criterionContext"></span>context</td>
<td style="text-align:center"><code>{expression}</code></td>
<td>A <a href="#runtime-expressions">runtime expression</a> used to set the context for the condition to be applied on. If <code>type</code> is specified, then the <code>context</code> <em class="rfc2119">MUST</em> be provided (e.g. <code>$response.body</code> would set the context that a JSONPath query expression could be applied to).</td>
</tr>
<tr>
<td><span id="criterionCondition"></span>condition</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The condition to apply. Conditions can be simple (e.g. <code>$statusCode == 200</code> which applies an operator on a value obtained from a runtime expression), or a regex, or a JSONPath expression. For regex or JSONPath, the <code>type</code> and <code>context</code> <em class="rfc2119">MUST</em> be specified.</td>
</tr>
<tr>
<td><span id="criterionType"></span>type</td>
<td style="text-align:center"><code>string</code> | <a href="#criterion-expression-type-object">Criterion Expression Type Object</a></td>
<td>The type of condition to be applied. If specified, the options allowed are <code>simple</code>, <code>regex</code>, <code>jsonpath</code> or <code>xpath</code>. If omitted, then the condition is assumed to be <code>simple</code>, which at most combines literals, operators and <a href="#runtime-expressions">Runtime Expressions</a>. If <code>jsonpath</code>, then the expression <em class="rfc2119">MUST</em> conform to <a href="https://tools.ietf.org/html/rfc9535">JSONPath</a>. If <code>xpath</code> the expression <em class="rfc2119">MUST</em> conform to <a href="https://www.w3.org/TR/xpath-31/#d2e24229">XML Path Language 3.1</a>. Should other variants of JSONPath or XPath be required, then a <a href="#criterion-expression-type-object">Criterion Expression Type Object</a> <em class="rfc2119">MUST</em> be specified.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="criterion-object-example"><div class="header-wrapper"><h5 id="x4-6-11-4-criterion-object-example"><bdi class="secno">4.6.11.4 </bdi>Criterion Object Example</h5><a class="self-link" href="#criterion-object-example" aria-label="Permalink for Section 4.6.11.4"></a></div>
<p><strong>Simple Condition Example</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-bullet">-</span> <span class="hljs-attr">condition:</span> <span class="hljs-string">$statusCode</span> <span class="hljs-string">==</span> <span class="hljs-number">200</span>
</code></pre>
<p><strong>Regex Condition Example</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-bullet">-</span> <span class="hljs-attr">context:</span> <span class="hljs-string">$statusCode</span>
  <span class="hljs-attr">condition:</span> <span class="hljs-string">'^200$'</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">regex</span>
</code></pre>
<p><strong>JSONPath Condition Example</strong></p>
<pre class="nohighlight"><code>
<span class="hljs-bullet">-</span> <span class="hljs-attr">context:</span> <span class="hljs-string">$response.body</span>
  <span class="hljs-attr">condition:</span> <span class="hljs-string">$[?count(@.pets)</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">0</span><span class="hljs-string">]</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">jsonpath</span>
</code></pre>
</section></section><section id="criterion-expression-type-object"><div class="header-wrapper"><h4 id="x4-6-12-criterion-expression-type-object"><bdi class="secno">4.6.12 </bdi>Criterion Expression Type Object</h4><a class="self-link" href="#criterion-expression-type-object" aria-label="Permalink for Section 4.6.12"></a></div>
<p>An object used to describe the type and version of an expression used within a <a href="#criterion-object">Criterion Object</a>. If this object is not defined, then the following defaults apply:</p>
<ul>
<li>JSONPath as described by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9535" title="JSONPath: Query Expressions for JSON">RFC9535</a></cite>]</li>
<li>XPath as described by <a href="https://www.w3.org/TR/xpath-31">XML Path Language 3.1</a></li>
</ul>
<p>Defining this object gives the ability to utilize tooling compatible with older versions of either JSONPath or XPath.</p>
<section id="fixed-fields-10"><div class="header-wrapper"><h5 id="x4-6-12-1-fixed-fields"><bdi class="secno">4.6.12.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-10" aria-label="Permalink for Section 4.6.12.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="criterionExpressionType"></span>type</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The type of condition to be applied. The options allowed are <code>jsonpath</code> or <code>xpath</code>.</td>
</tr>
<tr>
<td><span id="criterionExpressionVersion"></span>version</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A short hand string representing the version of the expression type being used. The allowed values for JSONPath are <code>draft-goessner-dispatch-jsonpath-00</code>. The allowed values for XPath are <code>xpath-30</code>, <code>xpath-20</code>, or <code>xpath-10</code>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="criterion-expression-type-example"><div class="header-wrapper"><h5 id="x4-6-12-2-criterion-expression-type-example"><bdi class="secno">4.6.12.2 </bdi>Criterion Expression Type Example</h5><a class="self-link" href="#criterion-expression-type-example" aria-label="Permalink for Section 4.6.12.2"></a></div>
<p><strong>JSONPath Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">type:</span> <span class="hljs-string">jsonpath</span>
  <span class="hljs-attr">version:</span> <span class="hljs-string">draft-goessner-dispatch-jsonpath-00</span>
</code></pre>
<p><strong>XPath Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">type:</span> <span class="hljs-string">xpath</span>
  <span class="hljs-attr">version:</span> <span class="hljs-string">xpath-30</span>
</code></pre>
</section></section><section id="request-body-object"><div class="header-wrapper"><h4 id="x4-6-13-request-body-object"><bdi class="secno">4.6.13 </bdi>Request Body Object</h4><a class="self-link" href="#request-body-object" aria-label="Permalink for Section 4.6.13"></a></div>
<p>A single request body describing the <code>Content-Type</code> and request body content to be passed by a step to an operation.</p>
<section id="fixed-fields-11"><div class="header-wrapper"><h5 id="x4-6-13-1-fixed-fields"><bdi class="secno">4.6.13.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-11" aria-label="Permalink for Section 4.6.13.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="requestBodyContentType"></span>contentType</td>
<td style="text-align:center"><code>string</code></td>
<td>The Content-Type for the request content. If omitted then refer to Content-Type specified at the targeted operation to understand serialization requirements.</td>
</tr>
<tr>
<td><span id="requestBodyPayload"></span>payload</td>
<td style="text-align:center">Any</td>
<td>A value representing the request body payload. The value can be a literal value or can contain <a href="#runtime-expressions">Runtime Expressions</a> which <em class="rfc2119">MUST</em> be evaluated prior to calling the referenced operation. To represent examples of media types that cannot be naturally represented in JSON or YAML, use a string value to contain the example, escaping where necessary.</td>
</tr>
<tr>
<td><span id="requestBodyReplacements"></span>replacements</td>
<td style="text-align:center">[<a href="#payload-replacement-object">Payload Replacement Object</a>]</td>
<td>A list of locations and values to set within a payload.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="requestbody-object-example"><div class="header-wrapper"><h5 id="x4-6-13-2-requestbody-object-example"><bdi class="secno">4.6.13.2 </bdi>RequestBody Object Example</h5><a class="self-link" href="#requestbody-object-example" aria-label="Permalink for Section 4.6.13.2"></a></div>
<p><strong>JSON Templated Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/json</span>
  <span class="hljs-attr">payload:</span> <span class="hljs-string">|
    {
      "petOrder": {
        "petId": "{$inputs.pet_id}",
        "couponCode": "{$inputs.coupon_code}",
        "quantity": "{$inputs.quantity}",
        "status": "placed",
        "complete": false
      }
    }
</span></code></pre>
<p><strong>JSON Object Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/json</span>
  <span class="hljs-attr">payload:</span> 
    <span class="hljs-attr">petOrder:</span>
      <span class="hljs-attr">petId:</span> <span class="hljs-string">$inputs.pet_id</span>
      <span class="hljs-attr">couponCode:</span> <span class="hljs-string">$inputs.coupon_code</span>
      <span class="hljs-attr">quantity:</span> <span class="hljs-string">$inputs.quantity</span>
      <span class="hljs-attr">status:</span> <span class="hljs-string">placed</span>
      <span class="hljs-attr">complete:</span> <span class="hljs-literal">false</span>
</code></pre>
<p><strong>Complete Runtime Expression</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/json</span>
  <span class="hljs-attr">payload:</span> <span class="hljs-string">$inputs.petOrderRequest</span>
</code></pre>
<p><strong>XML Templated Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/xml</span>
  <span class="hljs-attr">payload:</span> <span class="hljs-string">|
    &lt;petOrder&gt;
      &lt;petId&gt;{$inputs.pet_id}&lt;/petId&gt;
      &lt;couponCode&gt;{$inputs.coupon_code}&lt;/couponCode&gt;
      &lt;quantity&gt;{$inputs.quantity}&lt;/quantity&gt;
      &lt;status&gt;placed&lt;/status&gt;
      &lt;complete&gt;false&lt;/complete&gt;
    &lt;/petOrder&gt;
</span></code></pre>
<p><strong>Form Data Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/x-www-form-urlencoded</span>
  <span class="hljs-attr">payload:</span> 
    <span class="hljs-attr">client_id:</span> <span class="hljs-string">$inputs.clientId</span>
    <span class="hljs-attr">grant_type:</span> <span class="hljs-string">$inputs.grantType</span>
    <span class="hljs-attr">redirect_uri:</span> <span class="hljs-string">$inputs.redirectUri</span>
    <span class="hljs-attr">client_secret:</span> <span class="hljs-string">$inputs.clientSecret</span>
    <span class="hljs-attr">code:</span> <span class="hljs-string">$steps.browser-authorize.outputs.code</span>
    <span class="hljs-attr">scope:</span> <span class="hljs-string">$inputs.scope</span>  
</code></pre>
<p><strong>Form Data String Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/x-www-form-urlencoded</span>
  <span class="hljs-attr">payload:</span> <span class="hljs-string">"client_id={$inputs.clientId}&amp;grant_type={$inputs.grantType}&amp;redirect_uri={$inputs.redirectUri}&amp;client_secret={$inputs.clientSecret}&amp;code{$steps.browser-authorize.outputs.code}&amp;scope=$inputs.scope}"</span>
</code></pre>
</section></section><section id="payload-replacement-object"><div class="header-wrapper"><h4 id="x4-6-14-payload-replacement-object"><bdi class="secno">4.6.14 </bdi>Payload Replacement Object</h4><a class="self-link" href="#payload-replacement-object" aria-label="Permalink for Section 4.6.14"></a></div>
<p>Describes a location within a payload (e.g., a request body) and a value to set within the location.</p>
<section id="fixed-fields-12"><div class="header-wrapper"><h5 id="x4-6-14-1-fixed-fields"><bdi class="secno">4.6.14.1 </bdi>Fixed Fields</h5><a class="self-link" href="#fixed-fields-12" aria-label="Permalink for Section 4.6.14.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="payloadReplacementTarget"></span>target</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A <a href="https://tools.ietf.org/html/rfc6901">JSON Pointer</a> or <a href="https://www.w3.org/TR/xpath-31/#id-expressions">XPath Expression</a> which <em class="rfc2119">MUST</em> be resolved against the request body. Used to identify the location to inject the <code>value</code>.</td>
</tr>
<tr>
<td><span id="payloadReplacementValue"></span> value</td>
<td style="text-align:center">Any | {expression}</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The value set within the target location. The value can be a constant or a <a href="#runtime-expressions">Runtime Expression</a> to be evaluated and passed to the referenced operation or workflow.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="payload-replacement-object-example"><div class="header-wrapper"><h5 id="x4-6-14-2-payload-replacement-object-example"><bdi class="secno">4.6.14.2 </bdi>Payload Replacement Object Example</h5><a class="self-link" href="#payload-replacement-object-example" aria-label="Permalink for Section 4.6.14.2"></a></div>
<p><strong>Runtime Expression Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">target:</span> <span class="hljs-string">/petId</span>
  <span class="hljs-attr">value:</span> <span class="hljs-string">$inputs.pet_id</span>
</code></pre>
<p><strong>Literal Example</strong></p>
<pre class="nohighlight"><code>
  <span class="hljs-attr">target:</span> <span class="hljs-string">/quantity</span>
  <span class="hljs-attr">value:</span> <span class="hljs-number">10</span>
</code></pre>
</section></section></section><section id="runtime-expressions"><div class="header-wrapper"><h3 id="x4-7-runtime-expressions"><bdi class="secno">4.7 </bdi>Runtime Expressions</h3><a class="self-link" href="#runtime-expressions" aria-label="Permalink for Section 4.7"></a></div>
<p>A runtime expression allows values to be defined based on information that will be available within an HTTP message, an event message, and within objects serialized from the Arazzo document such as <a href="#workflow-object">workflows</a> or <a href="#step-object">steps</a>.</p>
<p>The runtime expression is defined by the following <a href="https://tools.ietf.org/html/rfc5234">ABNF</a> syntax:</p>
<pre class="nohighlight"><code>
      expression <span class="hljs-operator">=</span> ( <span class="hljs-string">"$url"</span> / <span class="hljs-string">"$method"</span> / <span class="hljs-string">"$statusCode"</span> / <span class="hljs-string">"$request."</span> source / <span class="hljs-string">"$response."</span> source / <span class="hljs-string">"$message."</span> source / <span class="hljs-string">"$inputs."</span> name / <span class="hljs-string">"$outputs."</span> name / <span class="hljs-string">"$steps."</span> name / <span class="hljs-string">"$workflows."</span> name / <span class="hljs-string">"$sourceDescriptions."</span> name / <span class="hljs-string">"$components."</span> name / <span class="hljs-string">"$components.parameters."</span> parameter-name)
      parameter-name <span class="hljs-operator">=</span> name <span class="hljs-comment">; Reuses 'name' rule for parameter names</span>
      source <span class="hljs-operator">=</span> ( header-reference / query-reference / path-reference / body-reference )
      header-reference <span class="hljs-operator">=</span> <span class="hljs-string">"header."</span> token
      query-reference <span class="hljs-operator">=</span> <span class="hljs-string">"query."</span> name
      path-reference <span class="hljs-operator">=</span> <span class="hljs-string">"path."</span> name
      body-reference <span class="hljs-operator">=</span> <span class="hljs-string">"body"</span> [<span class="hljs-string">"#"</span> json-pointer ]
      json-pointer    <span class="hljs-operator">=</span> *( <span class="hljs-string">"/"</span> reference-token )
      reference-token <span class="hljs-operator">=</span> *( unescaped / escaped )
      unescaped       <span class="hljs-operator">=</span> <span class="hljs-symbol">%x00-2E</span> / <span class="hljs-symbol">%x30-7D</span> / <span class="hljs-symbol">%x7F-10FFFF</span>
         <span class="hljs-comment">; %x2F ('/') and %x7E ('~') are excluded from 'unescaped'</span>
      escaped         <span class="hljs-operator">=</span> <span class="hljs-string">"~"</span> ( <span class="hljs-string">"0"</span> / <span class="hljs-string">"1"</span> )
        <span class="hljs-comment">; representing '~' and '/', respectively</span>
      name <span class="hljs-operator">=</span> *( <span class="hljs-keyword">CHAR</span> )
      token <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*tchar
      tchar <span class="hljs-operator">=</span> <span class="hljs-string">"!"</span> / <span class="hljs-string">"#"</span> / <span class="hljs-string">"$"</span> / <span class="hljs-string">"%"</span> / <span class="hljs-string">"&amp;"</span> / <span class="hljs-string">"'"</span> / <span class="hljs-string">"*"</span> / <span class="hljs-string">"+"</span> / <span class="hljs-string">"-"</span> / <span class="hljs-string">"."</span> /
        <span class="hljs-string">"^"</span> / <span class="hljs-string">"_"</span> / <span class="hljs-string">"`"</span> / <span class="hljs-string">"|"</span> / <span class="hljs-string">"~"</span> / <span class="hljs-keyword">DIGIT</span> / <span class="hljs-keyword">ALPHA</span>
</code></pre>
<section id="examples"><div class="header-wrapper"><h4 id="x4-7-1-examples"><bdi class="secno">4.7.1 </bdi>Examples</h4><a class="self-link" href="#examples" aria-label="Permalink for Section 4.7.1"></a></div>
<table>
<thead>
<tr>
<th>Source Location</th>
<th style="text-align:left">example expression</th>
<th style="text-align:left">notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP Method</td>
<td style="text-align:left"><code>$method</code></td>
<td style="text-align:left">The allowable values for the <code>$method</code> will be those for the HTTP operation.</td>
</tr>
<tr>
<td>Requested media type</td>
<td style="text-align:left"><code>$request.header.accept</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>Request parameter</td>
<td style="text-align:left"><code>$request.path.id</code></td>
<td style="text-align:left">Request parameters <em class="rfc2119">MUST</em> be declared in the <code>parameters</code> section of the parent operation or they cannot be evaluated. This includes request headers.</td>
</tr>
<tr>
<td>Request body property</td>
<td style="text-align:left"><code>$request.body#/user/uuid</code></td>
<td style="text-align:left">In operations which accept payloads, references may be made to portions of the <code>requestBody</code> or the entire body.</td>
</tr>
<tr>
<td>Request URL</td>
<td style="text-align:left"><code>$url</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>Response value</td>
<td style="text-align:left"><code>$response.body#/status</code></td>
<td style="text-align:left">In operations which return payloads, references may be made to portions of the response body or the entire body.</td>
</tr>
<tr>
<td>Response header</td>
<td style="text-align:left"><code>$response.header.Server</code></td>
<td style="text-align:left">Single header values only are available</td>
</tr>
<tr>
<td>workflow input</td>
<td style="text-align:left"><code>$inputs.username</code> or <code>$workflows.foo.inputs.username</code></td>
<td style="text-align:left">Single input values only are available</td>
</tr>
<tr>
<td>Step output value</td>
<td style="text-align:left"><code>$steps.someStep.pets</code></td>
<td style="text-align:left">In situations where the output named property return payloads, references may be made to portions of the response body or the entire body.</td>
</tr>
<tr>
<td>Workflow output value</td>
<td style="text-align:left"><code>$outputs.bar</code> or <code>$workflows.foo.outputs.bar</code></td>
<td style="text-align:left">Single input values only are available</td>
</tr>
<tr>
<td>Components parameter</td>
<td style="text-align:left"><code>$components.parameters.foo</code></td>
<td style="text-align:left">Accesses a foo parameter defined within the Components Object.</td>
</tr>
</tbody>
</table>
<p>Runtime expressions preserve the type of the referenced value.
Expressions can be embedded into string values by surrounding the expression with <code>{}</code> curly braces.</p>
</section></section><section id="specification-extensions"><div class="header-wrapper"><h3 id="x4-8-specification-extensions"><bdi class="secno">4.8 </bdi>Specification Extensions</h3><a class="self-link" href="#specification-extensions" aria-label="Permalink for Section 4.8"></a></div>
<p>While the Arazzo Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points.</p>
<p>The extension properties are implemented as patterned fields that are always prefixed by <code>"x-"</code>.</p>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="arazzoExtensions"></span>^x-</td>
<td style="text-align:center">Any</td>
<td>Allows extensions to the Arazzo Specification. The field name <em class="rfc2119">MUST</em> begin with <code>x-</code>, for example, <code>x-internal-id</code>. Field names beginning <code>x-oai-</code>, <code>x-oas-</code>, and <code>x-arazzo</code> are reserved for uses defined by the <a href="https://www.openapis.org/">OpenAPI Initiative</a>. The value <em class="rfc2119">MAY</em> be <code>null</code>, a primitive, an array or an object.</td>
</tr>
</tbody>
</table>
<p>The extensions may or may not be supported by the available tooling, but those may be extended as well to add requested support (if tools are internal or open-sourced).</p>
</section></section><section id="security-considerations"><div class="header-wrapper"><h2 id="x5-security-considerations"><bdi class="secno">5. </bdi>Security Considerations</h2><a class="self-link" href="#security-considerations" aria-label="Permalink for Section 5."></a></div>
<p>The Arazzo Specification does not enforce a security mechanism. Security is left to the implementer, though TLS, specifically HTTPS may be recommended for exchanging sensitive workflows.</p>
<p>Arazzo Descriptions can be JSON or YAML values. As such, all security considerations defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] and within YAML version <a href="https://yaml.org/spec/1.2/spec.html">1.2</a> apply.</p>
<p>Arazzo Descriptions are frequently written by untrusted third parties, to be deployed on public Internet servers. Processing an Arazzo Description can cause both safe and unsafe operations to be performed on arbitrary network resources. It is the responsibility of the description consumer to ensure that the operations performed are not harmful.</p>
</section><section id="iana-considerations"><div class="header-wrapper"><h2 id="x6-iana-considerations"><bdi class="secno">6. </bdi>IANA Considerations</h2><a class="self-link" href="#iana-considerations" aria-label="Permalink for Section 6."></a></div>
<p>The proposed MIME media types for the Arazzo Specification are described below.</p>
<section id="application-vnd-oai-workflows"><div class="header-wrapper"><h3 id="x6-1-application-vnd-oai-workflows"><bdi class="secno">6.1 </bdi>application/vnd.oai.workflows</h3><a class="self-link" href="#application-vnd-oai-workflows" aria-label="Permalink for Section 6.1"></a></div>
<p>The default (or general) MIME type for Arazzo documents (e.g. workflows) is defined as follows:</p>
<p>  Media type name: application</p>
<p>  Media subtype name: vnd.oai.workflows</p>
<p>  Required parameters: N/A</p>
<p>  Optional parameters: version (e.g. version=1.0.0 to indicate that the type of workflow conforms to version 1.0.0 of the Arazzo Specification).</p>
<p>  Encoding considerations: Encoding considerations are identical to those specified for the <code>application/json</code> and <code>application/yaml</code> media types, respectively.</p>
<p>  Security considerations: See <a href="#security-considerations">security considerations</a> above.</p>
<p>  Interoperability considerations: N/A</p>
<p><strong>Note:</strong> When using the <code>application/vnd.oai.workflows</code> media type the consumer should be prepared to receive YAML formatted content</p>
</section><section id="application-vnd-oai-workflows-json"><div class="header-wrapper"><h3 id="x6-2-application-vnd-oai-workflows-json"><bdi class="secno">6.2 </bdi>application/vnd.oai.workflows+json</h3><a class="self-link" href="#application-vnd-oai-workflows-json" aria-label="Permalink for Section 6.2"></a></div>
<p>The proposed MIME media type for Arazzo documents (e.g. workflows) that require a JSON-specific media type is defined as follows:</p>
<p>  Media type name: application</p>
<p>  Media subtype name: vnd.oai.workflows+json</p>
<p>  Required parameters: N/A</p>
<p>  Optional parameters: version (e.g. version=1.0.0 to indicate that the type of Arazzo document conforms to version 1.0.0 of the Arazzo Specification).</p>
<p>  Encoding considerations: Encoding considerations are identical to those specified for the <code>application/json</code> media type.</p>
<p>  Security considerations: See <a href="#security-considerations">security considerations</a> above.</p>
<p>  Interoperability considerations: N/A</p>
</section><section id="application-vnd-oai-workflows-yaml"><div class="header-wrapper"><h3 id="x6-3-application-vnd-oai-workflows-yaml"><bdi class="secno">6.3 </bdi>application/vnd.oai.workflows+yaml</h3><a class="self-link" href="#application-vnd-oai-workflows-yaml" aria-label="Permalink for Section 6.3"></a></div>
<p>The proposed MIME media type for Arazzo documents (e.g. workflows) that require a YAML-specific media type is defined as follows:</p>
<p>  Media type name: application</p>
<p>  Media subtype name: vnd.oai.workflows+yaml</p>
<p>  Required parameters: N/A</p>
<p>  Optional parameters: version (e.g. version=1.0.0 to indicate that the type of Arazzo document conforms to version 1.0.0 of the Arazzo Specification).</p>
<p>  Encoding considerations: Encoding considerations are identical to those specified for the <code>application/yaml</code> media type.</p>
<p>  Security considerations: See <a href="#security-considerations">security considerations</a> above.</p>
<p>  Interoperability considerations: N/A</p>
</section></section><section id="appendix-a-revision-history"><div class="header-wrapper"><h2 id="x7-appendix-a-revision-history"><bdi class="secno">7. </bdi>Appendix A: Revision History</h2><a class="self-link" href="#appendix-a-revision-history" aria-label="Permalink for Section 7."></a></div>
<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0.0</td>
<td>2024-05-29</td>
<td>First release of the Arazzo Specification</td>
</tr>
</tbody>
</table>

</section><section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div><section id="informative-references"><div class="header-wrapper"><h3 id="a-1-informative-references"><bdi class="secno">A.1 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix A.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc3986">[RFC3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc7230">[RFC7230]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7230.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7230.html">https://httpwg.org/specs/rfc7230.html</a>
    </dd><dt id="bib-rfc7231">[RFC7231]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc8259">[RFC8259]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. December 2017. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
    </dd><dt id="bib-rfc9535">[RFC9535]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9535"><cite>JSONPath: Query Expressions for JSON</cite></a>. S. Gössner, Ed.; G. Normington, Ed.; C. Bormann, Ed..  IETF. February 2024. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9535">https://www.rfc-editor.org/rfc/rfc9535</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-definitions" aria-label="Links in this document to definition: Definitions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-definitions" aria-label="Permalink for definition: Definitions. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-arazzo-description" aria-label="Links in this document to definition: Arazzo Description">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-arazzo-description" aria-label="Permalink for definition: Arazzo Description. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>