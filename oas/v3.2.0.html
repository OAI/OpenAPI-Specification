<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta name="generator" content="ReSpec 35.5.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>




<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-831873-42"></script>

<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'UA-831873-42');
</script>


<title>OpenAPI Specification v3.2.0</title>
<meta name="description" content="The OpenAPI Specification (OAS) defines a standard, programming language-agnostic interface description for HTTP APIs.">

<meta name="color-scheme" content="light dark">
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:italic}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"ยง";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>

<link rel="canonical" href="https://spec.openapis.org/oas/v3.2.0.html">
<style>
var:hover{text-decoration:underline;cursor:pointer}
var.respec-hl{color:var(--color,#000);background-color:var(--bg-color);box-shadow:0 0 0 2px var(--bg-color)}
@media (prefers-color-scheme:dark){
var.respec-hl{filter:saturate(.9) brightness(.9)}
}
var.respec-hl-c1{--bg-color:#f4d200}
var.respec-hl-c2{--bg-color:#ff87a2}
var.respec-hl-c3{--bg-color:#96e885}
var.respec-hl-c4{--bg-color:#3eeed2}
var.respec-hl-c5{--bg-color:#eacfb6}
var.respec-hl-c6{--bg-color:#82ddff}
var.respec-hl-c7{--bg-color:#ffbcf2}
@media print{
var.respec-hl{background:0 0;color:#000;box-shadow:unset}
}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "base",
  "latestVersion": "https://spec.openapis.org/oas/latest.html",
  "thisVersion": "https://spec.openapis.org/oas/v3.2.0.html",
  "canonicalURI": "https://spec.openapis.org/oas/v3.2.0.html",
  "editors": [
    {
      "name": "Henry Andrews "
    },
    {
      "name": "Jeremy Whitlock "
    },
    {
      "name": "Karen Etheridge "
    },
    {
      "name": "Lorna Mitchell "
    },
    {
      "name": "Marsh Gardiner "
    },
    {
      "name": "Miguel Quintero "
    },
    {
      "name": "Mike Kistler "
    },
    {
      "name": "Ralf Handl "
    },
    {
      "name": "Vincent Biret "
    }
  ],
  "formerEditors": [
    {
      "name": "Ron Ratovsky "
    },
    {
      "name": "Darrel Miller "
    },
    {
      "name": "Mike Ralphson "
    },
    {
      "name": "Uri Sarid "
    },
    {
      "name": "Jason Harmon "
    },
    {
      "name": "Tony Tam "
    }
  ],
  "publishDate": "2025-09-19T00:00:00.000Z",
  "subtitle": "Version 3.2.0",
  "edDraftURI": "https://github.com/OAI/OpenAPI-Specification/",
  "shortName": "OAS",
  "historyURI": null,
  "lint": false,
  "logos": [
    {
      "src": "https://raw.githubusercontent.com/OAI/OpenAPI-Style-Guide/master/graphics/bitmap/OpenAPI_Logo_Pantone.png",
      "alt": "OpenAPI Initiative",
      "height": 48,
      "url": "https://openapis.org/"
    }
  ],
  "otherLinks": [
    {
      "key": "Other versions:",
      "data": [
        {
          "href": "https://spec.openapis.org/oas/v3.1.2.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.1.1.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.1.0.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.0.4.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.0.3.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.0.2.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.0.1.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v3.0.0.html"
        },
        {
          "href": "https://spec.openapis.org/oas/v2.0.html"
        }
      ]
    },
    {
      "key": "Participate",
      "data": [
        {
          "value": "GitHub OAI/OpenAPI-Specification",
          "href": "https://github.com/OAI/OpenAPI-Specification/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/OAI/OpenAPI-Specification/issues"
        },
        {
          "value": "Commit history",
          "href": "https://github.com/OAI/OpenAPI-Specification/commits/main/versions/3.2.0.md"
        },
        {
          "value": "Pull requests",
          "href": "https://github.com/OAI/OpenAPI-Specification/pulls"
        }
      ]
    }
  ],
  "publishISODate": "2025-09-19T00:00:00.000Z",
  "generatedSubtitle": "19 September 2025"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/base.css">
<link rel="stylesheet" media="" href="https://www.w3.org/StyleSheets/TR/2021/dark.css" disabled=""></head>
<body class="h-entry toc-inline"><div class="head">
    <p class="logos"><a class="logo" href="https://openapis.org/"><img crossorigin="" alt="OpenAPI Initiative" height="48" src="https://raw.githubusercontent.com/OAI/OpenAPI-Style-Guide/master/graphics/bitmap/OpenAPI_Logo_Pantone.png">
  </a></p>
    <h1 id="title" class="title">OpenAPI Specification v3.2.0 </h1> <h2 id="subtitle" class="subtitle">Version 3.2.0</h2>
    <p id="w3c-state"> <time class="dt-published" datetime="2025-09-19">19 September 2025</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://spec.openapis.org/oas/v3.2.0.html">https://spec.openapis.org/oas/v3.2.0.html</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://spec.openapis.org/oas/latest.html">https://spec.openapis.org/oas/latest.html</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://github.com/OAI/OpenAPI-Specification/">https://github.com/OAI/OpenAPI-Specification/</a></dd>
        
        
        
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Henry Andrews </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Jeremy Whitlock </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Karen Etheridge </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Lorna Mitchell </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Marsh Gardiner </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Miguel Quintero </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Mike Kistler </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ralf Handl </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Vincent Biret </span>
  </dd>
        <dt>
                Former editors:
              </dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ron Ratovsky </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Darrel Miller </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Mike Ralphson </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Uri Sarid </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Jason Harmon </span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Tony Tam </span>
  </dd>
        
        
        
        <dt>Other versions:</dt><dd>
    <a href="https://spec.openapis.org/oas/v3.1.2.html">https://spec.openapis.org/oas/v3.1.2.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.1.1.html">https://spec.openapis.org/oas/v3.1.1.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.1.0.html">https://spec.openapis.org/oas/v3.1.0.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.0.4.html">https://spec.openapis.org/oas/v3.0.4.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.0.3.html">https://spec.openapis.org/oas/v3.0.3.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.0.2.html">https://spec.openapis.org/oas/v3.0.2.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.0.1.html">https://spec.openapis.org/oas/v3.0.1.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v3.0.0.html">https://spec.openapis.org/oas/v3.0.0.html</a>
  </dd><dd>
    <a href="https://spec.openapis.org/oas/v2.0.html">https://spec.openapis.org/oas/v2.0.html</a>
  </dd><dt>Participate</dt><dd>
    <a href="https://github.com/OAI/OpenAPI-Specification/">GitHub OAI/OpenAPI-Specification</a>
  </dd><dd>
    <a href="https://github.com/OAI/OpenAPI-Specification/issues">File a bug</a>
  </dd><dd>
    <a href="https://github.com/OAI/OpenAPI-Specification/commits/main/versions/3.2.0.md">Commit history</a>
  </dd><dd>
    <a href="https://github.com/OAI/OpenAPI-Specification/pulls">Pull requests</a>
  </dd>
      </dl>
    </details>
    
    
    <p class="copyright">Copyright ยฉ 2025 the Linux Foundation</p>
    <hr title="Separator for header">
  </div><style>
#respec-ui {     visibility: hidden; }  #title {     color: #578000; }  #subtitle {     color: #578000; }  .dt-published {     color: #578000; }  .dt-published::before {     content: "Published "; }  h1, h2, h3, h4, h5, h6 {     color: #578000;     font-weight: normal;     font-style: normal; }  a[href] {     color: #45512c; }  body:not(.toc-inline) #toc h2 {     color: #45512c; }  table {     display: block;     width: 100%;     overflow: auto; }  table th {     font-weight: 600; }  table th, table td {     padding: 6px 13px;     border: 1px solid #dfe2e5; }  table tr {     background-color: #fff;     border-top: 1px solid #c6cbd1; }  table tr:nth-child(2n) {     background-color: #f6f8fa; }  pre {     background-color: #f6f8fa !important; }  code {     color: #c83500 }  th code {     color: inherit }  a.bibref {     text-decoration: underline; }  body.darkmode {     --toclink-underline: #6a9000;     --toclink-visited-underline: #fff; }  body.darkmode a, body.darkmode .tocxref, body.darkmode .u-url {     color: #6a9000; }  body.darkmode code {     color: #e66c33; }  body.darkmode:not(.toc-inline) #toc h2, body.darkmode h1, body.darkmode h2, body.darkmode h3, body.darkmode h4, body.darkmode h5, body.darkmode h6, body.darkmode #title, body.darkmode #subtitle, body.darkmode .toc-inline, body.darkmode .dt-published {     color: #7bb01c; }  body.darkmode pre, body.darkmode table tr:nth-child(2n), body.darkmode table tr {     background-color: #1e1e1e !important;     color: #dcdcdc; }  body.darkmode img {     background: transparent; }  body.darkmode .logo img {     display: none; }  body.darkmode .logo::before {     content: "";     display: inline-block;     height: 48px;     width: 175px;     background: url("https://raw.githubusercontent.com/OAI/OpenAPI-Style-Guide/refs/heads/main/graphics/bitmap/OpenAPI_Logo_Pantone.png") no-repeat center / contain;     vertical-align: middle; }  /** This contains the content of the https://www.w3.org/StyleSheets/TR/2021/dark.css file */ body.darkmode {     --text: #ddd;     --bg: black;      /* Absolute URLs due to https://bugs.webkit.org/show_bug.cgi?id=230243 */     --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2021/logos/UD-watermark-dark-unofficial);     --draft-watermark: url(https://www.w3.org/StyleSheets/TR/2021/logos/UD-watermark-dark-draft);      --logo-bg: #1a5e9a;     --logo-active-bg: #c00;     --logo-text: white;      --tocnav-normal-text: #999;     --tocnav-normal-bg: var(--bg);     --tocnav-hover-text: var(--tocnav-normal-text);     --tocnav-hover-bg: #080808;     --tocnav-active-text: #f44;     --tocnav-active-bg: var(--tocnav-normal-bg);      --tocsidebar-text: var(--text);     --tocsidebar-bg: #080808;     --tocsidebar-shadow: rgba(255,255,255,.1);     --tocsidebar-heading-text: hsla(203,20%,40%,.7);      --toclink-text: var(--text);     --toclink-underline: #6af;     --toclink-visited-text: var(--toclink-text);     --toclink-visited-underline: #054572;      --heading-text: #8af;      --hr-text: var(--text);      --algo-border: #456;      --del-text: #f44;     --del-bg: transparent;     --ins-text: #4a4;     --ins-bg: transparent;      --a-normal-text: #6af;     --a-normal-underline: #555;     --a-visited-text: var(--a-normal-text);     --a-visited-underline: var(--a-normal-underline);     --a-hover-bg: rgba(25%, 25%, 25%, .2);     --a-active-text: #f44;     --a-active-underline: var(--a-active-text);      --borderedblock-bg: rgba(255, 255, 255, .05);      --blockquote-border: silver;     --blockquote-bg: var(--borderedblock-bg);     --blockquote-text: currentcolor;      --issue-border: #e05252;     --issue-bg: var(--borderedblock-bg);     --issue-text: var(--text);     --issueheading-text: hsl(0deg, 70%, 70%);      --example-border: hsl(50deg, 90%, 60%);     --example-bg: var(--borderedblock-bg);     --example-text: var(--text);     --exampleheading-text: hsl(50deg, 70%, 70%);      --note-border: hsl(120deg, 100%, 35%);     --note-bg: var(--borderedblock-bg);     --note-text: var(--text);     --noteheading-text: hsl(120, 70%, 70%);     --notesummary-underline: silver;      --advisement-border: orange;     --advisement-bg: #222218;     --advisement-text: var(--text);     --advisementheading-text: #f84;      --amendment-border: #330099;     --amendment-bg: var(--borderedblock-bg);     --amendment-text: var(--text);     --amendmentheading-text: #a086ff;      --amendment-border: #330099;     --amendment-bg: #080010;     --amendment-text: var(--text);     --amendmentheading-text: #cc00ff;      --warning-border: red;     --warning-bg: hsla(40,100%,20%,0.95);     --warning-text: var(--text);      --def-border: #8ccbf2;     --def-bg: #080818;     --def-text: var(--text);     --defrow-border: #136;      --datacell-border: silver;      --indexinfo-text: #aaa;      --indextable-hover-text: var(--text);     --indextable-hover-bg: #181818;      --outdatedspec-bg: rgba(255, 255, 255, .5);     --outdatedspec-text: black;     --outdated-bg: maroon;     --outdated-text: white;     --outdated-shadow: red;      --editedrec-bg: darkorange; }/**  * GitHub Gist Theme  * Author : Louis Barranqueiro - https://github.com/LouisBarranqueiro  */  .hljs {   display: block;   background: white;   padding: 0.5em;   color: #333333;   overflow-x: auto; }  .hljs-comment, .hljs-meta {   color: #727070; }  .hljs-string, .hljs-variable, .hljs-template-variable, .hljs-strong, .hljs-emphasis, .hljs-quote {   color: #c74700; }  .hljs-number {   color: #005e5e; }  .hljs-keyword, .hljs-selector-tag, .hljs-type {   color: #a71d5d; }  .hljs-literal, .hljs-symbol, .hljs-bullet, .hljs-attribute {   color: #007aa2; }  .hljs-section, .hljs-name {   color: #4b7c46; }  .hljs-tag {   color: #333333; }  .hljs-title, .hljs-attr, .hljs-selector-id, .hljs-selector-class, .hljs-selector-attr, .hljs-selector-pseudo {   color: #795da3; }  .hljs-addition {   color: #55a532;   background-color: #eaffea; }  .hljs-deletion {   color: #bd2c00;   background-color: #ffecec; }  .hljs-link {   text-decoration: underline; } 
</style><section class="notoc introductory" id="abstract"><h2>What is the OpenAPI Specification?</h2>The OpenAPI Specification (OAS) defines a standard, programming language-agnostic interface description for HTTP APIs, which allows both humans and computers to discover and understand the capabilities of a service without requiring access to source code, additional documentation, or inspection of network traffic. When properly defined via OpenAPI, a consumer can understand and interact with the remote service with a minimal amount of implementation logic. Similar to what interface descriptions have done for lower-level programming, the OpenAPI Specification removes guesswork in calling a service.</section><section class="override introductory notoc" id="sotd" data-max-toc="0"><h2>Status of This Document</h2>The source-of-truth for this specification is the HTML file referenced above as <em>This version</em>.</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#openapi-specification"><bdi class="secno">1. </bdi>OpenAPI Specification</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1.1 </bdi>Version 3.2.0</a></li></ol></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">2. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#versions-and-deprecation"><bdi class="secno">2.1 </bdi>Versions and Deprecation</a></li><li class="tocline"><a class="tocxref" href="#undefined-and-implementation-defined-behavior"><bdi class="secno">2.2 </bdi>Undefined and Implementation-Defined Behavior</a></li></ol></li><li class="tocline"><a class="tocxref" href="#format"><bdi class="secno">3. </bdi>Format</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-and-yaml-compatibility"><bdi class="secno">3.1 </bdi>JSON and YAML Compatibility</a></li><li class="tocline"><a class="tocxref" href="#case-sensitivity"><bdi class="secno">3.2 </bdi>Case Sensitivity</a></li><li class="tocline"><a class="tocxref" href="#rich-text-formatting"><bdi class="secno">3.3 </bdi>Rich Text Formatting</a></li></ol></li><li class="tocline"><a class="tocxref" href="#objects-and-fields"><bdi class="secno">4. </bdi>Objects and Fields</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#openapi-object"><bdi class="secno">4.1 </bdi>OpenAPI Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields"><bdi class="secno">4.1.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#openapi-description-structure"><bdi class="secno">4.1.2 </bdi>OpenAPI Description Structure</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#parsing-documents"><bdi class="secno">4.1.2.1 </bdi>Parsing Documents</a></li><li class="tocline"><a class="tocxref" href="#relative-references-in-api-description-uris"><bdi class="secno">4.1.2.2 </bdi>Relative References in API Description URIs</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#establishing-the-base-uri"><bdi class="secno">4.1.2.2.1 </bdi>Establishing the Base URI</a></li><li class="tocline"><a class="tocxref" href="#resolving-uri-fragments"><bdi class="secno">4.1.2.2.2 </bdi>Resolving URI fragments</a></li><li class="tocline"><a class="tocxref" href="#relative-uri-references-in-commonmark-fields"><bdi class="secno">4.1.2.2.3 </bdi>Relative URI References in CommonMark Fields</a></li></ol></li><li class="tocline"><a class="tocxref" href="#resolving-implicit-connections"><bdi class="secno">4.1.2.3 </bdi>Resolving Implicit Connections</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#info-object"><bdi class="secno">4.2 </bdi>Info Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-0"><bdi class="secno">4.2.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#info-object-example"><bdi class="secno">4.2.2 </bdi>Info Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#contact-object"><bdi class="secno">4.3 </bdi>Contact Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-1"><bdi class="secno">4.3.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#contact-object-example"><bdi class="secno">4.3.2 </bdi>Contact Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#license-object"><bdi class="secno">4.4 </bdi>License Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-2"><bdi class="secno">4.4.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#license-object-example"><bdi class="secno">4.4.2 </bdi>License Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#server-object"><bdi class="secno">4.5 </bdi>Server Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-3"><bdi class="secno">4.5.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#relative-references-in-api-urls"><bdi class="secno">4.5.2 </bdi>Relative References in API URLs</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#examples-of-api-base-url-determination"><bdi class="secno">4.5.2.1 </bdi>Examples of API Base URL Determination</a></li></ol></li><li class="tocline"><a class="tocxref" href="#server-object-example"><bdi class="secno">4.5.3 </bdi>Server Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#server-variable-object"><bdi class="secno">4.6 </bdi>Server Variable Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-4"><bdi class="secno">4.6.1 </bdi>Fixed Fields</a></li></ol></li><li class="tocline"><a class="tocxref" href="#components-object"><bdi class="secno">4.7 </bdi>Components Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-5"><bdi class="secno">4.7.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#components-object-example"><bdi class="secno">4.7.2 </bdi>Components Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#paths-object"><bdi class="secno">4.8 </bdi>Paths Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#patterned-fields"><bdi class="secno">4.8.1 </bdi>Patterned Fields</a></li><li class="tocline"><a class="tocxref" href="#path-templating"><bdi class="secno">4.8.2 </bdi>Path Templating</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#path-templating-matching"><bdi class="secno">4.8.2.1 </bdi>Path Templating Matching</a></li></ol></li><li class="tocline"><a class="tocxref" href="#paths-object-example"><bdi class="secno">4.8.3 </bdi>Paths Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#path-item-object"><bdi class="secno">4.9 </bdi>Path Item Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-6"><bdi class="secno">4.9.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#path-item-object-example"><bdi class="secno">4.9.2 </bdi>Path Item Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#operation-object"><bdi class="secno">4.10 </bdi>Operation Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-7"><bdi class="secno">4.10.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#operation-object-example"><bdi class="secno">4.10.2 </bdi>Operation Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#external-documentation-object"><bdi class="secno">4.11 </bdi>External Documentation Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-8"><bdi class="secno">4.11.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#external-documentation-object-example"><bdi class="secno">4.11.2 </bdi>External Documentation Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#parameter-object"><bdi class="secno">4.12 </bdi>Parameter Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#parameter-locations"><bdi class="secno">4.12.1 </bdi>Parameter Locations</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-9"><bdi class="secno">4.12.2 </bdi>Fixed Fields</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#common-fixed-fields"><bdi class="secno">4.12.2.1 </bdi>Common Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-for-use-with-schema"><bdi class="secno">4.12.2.2 </bdi>Fixed Fields for use with <code>schema</code></a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-for-use-with-content"><bdi class="secno">4.12.2.3 </bdi>Fixed Fields for use with <code>content</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#style-values"><bdi class="secno">4.12.3 </bdi>Style Values</a></li><li class="tocline"><a class="tocxref" href="#url-percent-encoding"><bdi class="secno">4.12.4 </bdi>URL Percent-Encoding</a></li><li class="tocline"><a class="tocxref" href="#serialization-and-examples"><bdi class="secno">4.12.5 </bdi>Serialization and Examples</a></li><li class="tocline"><a class="tocxref" href="#style-examples"><bdi class="secno">4.12.6 </bdi>Style Examples</a></li><li class="tocline"><a class="tocxref" href="#extending-support-for-querystring-formats"><bdi class="secno">4.12.7 </bdi>Extending Support for Querystring Formats</a></li><li class="tocline"><a class="tocxref" href="#parameter-object-examples"><bdi class="secno">4.12.8 </bdi>Parameter Object Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#request-body-object"><bdi class="secno">4.13 </bdi>Request Body Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-10"><bdi class="secno">4.13.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#request-body-examples"><bdi class="secno">4.13.2 </bdi>Request Body Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#media-type-object"><bdi class="secno">4.14 </bdi>Media Type Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-11"><bdi class="secno">4.14.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#media-types"><bdi class="secno">4.14.2 </bdi>Media Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#openapi-media-type-registry"><bdi class="secno">4.14.2.1 </bdi>OpenAPI Media Type Registry</a></li></ol></li><li class="tocline"><a class="tocxref" href="#complete-vs-streaming-content"><bdi class="secno">4.14.3 </bdi>Complete vs Streaming Content</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sequential-media-types"><bdi class="secno">4.14.3.1 </bdi>Sequential Media Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#streaming-sequential-media-types"><bdi class="secno">4.14.3.1.1 </bdi>Streaming Sequential Media Types</a></li></ol></li><li class="tocline"><a class="tocxref" href="#binary-streams"><bdi class="secno">4.14.3.2 </bdi>Binary Streams</a></li></ol></li><li class="tocline"><a class="tocxref" href="#special-considerations-for-server-sent-events"><bdi class="secno">4.14.4 </bdi>Special Considerations for Server-Sent Events</a></li><li class="tocline"><a class="tocxref" href="#encoding-usage-and-restrictions"><bdi class="secno">4.14.5 </bdi>Encoding Usage and Restrictions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#encoding-by-name"><bdi class="secno">4.14.5.1 </bdi>Encoding By Name</a></li><li class="tocline"><a class="tocxref" href="#encoding-by-position"><bdi class="secno">4.14.5.2 </bdi>Encoding By Position</a></li><li class="tocline"><a class="tocxref" href="#additional-encoding-approaches"><bdi class="secno">4.14.5.3 </bdi>Additional Encoding Approaches</a></li></ol></li><li class="tocline"><a class="tocxref" href="#media-type-examples-0"><bdi class="secno">4.14.6 </bdi>Media Type Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json"><bdi class="secno">4.14.6.1 </bdi>JSON</a></li><li class="tocline"><a class="tocxref" href="#sequential-json"><bdi class="secno">4.14.6.2 </bdi>Sequential JSON</a></li><li class="tocline"><a class="tocxref" href="#server-sent-event-streams"><bdi class="secno">4.14.6.3 </bdi>Server-Sent Event Streams</a></li></ol></li><li class="tocline"><a class="tocxref" href="#considerations-for-file-uploads"><bdi class="secno">4.14.7 </bdi>Considerations for File Uploads</a></li></ol></li><li class="tocline"><a class="tocxref" href="#encoding-object"><bdi class="secno">4.15 </bdi>Encoding Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-12"><bdi class="secno">4.15.1 </bdi>Fixed Fields</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#common-fixed-fields-0"><bdi class="secno">4.15.1.1 </bdi>Common Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-for-rfc6570-style-serialization"><bdi class="secno">4.15.1.2 </bdi>Fixed Fields for RFC6570-style Serialization</a></li></ol></li><li class="tocline"><a class="tocxref" href="#nested-encoding"><bdi class="secno">4.15.2 </bdi>Nested Encoding</a></li><li class="tocline"><a class="tocxref" href="#encoding-the-x-www-form-urlencoded-media-type"><bdi class="secno">4.15.3 </bdi>Encoding the <code>x-www-form-urlencoded</code> Media Type</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#example-url-encoded-form-with-json-values"><bdi class="secno">4.15.3.1 </bdi>Example: URL Encoded Form with JSON Values</a></li><li class="tocline"><a class="tocxref" href="#example-url-encoded-form-with-binary-values"><bdi class="secno">4.15.3.2 </bdi>Example: URL Encoded Form with Binary Values</a></li></ol></li><li class="tocline"><a class="tocxref" href="#encoding-multipart-media-types"><bdi class="secno">4.15.4 </bdi>Encoding <code>multipart</code> Media Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#handling-multiple-contenttype-values"><bdi class="secno">4.15.4.1 </bdi>Handling Multiple <code>contentType</code> Values</a></li><li class="tocline"><a class="tocxref" href="#content-transfer-encoding-and-contentencoding"><bdi class="secno">4.15.4.2 </bdi><code>Content-Transfer-Encoding</code> and <code>contentEncoding</code></a></li><li class="tocline"><a class="tocxref" href="#example-basic-multipart-form"><bdi class="secno">4.15.4.3 </bdi>Example: Basic Multipart Form</a></li><li class="tocline"><a class="tocxref" href="#example-multipart-form-with-encoding-objects"><bdi class="secno">4.15.4.4 </bdi>Example: Multipart Form with Encoding Objects</a></li><li class="tocline"><a class="tocxref" href="#example-multipart-form-with-multiple-files"><bdi class="secno">4.15.4.5 </bdi>Example: Multipart Form with Multiple Files</a></li><li class="tocline"><a class="tocxref" href="#example-ordered-unnamed-multipart"><bdi class="secno">4.15.4.6 </bdi>Example: Ordered, Unnamed Multipart</a></li><li class="tocline"><a class="tocxref" href="#example-ordered-multipart-with-required-header"><bdi class="secno">4.15.4.7 </bdi>Example: Ordered Multipart With Required Header</a></li><li class="tocline"><a class="tocxref" href="#example-streaming-multipart"><bdi class="secno">4.15.4.8 </bdi>Example: Streaming Multipart</a></li><li class="tocline"><a class="tocxref" href="#example-streaming-byte-ranges"><bdi class="secno">4.15.4.9 </bdi>Example: Streaming Byte Ranges</a></li><li class="tocline"><a class="tocxref" href="#example-nested-multipart-mixed"><bdi class="secno">4.15.4.10 </bdi>Example: Nested <code>multipart/mixed</code></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#responses-object"><bdi class="secno">4.16 </bdi>Responses Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-13"><bdi class="secno">4.16.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#patterned-fields-0"><bdi class="secno">4.16.2 </bdi>Patterned Fields</a></li><li class="tocline"><a class="tocxref" href="#http-status-codes"><bdi class="secno">4.16.3 </bdi>HTTP Status Codes</a></li><li class="tocline"><a class="tocxref" href="#responses-object-example"><bdi class="secno">4.16.4 </bdi>Responses Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#response-object"><bdi class="secno">4.17 </bdi>Response Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-14"><bdi class="secno">4.17.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#response-object-examples"><bdi class="secno">4.17.2 </bdi>Response Object Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#callback-object"><bdi class="secno">4.18 </bdi>Callback Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#patterned-fields-1"><bdi class="secno">4.18.1 </bdi>Patterned Fields</a></li><li class="tocline"><a class="tocxref" href="#key-expression"><bdi class="secno">4.18.2 </bdi>Key Expression</a></li><li class="tocline"><a class="tocxref" href="#callback-object-examples"><bdi class="secno">4.18.3 </bdi>Callback Object Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#example-object"><bdi class="secno">4.19 </bdi>Example Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-15"><bdi class="secno">4.19.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#working-with-examples"><bdi class="secno">4.19.2 </bdi>Working with Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-compatible-and-value-safe-examples"><bdi class="secno">4.19.2.1 </bdi>JSON-Compatible and <code>value</code>-Safe Examples</a></li><li class="tocline"><a class="tocxref" href="#choosing-which-field-s-to-use"><bdi class="secno">4.19.2.2 </bdi>Choosing Which Field(s) to Use</a></li><li class="tocline"><a class="tocxref" href="#criteria-for-serializedexample"><bdi class="secno">4.19.2.3 </bdi>Criteria for <code>serializedExample</code></a></li><li class="tocline"><a class="tocxref" href="#validating-examples"><bdi class="secno">4.19.2.4 </bdi>Validating Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#example-object-examples"><bdi class="secno">4.19.3 </bdi>Example Object Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-examples"><bdi class="secno">4.19.3.1 </bdi>JSON Examples</a></li><li class="tocline"><a class="tocxref" href="#binary-examples"><bdi class="secno">4.19.3.2 </bdi>Binary Examples</a></li><li class="tocline"><a class="tocxref" href="#boolean-query-parameter-examples"><bdi class="secno">4.19.3.3 </bdi>Boolean Query Parameter Examples</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#link-object"><bdi class="secno">4.20 </bdi>Link Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-16"><bdi class="secno">4.20.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">4.20.2 </bdi>Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#operationref-examples"><bdi class="secno">4.20.2.1 </bdi><code>operationRef</code> Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#runtime-expressions"><bdi class="secno">4.20.3 </bdi>Runtime Expressions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#example-expressions"><bdi class="secno">4.20.3.1 </bdi>Example Expressions</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#header-object"><bdi class="secno">4.21 </bdi>Header Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-17"><bdi class="secno">4.21.1 </bdi>Fixed Fields</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#common-fixed-fields-1"><bdi class="secno">4.21.1.1 </bdi>Common Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-for-use-with-schema-0"><bdi class="secno">4.21.1.2 </bdi>Fixed Fields for use with <code>schema</code></a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-for-use-with-content-0"><bdi class="secno">4.21.1.3 </bdi>Fixed Fields for use with <code>content</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#modeling-link-headers"><bdi class="secno">4.21.2 </bdi>Modeling Link Headers</a></li><li class="tocline"><a class="tocxref" href="#representing-the-set-cookie-header"><bdi class="secno">4.21.3 </bdi>Representing the <code>Set-Cookie</code> Header</a></li><li class="tocline"><a class="tocxref" href="#header-object-example"><bdi class="secno">4.21.4 </bdi>Header Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#tag-object"><bdi class="secno">4.22 </bdi>Tag Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-18"><bdi class="secno">4.22.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#tag-object-example"><bdi class="secno">4.22.2 </bdi>Tag Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#reference-object"><bdi class="secno">4.23 </bdi>Reference Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-19"><bdi class="secno">4.23.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#reference-object-example"><bdi class="secno">4.23.2 </bdi>Reference Object Example</a></li><li class="tocline"><a class="tocxref" href="#relative-schema-document-example"><bdi class="secno">4.23.3 </bdi>Relative Schema Document Example</a></li><li class="tocline"><a class="tocxref" href="#relative-documents-with-embedded-schema-example"><bdi class="secno">4.23.4 </bdi>Relative Documents with Embedded Schema Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#schema-object"><bdi class="secno">4.24 </bdi>Schema Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-schema-keywords"><bdi class="secno">4.24.1 </bdi>JSON Schema Keywords</a></li><li class="tocline"><a class="tocxref" href="#fixed-fields-20"><bdi class="secno">4.24.2 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#data-types"><bdi class="secno">4.24.3 </bdi>Data Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#data-type-format"><bdi class="secno">4.24.3.1 </bdi>Data Type Format</a></li></ol></li><li class="tocline"><a class="tocxref" href="#parsing-and-serializing"><bdi class="secno">4.24.4 </bdi>Parsing and Serializing</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#json-data"><bdi class="secno">4.24.4.1 </bdi>JSON Data</a></li><li class="tocline"><a class="tocxref" href="#non-json-data"><bdi class="secno">4.24.4.2 </bdi>Non-JSON Data</a></li><li class="tocline"><a class="tocxref" href="#working-with-binary-data"><bdi class="secno">4.24.4.3 </bdi>Working with Binary Data</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#schema-evaluation-and-binary-data"><bdi class="secno">4.24.4.3.1 </bdi>Schema Evaluation and Binary Data</a></li><li class="tocline"><a class="tocxref" href="#migrating-binary-descriptions-from-oas-3-0"><bdi class="secno">4.24.4.3.2 </bdi>Migrating Binary Descriptions from OAS 3.0</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#extended-validation-with-annotations"><bdi class="secno">4.24.5 </bdi>Extended Validation with Annotations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#non-validating-constraint-keywords"><bdi class="secno">4.24.5.1 </bdi>Non-Validating Constraint Keywords</a></li><li class="tocline"><a class="tocxref" href="#validating-readonly-and-writeonly"><bdi class="secno">4.24.5.2 </bdi>Validating <code>readOnly</code> and <code>writeOnly</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#data-modeling-techniques"><bdi class="secno">4.24.6 </bdi>Data Modeling Techniques</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#composition-and-inheritance-polymorphism"><bdi class="secno">4.24.6.1 </bdi>Composition and Inheritance (Polymorphism)</a></li><li class="tocline"><a class="tocxref" href="#generic-template-data-structures"><bdi class="secno">4.24.6.2 </bdi>Generic (Template) Data Structures</a></li><li class="tocline"><a class="tocxref" href="#annotated-enumerations"><bdi class="secno">4.24.6.3 </bdi>Annotated Enumerations</a></li><li class="tocline"><a class="tocxref" href="#xml-modeling"><bdi class="secno">4.24.6.4 </bdi>XML Modeling</a></li></ol></li><li class="tocline"><a class="tocxref" href="#specifying-schema-dialects"><bdi class="secno">4.24.7 </bdi>Specifying Schema Dialects</a></li><li class="tocline"><a class="tocxref" href="#schema-object-examples"><bdi class="secno">4.24.8 </bdi>Schema Object Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#primitive-example"><bdi class="secno">4.24.8.1 </bdi>Primitive Example</a></li><li class="tocline"><a class="tocxref" href="#simple-model"><bdi class="secno">4.24.8.2 </bdi>Simple Model</a></li><li class="tocline"><a class="tocxref" href="#model-with-map-dictionary-properties"><bdi class="secno">4.24.8.3 </bdi>Model with Map/Dictionary Properties</a></li><li class="tocline"><a class="tocxref" href="#model-with-annotated-enumeration"><bdi class="secno">4.24.8.4 </bdi>Model with Annotated Enumeration</a></li><li class="tocline"><a class="tocxref" href="#model-with-example"><bdi class="secno">4.24.8.5 </bdi>Model with Example</a></li><li class="tocline"><a class="tocxref" href="#models-with-composition"><bdi class="secno">4.24.8.6 </bdi>Models with Composition</a></li><li class="tocline"><a class="tocxref" href="#models-with-polymorphism-support"><bdi class="secno">4.24.8.7 </bdi>Models with Polymorphism Support</a></li><li class="tocline"><a class="tocxref" href="#models-with-polymorphism-support-and-a-discriminator-object"><bdi class="secno">4.24.8.8 </bdi>Models with Polymorphism Support and a Discriminator Object</a></li><li class="tocline"><a class="tocxref" href="#models-with-polymorphism-support-using-allof-and-a-discriminator-object"><bdi class="secno">4.24.8.9 </bdi>Models with Polymorphism Support using <code>allOf</code> and a Discriminator Object</a></li><li class="tocline"><a class="tocxref" href="#generic-data-structure-model"><bdi class="secno">4.24.8.10 </bdi>Generic Data Structure Model</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#discriminator-object"><bdi class="secno">4.25 </bdi>Discriminator Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-21"><bdi class="secno">4.25.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#conditions-for-using-the-discriminator-object"><bdi class="secno">4.25.2 </bdi>Conditions for Using the Discriminator Object</a></li><li class="tocline"><a class="tocxref" href="#options-for-mapping-values-to-schemas"><bdi class="secno">4.25.3 </bdi>Options for Mapping Values to Schemas</a></li><li class="tocline"><a class="tocxref" href="#optional-discriminating-property"><bdi class="secno">4.25.4 </bdi>Optional Discriminating Property</a></li><li class="tocline"><a class="tocxref" href="#examples-0"><bdi class="secno">4.25.5 </bdi>Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#xml-object"><bdi class="secno">4.26 </bdi>XML Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-22"><bdi class="secno">4.26.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#xml-node-types"><bdi class="secno">4.26.2 </bdi>XML Node Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#modeling-element-lists"><bdi class="secno">4.26.2.1 </bdi>Modeling Element Lists</a></li><li class="tocline"><a class="tocxref" href="#implicit-and-explicit-text-nodes"><bdi class="secno">4.26.2.2 </bdi>Implicit and Explicit <code>text</code> Nodes</a></li></ol></li><li class="tocline"><a class="tocxref" href="#xml-node-names"><bdi class="secno">4.26.3 </bdi>XML Node Names</a></li><li class="tocline"><a class="tocxref" href="#namespace-limitations"><bdi class="secno">4.26.4 </bdi>Namespace Limitations</a></li><li class="tocline"><a class="tocxref" href="#handling-null-values"><bdi class="secno">4.26.5 </bdi>Handling <code>null</code> Values</a></li><li class="tocline"><a class="tocxref" href="#xml-object-examples"><bdi class="secno">4.26.6 </bdi>XML Object Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#no-xml-object"><bdi class="secno">4.26.6.1 </bdi>No XML Object</a></li><li class="tocline"><a class="tocxref" href="#xml-name-replacement"><bdi class="secno">4.26.6.2 </bdi>XML Name Replacement</a></li><li class="tocline"><a class="tocxref" href="#xml-attribute-prefix-and-namespace"><bdi class="secno">4.26.6.3 </bdi>XML Attribute, Prefix and Namespace</a></li><li class="tocline"><a class="tocxref" href="#xml-arrays"><bdi class="secno">4.26.6.4 </bdi>XML Arrays</a></li><li class="tocline"><a class="tocxref" href="#elements-with-attributes-and-text"><bdi class="secno">4.26.6.5 </bdi>Elements With Attributes And Text</a></li><li class="tocline"><a class="tocxref" href="#referenced-element-with-cdata"><bdi class="secno">4.26.6.6 </bdi>Referenced Element With CDATA</a></li><li class="tocline"><a class="tocxref" href="#ordered-elements-and-text"><bdi class="secno">4.26.6.7 </bdi>Ordered Elements and Text</a></li><li class="tocline"><a class="tocxref" href="#xml-with-null-values"><bdi class="secno">4.26.6.8 </bdi>XML With <code>null</code> Values</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#security-scheme-object"><bdi class="secno">4.27 </bdi>Security Scheme Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-23"><bdi class="secno">4.27.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#security-scheme-object-examples"><bdi class="secno">4.27.2 </bdi>Security Scheme Object Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#basic-authentication-example"><bdi class="secno">4.27.2.1 </bdi>Basic Authentication Example</a></li><li class="tocline"><a class="tocxref" href="#api-key-example"><bdi class="secno">4.27.2.2 </bdi>API Key Example</a></li><li class="tocline"><a class="tocxref" href="#jwt-bearer-example"><bdi class="secno">4.27.2.3 </bdi>JWT Bearer Example</a></li><li class="tocline"><a class="tocxref" href="#mutualtls-example"><bdi class="secno">4.27.2.4 </bdi>MutualTLS Example</a></li><li class="tocline"><a class="tocxref" href="#implicit-oauth2-example"><bdi class="secno">4.27.2.5 </bdi>Implicit OAuth2 Example</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#oauth-flows-object"><bdi class="secno">4.28 </bdi>OAuth Flows Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-24"><bdi class="secno">4.28.1 </bdi>Fixed Fields</a></li></ol></li><li class="tocline"><a class="tocxref" href="#oauth-flow-object"><bdi class="secno">4.29 </bdi>OAuth Flow Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fixed-fields-25"><bdi class="secno">4.29.1 </bdi>Fixed Fields</a></li><li class="tocline"><a class="tocxref" href="#oauth-flow-object-example"><bdi class="secno">4.29.2 </bdi>OAuth Flow Object Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#security-requirement-object"><bdi class="secno">4.30 </bdi>Security Requirement Object</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#patterned-fields-2"><bdi class="secno">4.30.1 </bdi>Patterned Fields</a></li><li class="tocline"><a class="tocxref" href="#security-requirement-object-examples"><bdi class="secno">4.30.2 </bdi>Security Requirement Object Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#non-oauth2-security-requirement"><bdi class="secno">4.30.2.1 </bdi>Non-OAuth2 Security Requirement</a></li><li class="tocline"><a class="tocxref" href="#oauth2-security-requirement"><bdi class="secno">4.30.2.2 </bdi>OAuth2 Security Requirement</a></li><li class="tocline"><a class="tocxref" href="#optional-oauth2-security"><bdi class="secno">4.30.2.3 </bdi>Optional OAuth2 Security</a></li></ol></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#specification-extensions"><bdi class="secno">5. </bdi>Specification Extensions</a></li><li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">6. </bdi>Security Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#openapi-description-formats"><bdi class="secno">6.1 </bdi>OpenAPI Description Formats</a></li><li class="tocline"><a class="tocxref" href="#tooling-and-usage-scenarios"><bdi class="secno">6.2 </bdi>Tooling and Usage Scenarios</a></li><li class="tocline"><a class="tocxref" href="#security-schemes"><bdi class="secno">6.3 </bdi>Security Schemes</a></li><li class="tocline"><a class="tocxref" href="#security-filtering"><bdi class="secno">6.4 </bdi>Security Filtering</a></li><li class="tocline"><a class="tocxref" href="#handling-external-resources"><bdi class="secno">6.5 </bdi>Handling External Resources</a></li><li class="tocline"><a class="tocxref" href="#handling-reference-cycles"><bdi class="secno">6.6 </bdi>Handling Reference Cycles</a></li><li class="tocline"><a class="tocxref" href="#markdown-and-html-sanitization"><bdi class="secno">6.7 </bdi>Markdown and HTML Sanitization</a></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-a-revision-history"><bdi class="secno">A. </bdi>Appendix A: Revision History</a></li><li class="tocline"><a class="tocxref" href="#appendix-b-data-type-conversion"><bdi class="secno">B. </bdi>Appendix B: Data Type Conversion</a></li><li class="tocline"><a class="tocxref" href="#appendix-c-using-rfc6570-based-serialization"><bdi class="secno">C. </bdi>Appendix C: Using RFC6570-Based Serialization</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#equivalences-between-fields-and-rfc6570-operators"><bdi class="secno">C.1 </bdi>Equivalences Between Fields and RFC6570 Operators</a></li><li class="tocline"><a class="tocxref" href="#delimiters-in-parameter-values"><bdi class="secno">C.2 </bdi>Delimiters in Parameter Values</a></li><li class="tocline"><a class="tocxref" href="#non-rfc6570-field-values-and-combinations"><bdi class="secno">C.3 </bdi>Non-RFC6570 Field Values and Combinations</a></li><li class="tocline"><a class="tocxref" href="#examples-1"><bdi class="secno">C.4 </bdi>Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#rfc6570-equivalent-expansion"><bdi class="secno">C.4.1 </bdi>RFC6570-Equivalent Expansion</a></li><li class="tocline"><a class="tocxref" href="#expansion-with-non-rfc6570-supported-options"><bdi class="secno">C.4.2 </bdi>Expansion with Non-RFC6570-Supported Options</a></li><li class="tocline"><a class="tocxref" href="#undefined-values-and-manual-uri-template-construction"><bdi class="secno">C.4.3 </bdi>Undefined Values and Manual URI Template Construction</a></li><li class="tocline"><a class="tocxref" href="#illegal-variable-names-as-parameter-names"><bdi class="secno">C.4.4 </bdi>Illegal Variable Names as Parameter Names</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-d-serializing-headers-and-cookies"><bdi class="secno">D. </bdi>Appendix D: Serializing Headers and Cookies</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#percent-encoding-and-cookies"><bdi class="secno">D.1 </bdi>Percent-Encoding and Cookies</a></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-e-percent-encoding-and-form-media-types"><bdi class="secno">E. </bdi>Appendix E: Percent-Encoding and Form Media Types</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#percent-encoding-character-classes"><bdi class="secno">E.1 </bdi>Percent-Encoding Character Classes</a></li><li class="tocline"><a class="tocxref" href="#percent-encoding-and-form-urlencoded"><bdi class="secno">E.2 </bdi>Percent-Encoding and <code>form-urlencoded</code></a></li><li class="tocline"><a class="tocxref" href="#percent-encoding-and-form-data"><bdi class="secno">E.3 </bdi>Percent-Encoding and <code>form-data</code></a></li><li class="tocline"><a class="tocxref" href="#generating-and-validating-uris-and-form-urlencoded-strings"><bdi class="secno">E.4 </bdi>Generating and Validating URIs and <code>form-urlencoded</code> Strings</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#interoperability-with-historical-specifications"><bdi class="secno">E.4.1 </bdi>Interoperability with Historical Specifications</a></li><li class="tocline"><a class="tocxref" href="#interoperability-with-web-browser-environments"><bdi class="secno">E.4.2 </bdi>Interoperability with Web Browser Environments</a></li></ol></li><li class="tocline"><a class="tocxref" href="#decoding-uris-and-form-urlencoded-strings"><bdi class="secno">E.5 </bdi>Decoding URIs and <code>form-urlencoded</code> Strings</a></li><li class="tocline"><a class="tocxref" href="#percent-encoding-and-illegal-or-reserved-delimiters"><bdi class="secno">E.6 </bdi>Percent-Encoding and Illegal or Reserved Delimiters</a></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-f-examples-of-base-uri-determination-and-reference-resolution"><bdi class="secno">F. </bdi>Appendix F: Examples of Base URI Determination and Reference Resolution</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#base-uri-within-content"><bdi class="secno">F.1 </bdi>Base URI Within Content</a></li><li class="tocline"><a class="tocxref" href="#base-uri-from-encapsulating-entity"><bdi class="secno">F.2 </bdi>Base URI From Encapsulating Entity</a></li><li class="tocline"><a class="tocxref" href="#base-uri-from-the-retrieval-uri"><bdi class="secno">F.3 </bdi>Base URI From the Retrieval URI</a></li><li class="tocline"><a class="tocxref" href="#application-specific-default-base-uri"><bdi class="secno">F.4 </bdi>Application-Specific Default Base URI</a></li><li class="tocline"><a class="tocxref" href="#resolving-relative-self-and-id"><bdi class="secno">F.5 </bdi>Resolving Relative <code>$self</code> and <code>$id</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#appendix-g-parsing-and-resolution-guidance"><bdi class="secno">G. </bdi>Appendix G: Parsing and Resolution Guidance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#warnings-regarding-fragmentary-parsing"><bdi class="secno">G.1 </bdi>Warnings Regarding Fragmentary Parsing</a></li><li class="tocline"><a class="tocxref" href="#conflicts-between-field-types-and-reference-contexts"><bdi class="secno">G.2 </bdi>Conflicts Between Field Types and Reference Contexts</a></li><li class="tocline"><a class="tocxref" href="#guidance-regarding-implicit-connections"><bdi class="secno">G.3 </bdi>Guidance Regarding Implicit Connections</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#implicit-connection-resolution-examples"><bdi class="secno">G.3.1 </bdi>Implicit Connection Resolution Examples</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">H. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">H.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">H.2 </bdi>Informative references</a></li></ol></li></ol></nav>
<section id="openapi-specification"><div class="header-wrapper"><h2 id="x1-openapi-specification"><bdi class="secno">1. </bdi>OpenAPI Specification</h2><a class="self-link" href="#openapi-specification" aria-label="Permalink for Section 1."></a></div>
<section class="override" id="conformance"><div class="header-wrapper"><h3 id="x1-1-version-3-2-0"><bdi class="secno">1.1 </bdi>Version 3.2.0</h3><a class="self-link" href="#conformance" aria-label="Permalink for Section 1.1"></a></div>
<p>The key words โ<em class="rfc2119">MUST</em>โ, โ<em class="rfc2119">MUST NOT</em>โ, โ<em class="rfc2119">REQUIRED</em>โ, โ<em class="rfc2119">SHALL</em>โ, โ<em class="rfc2119">SHALL NOT</em>โ, โ<em class="rfc2119">SHOULD</em>โ, โ<em class="rfc2119">SHOULD NOT</em>โ, โ<em class="rfc2119">RECOMMENDED</em>โ, โ<em class="rfc2119">NOT RECOMMENDED</em>โ, โ<em class="rfc2119">MAY</em>โ, and โ<em class="rfc2119">OPTIONAL</em>โ in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>] when, and only when, they appear in all capitals, as shown here.</p>
<p>This document is licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">The Apache License, Version 2.0</a>.</p>
</section></section><section id="introduction"><div class="header-wrapper"><h2 id="x2-introduction"><bdi class="secno">2. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 2."></a></div>
<p>The OpenAPI Specification (OAS) defines a standard, language-agnostic interface to HTTP APIs which allows both humans and computers to discover and understand the capabilities of the service without access to source code, documentation, or through network traffic inspection. When properly defined, a consumer can understand and interact with the remote service by <a href="#parsing-and-serializing">parsing and serializing</a> HTTP messages to and from a <a href="#data-types">data model</a> with a minimal amount of implementation logic.</p>
<p>An <a href="#openapi-description-structure">OpenAPI Description</a> (OAD) can then be used by documentation generation tools to display the API, code generation tools to generate servers and clients in various programming languages, testing tools, and many other use cases.</p>
<p>For examples of OpenAPI usage and additional documentation, please visit [<cite><a class="bibref" data-link-type="biblio" href="#bib-openapi-learn" title="OpenAPI - Getting started, and the specification explained">OpenAPI-Learn</a></cite>].</p>
<p>For extension registries and other specifications published by the OpenAPI Initiative, as well as the authoritative rendering of this specification, please visit <a href="https://spec.openapis.org/">spec.openapis.org</a>.</p>
<section id="versions-and-deprecation"><div class="header-wrapper"><h3 id="x2-1-versions-and-deprecation"><bdi class="secno">2.1 </bdi>Versions and Deprecation</h3><a class="self-link" href="#versions-and-deprecation" aria-label="Permalink for Section 2.1"></a></div>
<p>The OpenAPI Specification is versioned using a <code>major</code>.<code>minor</code>.<code>patch</code> versioning scheme. The <code>major</code>.<code>minor</code> portion of the version string (for example <code>3.1</code>) <em class="rfc2119">SHALL</em> designate the OAS feature set. <em><code>.patch</code></em> versions address errors in, or provide clarifications to, this document, not the feature set. Tooling which supports OAS 3.1 <em class="rfc2119">SHOULD</em> be compatible with all OAS 3.1.* versions. The patch version <em class="rfc2119">SHOULD NOT</em> be considered by tooling, making no distinction between <code>3.1.0</code> and <code>3.1.1</code> for example.</p>
<p>Certain fields or features may be marked <strong>Deprecated</strong>.
These fields and features remain part of the specification and can be used like any other field or feature.
However, OpenAPI Description authors should use newer fields and features documented to replace the deprecated ones whenever possible.</p>
<p>At this time, such elements are expected to remain part of the OAS until the next major version, although a future minor version of this specification may define a policy for later removal of deprecated elements.</p>
<p>Occasionally, non-backwards compatible changes may be made in <code>minor</code> versions of the OAS where impact is believed to be low relative to the benefit provided.</p>
</section><section id="undefined-and-implementation-defined-behavior"><div class="header-wrapper"><h3 id="x2-2-undefined-and-implementation-defined-behavior"><bdi class="secno">2.2 </bdi>Undefined and Implementation-Defined Behavior</h3><a class="self-link" href="#undefined-and-implementation-defined-behavior" aria-label="Permalink for Section 2.2"></a></div>
<p>This specification deems certain situations to have either <em>undefined</em> or <em>implementation-defined</em> behavior.</p>
<p>Behavior described as <em>undefined</em> is likely, at least in some circumstances, to result in outcomes that contradict the specification.
This description is used when detecting the contradiction is impossible or impractical.
Implementations <em class="rfc2119">MAY</em> support undefined scenarios for historical reasons, including ambiguous text in prior versions of the specification.
This support might produce correct outcomes in many cases, but relying on it is <em class="rfc2119">NOT RECOMMENDED</em> as there is no guarantee that it will work across all tools or with future specification versions, even if those versions are otherwise strictly compatible with this one.</p>
<p>Behavior described as <em>implementation-defined</em> allows implementations to choose which of several different-but-compliant approaches to a requirement to implement.
This documents ambiguous requirements that API description authors are <em class="rfc2119">RECOMMENDED</em> to avoid in order to maximize interoperability.
Unlike undefined behavior, it is safe to rely on implementation-defined behavior if <em>and only if</em> it can be guaranteed that all relevant tools support the same behavior.</p>
</section></section><section id="format"><div class="header-wrapper"><h2 id="x3-format"><bdi class="secno">3. </bdi>Format</h2><a class="self-link" href="#format" aria-label="Permalink for Section 3."></a></div>
<p>An OpenAPI document that conforms to the OpenAPI Specification is itself a JSON object, which may be represented either in <cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a></cite> or <cite><a class="bibref" data-link-type="biblio" href="#bib-yaml" title="YAML Ainโt Markup Language (YAMLโข) Version 1.2">YAML</a></cite> format.
Examples in this specification will be shown in YAML for brevity.</p>
<p>All field names in the specification are <strong>case-sensitive</strong>.
This includes all fields that are used as keys in a map, except where explicitly noted that keys are <strong>case-insensitive</strong>.</p>
<p>OAS <a href="#objects-and-fields">Objects</a> expose two types of fields: <em>fixed fields</em>, which have a declared name, and <em>patterned fields</em>, which have a declared pattern for the field name.</p>
<p>Patterned fields <em class="rfc2119">MUST</em> have unique names within the containing object.</p>
<p><strong>Note:</strong> While APIs may be described by OpenAPI Descriptions in either YAML or JSON format, the API request and response bodies and other content are not required to be JSON or YAML.</p>
<section id="json-and-yaml-compatibility"><div class="header-wrapper"><h3 id="x3-1-json-and-yaml-compatibility"><bdi class="secno">3.1 </bdi>JSON and YAML Compatibility</h3><a class="self-link" href="#json-and-yaml-compatibility" aria-label="Permalink for Section 3.1"></a></div>
<p>In order to preserve the ability to round-trip between YAML and JSON formats, <cite><a class="bibref" data-link-type="biblio" href="#bib-yaml" title="YAML Ainโt Markup Language (YAMLโข) Version 1.2">YAML version 1.2</a></cite> is <em class="rfc2119">RECOMMENDED</em> along with the additional constraints listed in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9512" title="YAML Media Type">RFC9512</a></cite>] <a href="https://tools.ietf.org/html/rfc9512#name-yaml-and-json">Section 3.4</a>.</p>
<p>The recommendation in previous versions of this specification to restrict YAML to its โJSONโ <a href="https://yaml.org/spec/1.2/spec.html#id2803231">schema ruleset</a> allowed for the inclusion of certain values that (despite the name) cannot be represented in JSON.
OAD authors <em class="rfc2119">SHOULD NOT</em> rely on any such JSON-incompatible YAML values.</p>
</section><section id="case-sensitivity"><div class="header-wrapper"><h3 id="x3-2-case-sensitivity"><bdi class="secno">3.2 </bdi>Case Sensitivity</h3><a class="self-link" href="#case-sensitivity" aria-label="Permalink for Section 3.2"></a></div>
<p>As most field names and values in the OpenAPI Specification are case-sensitive, this document endeavors to call out any case-insensitive names and values.
However, the case sensitivity of field names and values that map directly to HTTP concepts follow the case sensitivity rules of HTTP, even if this document does not make a note of every concept.</p>
</section><section id="rich-text-formatting"><div class="header-wrapper"><h3 id="x3-3-rich-text-formatting"><bdi class="secno">3.3 </bdi>Rich Text Formatting</h3><a class="self-link" href="#rich-text-formatting" aria-label="Permalink for Section 3.3"></a></div>
<p>Throughout the specification <code>description</code> fields are noted as supporting [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] markdown formatting.
Where OpenAPI tooling renders rich text it <em class="rfc2119">MUST</em> support, at a minimum, markdown syntax as described by [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark-0.27" title="CommonMark Spec, Version 0.27">CommonMark-0.27</a></cite>]. Tooling <em class="rfc2119">MAY</em> choose to ignore some CommonMark or extension features to address security concerns.</p>
<p>While the framing of CommonMark 0.27 as a minimum requirement means that tooling <em class="rfc2119">MAY</em> choose to implement extensions on top of it, note that any such extensions are by definition implementation-defined and will not be interoperable.
OpenAPI Description authors <em class="rfc2119">SHOULD</em> consider how text using such extensions will be rendered by tools that offer only the minimum support.</p>
</section></section><section id="objects-and-fields"><div class="header-wrapper"><h2 id="x4-objects-and-fields"><bdi class="secno">4. </bdi>Objects and Fields</h2><a class="self-link" href="#objects-and-fields" aria-label="Permalink for Section 4."></a></div>
<p>This section describes the structure of the OpenAPI Description format.
This text is the only normative description of the format.
A JSON Schema is hosted on <a href="https://spec.openapis.org">spec.openapis.org</a> for informational purposes.
If the JSON Schema differs from this section, then this section <em class="rfc2119">MUST</em> be considered authoritative.</p>
<p>In the following description, if a field is not explicitly <strong><em class="rfc2119">REQUIRED</em></strong> or described with a <em class="rfc2119">MUST</em> or <em class="rfc2119">SHALL</em>, it can be considered <em class="rfc2119">OPTIONAL</em>.</p>
<section id="openapi-object"><div class="header-wrapper"><h3 id="x4-1-openapi-object"><bdi class="secno">4.1 </bdi>OpenAPI Object</h3><a class="self-link" href="#openapi-object" aria-label="Permalink for Section 4.1"></a></div>
<p>This is the root object of the <a href="#openapi-description-structure">OpenAPI Description</a>.</p>
<section id="fixed-fields"><div class="header-wrapper"><h4 id="x4-1-1-fixed-fields"><bdi class="secno">4.1.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields" aria-label="Permalink for Section 4.1.1"></a></div>
<p>In addition to the required fields, at least one of the <code>components</code>, <code>paths</code>, or <code>webhooks</code> fields <em class="rfc2119">MUST</em> be present.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="oas-version"></span>openapi</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. This string <em class="rfc2119">MUST</em> be the <a href="#versions-and-deprecation">version number</a> of the OpenAPI Specification that the OpenAPI document uses. The <code>openapi</code> field <em class="rfc2119">SHOULD</em> be used by tooling to interpret the OpenAPI document. This is <em>not</em> related to the <a href="#info-version"><code>info.version</code></a> string, which describes the OpenAPI documentโs version.</td>
</tr>
<tr>
<td><span id="oas-self"></span>$self</td>
<td style="text-align:center"><code>string</code></td>
<td>This string <em class="rfc2119">MUST</em> be in the form of a URI reference as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-4.1">Section 4.1</a>. The <code>$self</code> field provides the self-assigned URI of this document, which also serves as its base URI in accordance with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-5.1.1">Section 5.1.1</a>. Implementations <em class="rfc2119">MUST</em> support identifying the targets of <a href="#relative-references-in-api-description-uris">API description URIs</a> using the URI defined by this field when it is present. See <a href="#establishing-the-base-uri">Establishing the Base URI</a> for the base URI behavior when <code>$self</code> is absent or relative, and see <a href="#appendix-f-examples-of-base-uri-determination-and-reference-resolution">Appendix F</a> for examples of using <code>$self</code> to resolve references.</td>
</tr>
<tr>
<td><span id="oas-info"></span>info</td>
<td style="text-align:center"><a href="#info-object">Info Object</a></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. Provides metadata about the API. The metadata <em class="rfc2119">MAY</em> be used by tooling as required.</td>
</tr>
<tr>
<td><span id="oas-json-schema-dialect"></span> jsonSchemaDialect</td>
<td style="text-align:center"><code>string</code></td>
<td>The default value for the <code>$schema</code> keyword within <a href="#schema-object">Schema Objects</a> contained within this OAS document. This <em class="rfc2119">MUST</em> be in the form of a URI.</td>
</tr>
<tr>
<td><span id="oas-servers"></span>servers</td>
<td style="text-align:center">[<a href="#server-object">Server Object</a>]</td>
<td>An array of Server Objects, which provide connectivity information to a target server. If the <code>servers</code> field is not provided, or is an empty array, the default value would be an array consisting of a single <a href="#server-object">Server Object</a> with a <a href="#server-url">url</a> value of <code>/</code>.</td>
</tr>
<tr>
<td><span id="oas-paths"></span>paths</td>
<td style="text-align:center"><a href="#paths-object">Paths Object</a></td>
<td>The available paths and operations for the API.</td>
</tr>
<tr>
<td><span id="oas-webhooks"></span>webhooks</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#path-item-object">Path Item Object</a>]</td>
<td>The incoming webhooks that <em class="rfc2119">MAY</em> be received as part of this API and that the API consumer <em class="rfc2119">MAY</em> choose to implement. Closely related to the <code>callbacks</code> feature, this section describes requests initiated other than by an API call, for example by an out of band registration. The key name is a unique string to refer to each webhook, while the (optionally referenced) Path Item Object describes a request that may be initiated by the API provider and the expected responses. An <a href="https://learn.openapis.org/examples/v3.1/webhook-example.html">example</a> is available.</td>
</tr>
<tr>
<td><span id="oas-components"></span>components</td>
<td style="text-align:center"><a href="#components-object">Components Object</a></td>
<td>An element to hold various Objects for the OpenAPI Description.</td>
</tr>
<tr>
<td><span id="oas-security"></span>security</td>
<td style="text-align:center">[<a href="#security-requirement-object">Security Requirement Object</a>]</td>
<td>A declaration of which security mechanisms can be used across the API. The list of values includes alternative Security Requirement Objects that can be used. Only one of the Security Requirement Objects need to be satisfied to authorize a request. Individual operations can override this definition. The list can be incomplete, up to being empty or absent. To make security explicitly optional, an empty security requirement (<code>{}</code>) can be included in the array.</td>
</tr>
<tr>
<td><span id="oas-tags"></span>tags</td>
<td style="text-align:center">[<a href="#tag-object">Tag Object</a>]</td>
<td>A list of tags used by the OpenAPI Description with additional metadata. The order of the tags can be used to reflect on their order by the parsing tools. Not all tags that are used by the <a href="#operation-object">Operation Object</a> must be declared. The tags that are not declared <em class="rfc2119">MAY</em> be organized randomly or based on the toolsโ logic. Each tag name in the list <em class="rfc2119">MUST</em> be unique.</td>
</tr>
<tr>
<td><span id="oas-external-docs"></span>externalDocs</td>
<td style="text-align:center"><a href="#external-documentation-object">External Documentation Object</a></td>
<td>Additional external documentation.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>To ensure interoperability, references <em class="rfc2119">MUST</em> use the target documentโs <code>$self</code> URI if the <code>$self</code> field is present.
Implementations <em class="rfc2119">MAY</em> choose to support referencing by other URIs such as the retrieval URI even when <code>$self</code> is present, however this behavior is not interoperable and relying on it is <em class="rfc2119">NOT RECOMMENDED</em>.</p>
</section><section id="openapi-description-structure"><div class="header-wrapper"><h4 id="x4-1-2-openapi-description-structure"><bdi class="secno">4.1.2 </bdi>OpenAPI Description Structure</h4><a class="self-link" href="#openapi-description-structure" aria-label="Permalink for Section 4.1.2"></a></div>
<p>An <strong>OpenAPI Description</strong> (<strong>OAD</strong>) formally describes the surface of an API and its semantics.
An OAD <em class="rfc2119">MAY</em> be made up of a single document, or be distributed across multiple documents that are connected by various fields using <a href="#relative-references-in-api-description-uris">URI references</a> and <a href="#resolving-implicit-connections">implicit connections</a>.</p>
<p>In order for parsing behavior to be well-defined, all documents in an OAD <em class="rfc2119">MUST</em> have either an OpenAPI Object or a Schema Object at the root, and <em class="rfc2119">MUST</em> be parsed as complete documents, as described in the next section.</p>
<p>Documents with a different Object at the root, or that mix OAD content with other content, <em class="rfc2119">MAY</em> be supported, but will have implementation-defined or, potentially, undefined behavior as described in <a href="#appendix-g-parsing-and-resolution-guidance">Appendix G: Parsing and Resolution Guidance</a>.
Throughout this specification, documents are assumed to have either an OpenAPI Object or Schema Object at the root unless otherwise specified.</p>
<p>In a multi-document OAD, the document containing the OpenAPI Object where parsing begins is known as that OADโs <strong>entry document</strong>.
It is <em class="rfc2119">RECOMMENDED</em> that the entry document of an OAD be named <code>openapi.json</code> or <code>openapi.yaml</code>.</p>
<p>An OpenAPI Object <em class="rfc2119">MAY</em> be embedded in another format, called the <strong>embedding format</strong>, just as JSON Schema is embedded in the OAS in the form of Schema Objects.
It is the responsibility of an embedding format to define how to parse embedded content, and OAS implementations that do not document support for an embedding format cannot be expected to parse embedded OAS content correctly.</p>
<section id="parsing-documents"><div class="header-wrapper"><h5 id="x4-1-2-1-parsing-documents"><bdi class="secno">4.1.2.1 </bdi>Parsing Documents</h5><a class="self-link" href="#parsing-documents" aria-label="Permalink for Section 4.1.2.1"></a></div>
<p>Each document in an OAD <em class="rfc2119">MUST</em> be fully parsed in order to locate possible reference targets.
This includes the parsing requirements of <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-9">JSON Schema Specification Draft 2020-12</a>, with appropriate modifications regarding base URIs as specified in <a href="#relative-references-in-api-description-uris">Relative References In URIs</a>.
Reference targets are defined by fields including the OpenAPI Objectโs <a href="#oas-self"><code>$self</code></a> field and the <a href="#schema-object">Schema Objectโs</a> <code>$id</code>, <code>$anchor</code>, and <code>$dynamicAnchor</code> keywords.</p>
<p>Implementations <em class="rfc2119">MUST NOT</em> treat a reference as unresolvable before completely parsing all documents provided to the implementation as possible parts of the OAD.</p>
<p>If only the referenced part of the document is parsed when resolving a reference, the resulting behavior can be implementation-defined or undefined; see <a href="#warnings-regarding-fragmentary-parsing">Warnings Regarding Fragmentary Parsing</a> in <a href="#appendix-g-parsing-and-resolution-guidance">Appendix G</a> for details.</p>
</section><section id="relative-references-in-api-description-uris"><div class="header-wrapper"><h5 id="x4-1-2-2-relative-references-in-api-description-uris"><bdi class="secno">4.1.2.2 </bdi>Relative References in API Description URIs</h5><a class="self-link" href="#relative-references-in-api-description-uris" aria-label="Permalink for Section 4.1.2.2"></a></div>
<p>URIs used as references within an OpenAPI Description, or to external documentation or other supplementary information such as a license, are resolved as <em>identifiers</em>, and described by this specification as <strong><em>URIs</em></strong>, in contrast with <a href="#relative-references-in-api-urls">API URLs</a>.
Note that some URI fields are named <code>url</code> for historical reasons, but the descriptive text for those fields uses the correct โURIโ terminology.</p>
<p>As noted under <a href="#parsing-documents">Parsing Documents</a>, several fields can be used to associate an OpenAPI document or a Schema Object with a URI, which might not match the documentโs or schemaโs location.
This allows the same references to be used in different deployment environments, including local filesystems or networks restricted by security policies or connectivity limitations.</p>
<p>Unless specified otherwise, all fields that are URIs <em class="rfc2119">MAY</em> be relative references as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-4.2">Section 4.2</a>.</p>
<section id="establishing-the-base-uri"><div class="header-wrapper"><h6 id="x4-1-2-2-1-establishing-the-base-uri"><bdi class="secno">4.1.2.2.1 </bdi>Establishing the Base URI</h6><a class="self-link" href="#establishing-the-base-uri" aria-label="Permalink for Section 4.1.2.2.1"></a></div>
<p>Relative URI references are resolved using the appropriate base URI, which <em class="rfc2119">MUST</em> be determined in accordance with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-5.1.1">Section 5.1.1 โ 5.1.4</a> and, for Schema objects, <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-8.2">JSON Schema draft 2020-12 Section 8.2</a>, as illustrated by the examples in <a href="#appendix-f-examples-of-base-uri-determination-and-reference-resolution">Appendix F: Examples of Base URI Determination and Reference Resolution</a>.</p>
<p>If <code>$self</code> is a relative URI reference, it is resolved against the next possible base URI source ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://tools.ietf.org/html/rfc3986#section-5.1.2">Section 5.1.2 โ 5.1.4</a>) before being used for the resolution of other relative URI references.</p>
<p>The most common base URI source that is used in the event of a missing or relative <code>$self</code> (in the <a href="#openapi-object">OpenAPI Object</a>) and (for <a href="#schema-object">Schema Object</a>) <code>$id</code> is the retrieval URI.
Implementations <em class="rfc2119">MAY</em> support document retrieval, although see the <a href="#security-considerations">Security Considerations</a> sections for additional guidance.
Even if retrieval is supported, it may be impossible due to network configuration or server unavailability (including the server hosting an older version while a new version is in development), or undesirable due to performance impacts.
Therefore, all implementations <em class="rfc2119">SHOULD</em> allow users to provide documents with their intended retrieval URIs so that references can be resolved as if retrievals were performed.</p>
</section><section id="resolving-uri-fragments"><div class="header-wrapper"><h6 id="x4-1-2-2-2-resolving-uri-fragments"><bdi class="secno">4.1.2.2.2 </bdi>Resolving URI fragments</h6><a class="self-link" href="#resolving-uri-fragments" aria-label="Permalink for Section 4.1.2.2.2"></a></div>
<p>If a URI contains a fragment identifier, then the fragment should be resolved per the fragment resolution mechanism of the referenced document. If the representation of the referenced document is JSON or YAML, then the fragment identifier <em class="rfc2119">SHOULD</em> be interpreted as a JSON Pointer as per [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>].</p>
</section><section id="relative-uri-references-in-commonmark-fields"><div class="header-wrapper"><h6 id="x4-1-2-2-3-relative-uri-references-in-commonmark-fields"><bdi class="secno">4.1.2.2.3 </bdi>Relative URI References in CommonMark Fields</h6><a class="self-link" href="#relative-uri-references-in-commonmark-fields" aria-label="Permalink for Section 4.1.2.2.3"></a></div>
<p>Relative references in CommonMark hyperlinks are resolved in their rendered context, which might differ from the context of the API description.</p>
</section></section><section id="resolving-implicit-connections"><div class="header-wrapper"><h5 id="x4-1-2-3-resolving-implicit-connections"><bdi class="secno">4.1.2.3 </bdi>Resolving Implicit Connections</h5><a class="self-link" href="#resolving-implicit-connections" aria-label="Permalink for Section 4.1.2.3"></a></div>
<p>Several features of this specification require resolution of non-URI-based connections to some other part of the OpenAPI Description (OAD).</p>
<p>These connections are unambiguously resolved in single-document OADs, but the resolution process in multi-document OADs is <em>implementation-defined</em>, within the constraints described in this section.
In some cases, an unambiguous URI-based alternative is available, and OAD authors are <em class="rfc2119">RECOMMENDED</em> to use the alternative to maximize interoperability.</p>
<p>For resolving <a href="#components-object">Components Object</a> and <a href="#tag-object">Tag Object</a> names from a referenced (non-entry) document, it is <em class="rfc2119">RECOMMENDED</em> that tools resolve from the entry document, rather than the current document.
For resolving an <a href="#operation-object">Operation Object</a> based on an <code>operationId</code>, it is <em class="rfc2119">RECOMMENDED</em> to consider all Operation Objects from all parsed documents.</p>
<p>Note that no aspect of implicit connection resolution changes how <a href="#relative-references-in-api-description-uris">URIs are resolved</a>, or restricts their possible targets.</p>
<p>See <a href="#appendix-g-parsing-and-resolution-guidance">Appendix G: Parsing and Resolution Guidance</a> for more details, including a list of Objects and fields using implicit connections.</p>
</section></section></section><section id="info-object"><div class="header-wrapper"><h3 id="x4-2-info-object"><bdi class="secno">4.2 </bdi>Info Object</h3><a class="self-link" href="#info-object" aria-label="Permalink for Section 4.2"></a></div>
<p>The object provides metadata about the API.
The metadata <em class="rfc2119">MAY</em> be used by the clients if needed, and <em class="rfc2119">MAY</em> be presented in editing or documentation generation tools for convenience.</p>
<section id="fixed-fields-0"><div class="header-wrapper"><h4 id="x4-2-1-fixed-fields"><bdi class="secno">4.2.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-0" aria-label="Permalink for Section 4.2.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="info-title"></span>title</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The title of the API.</td>
</tr>
<tr>
<td><span id="info-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary of the API.</td>
</tr>
<tr>
<td><span id="info-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the API. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="info-terms-of-service"></span>termsOfService</td>
<td style="text-align:center"><code>string</code></td>
<td>A URI for the Terms of Service for the API. This <em class="rfc2119">MUST</em> be in the form of a URI.</td>
</tr>
<tr>
<td><span id="info-contact"></span>contact</td>
<td style="text-align:center"><a href="#contact-object">Contact Object</a></td>
<td>The contact information for the exposed API.</td>
</tr>
<tr>
<td><span id="info-license"></span>license</td>
<td style="text-align:center"><a href="#license-object">License Object</a></td>
<td>The license information for the exposed API.</td>
</tr>
<tr>
<td><span id="info-version"></span>version</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The version of the OpenAPI document (which is distinct from the <a href="#oas-version">OpenAPI Specification version</a> or the version of the API being described or the version of the OpenAPI Description).</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="info-object-example"><div class="header-wrapper"><h4 id="x4-2-2-info-object-example"><bdi class="secno">4.2.2 </bdi>Info Object Example</h4><a class="self-link" href="#info-object-example" aria-label="Permalink for Section 4.2.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">title:</span> <span class="hljs-string">Example</span> <span class="hljs-string">Pet</span> <span class="hljs-string">Store</span> <span class="hljs-string">App</span>
<span class="hljs-attr">summary:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">store</span> <span class="hljs-string">manager.</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">This</span> <span class="hljs-string">is</span> <span class="hljs-string">an</span> <span class="hljs-string">example</span> <span class="hljs-string">server</span> <span class="hljs-string">for</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">store.</span>
<span class="hljs-attr">termsOfService:</span> <span class="hljs-string">https://example.com/terms/</span>
<span class="hljs-attr">contact:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">API</span> <span class="hljs-string">Support</span>
  <span class="hljs-attr">url:</span> <span class="hljs-string">https://www.example.com/support</span>
  <span class="hljs-attr">email:</span> <span class="hljs-string">support@example.com</span>
<span class="hljs-attr">license:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">Apache</span> <span class="hljs-number">2.0</span>
  <span class="hljs-attr">url:</span> <span class="hljs-string">https://www.apache.org/licenses/LICENSE-2.0.html</span>
<span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.1</span>
</code></pre>
</section></section><section id="contact-object"><div class="header-wrapper"><h3 id="x4-3-contact-object"><bdi class="secno">4.3 </bdi>Contact Object</h3><a class="self-link" href="#contact-object" aria-label="Permalink for Section 4.3"></a></div>
<p>Contact information for the exposed API.</p>
<section id="fixed-fields-1"><div class="header-wrapper"><h4 id="x4-3-1-fixed-fields"><bdi class="secno">4.3.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-1" aria-label="Permalink for Section 4.3.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="contact-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td>The identifying name of the contact person/organization.</td>
</tr>
<tr>
<td><span id="contact-url"></span>url</td>
<td style="text-align:center"><code>string</code></td>
<td>The URI for the contact information. This <em class="rfc2119">MUST</em> be in the form of a URI.</td>
</tr>
<tr>
<td><span id="contact-email"></span>email</td>
<td style="text-align:center"><code>string</code></td>
<td>The email address of the contact person/organization. This <em class="rfc2119">MUST</em> be in the form of an email address.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="contact-object-example"><div class="header-wrapper"><h4 id="x4-3-2-contact-object-example"><bdi class="secno">4.3.2 </bdi>Contact Object Example</h4><a class="self-link" href="#contact-object-example" aria-label="Permalink for Section 4.3.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">API</span> <span class="hljs-string">Support</span>
<span class="hljs-attr">url:</span> <span class="hljs-string">https://www.example.com/support</span>
<span class="hljs-attr">email:</span> <span class="hljs-string">support@example.com</span>
</code></pre>
</section></section><section id="license-object"><div class="header-wrapper"><h3 id="x4-4-license-object"><bdi class="secno">4.4 </bdi>License Object</h3><a class="self-link" href="#license-object" aria-label="Permalink for Section 4.4"></a></div>
<p>License information for the exposed API.</p>
<section id="fixed-fields-2"><div class="header-wrapper"><h4 id="x4-4-1-fixed-fields"><bdi class="secno">4.4.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-2" aria-label="Permalink for Section 4.4.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="license-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The license name used for the API.</td>
</tr>
<tr>
<td><span id="license-identifier"></span>identifier</td>
<td style="text-align:center"><code>string</code></td>
<td>An [<cite><a class="bibref" data-link-type="biblio" href="#bib-spdx-licenses" title="SPDX License List">SPDX-Licenses</a></cite>] expression for the API. The <code>identifier</code> field is mutually exclusive of the <code>url</code> field.</td>
</tr>
<tr>
<td><span id="license-url"></span>url</td>
<td style="text-align:center"><code>string</code></td>
<td>A URI for the license used for the API. This <em class="rfc2119">MUST</em> be in the form of a URI. The <code>url</code> field is mutually exclusive of the <code>identifier</code> field.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="license-object-example"><div class="header-wrapper"><h4 id="x4-4-2-license-object-example"><bdi class="secno">4.4.2 </bdi>License Object Example</h4><a class="self-link" href="#license-object-example" aria-label="Permalink for Section 4.4.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">Apache</span> <span class="hljs-number">2.0</span>
<span class="hljs-attr">identifier:</span> <span class="hljs-string">Apache-2.0</span>
</code></pre>
</section></section><section id="server-object"><div class="header-wrapper"><h3 id="x4-5-server-object"><bdi class="secno">4.5 </bdi>Server Object</h3><a class="self-link" href="#server-object" aria-label="Permalink for Section 4.5"></a></div>
<p>An object representing a Server.</p>
<section id="fixed-fields-3"><div class="header-wrapper"><h4 id="x4-5-1-fixed-fields"><bdi class="secno">4.5.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-3" aria-label="Permalink for Section 4.5.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="server-url"></span>url</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. A URL to the target host. This URL supports Server Variables and <em class="rfc2119">MAY</em> be relative, to indicate that the host location is relative to the location where the document containing the Server Object is being served. Query and fragment <em class="rfc2119">MUST NOT</em> be part of this URL. Variable substitutions will be made when a variable is named in <code>{</code>braces<code>}</code>.</td>
</tr>
<tr>
<td><span id="server-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>An optional string describing the host designated by the URL. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="server-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td>An optional unique string to refer to the host designated by the URL.</td>
</tr>
<tr>
<td><span id="server-variables"></span>variables</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#server-variable-object">Server Variable Object</a>]</td>
<td>A map between a variable name and its value. The value is used for substitution in the serverโs URL template.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="relative-references-in-api-urls"><div class="header-wrapper"><h4 id="x4-5-2-relative-references-in-api-urls"><bdi class="secno">4.5.2 </bdi>Relative References in API URLs</h4><a class="self-link" href="#relative-references-in-api-urls" aria-label="Permalink for Section 4.5.2"></a></div>
<p>API endpoints are by definition accessed as locations, and are described by this specification as <strong><em>URLs</em></strong>.</p>
<p>Unless specified otherwise, all fields that are URLs <em class="rfc2119">MAY</em> be relative references as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-4.2">Section 4.2</a>.</p>
<p>Because the API is a distinct entity from the OpenAPI document, RFC3986โs base URI rules for the OpenAPI document do not apply.
Unless specified otherwise, relative references are resolved using the URLs defined in the <a href="#server-object">Server Object</a> as a base URL. Note that these themselves <em class="rfc2119">MAY</em> be relative to the referring document.</p>
<section id="examples-of-api-base-url-determination"><div class="header-wrapper"><h5 id="x4-5-2-1-examples-of-api-base-url-determination"><bdi class="secno">4.5.2.1 </bdi>Examples of API Base URL Determination</h5><a class="self-link" href="#examples-of-api-base-url-determination" aria-label="Permalink for Section 4.5.2.1"></a></div>
<p>Assume a retrieval URI of <code>https://device1.example.com</code> for the following OpenAPI document:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-string">$self:</span> <span class="hljs-string">https://apidescriptions.example.com/foo</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Example</span> <span class="hljs-string">API</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">servers:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">.</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">production</span> <span class="hljs-string">API</span> <span class="hljs-string">on</span> <span class="hljs-string">this</span> <span class="hljs-string">device</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">./test</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">test</span> <span class="hljs-string">API</span> <span class="hljs-string">on</span> <span class="hljs-string">this</span> <span class="hljs-string">device</span>
</code></pre>
<p>For API URLs the <code>$self</code> field, which identifies the OpenAPI document, is ignored and the retrieval URI is used instead. This produces a normalized production URL of <code>https://device1.example.com</code>, and a normalized test URL of <code>https://device1.example.com/test</code>.</p>
</section></section><section id="server-object-example"><div class="header-wrapper"><h4 id="x4-5-3-server-object-example"><bdi class="secno">4.5.3 </bdi>Server Object Example</h4><a class="self-link" href="#server-object-example" aria-label="Permalink for Section 4.5.3"></a></div>
<p>A single server would be described as:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">url:</span> <span class="hljs-string">https://development.gigantic-server.com/v1</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Development</span> <span class="hljs-string">server</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">dev</span>
</code></pre>
<p>The following shows how multiple servers can be described, for example, at the OpenAPI Objectโs <a href="#oas-servers"><code>servers</code></a>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">servers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">https://development.gigantic-server.com/v1</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Development</span> <span class="hljs-string">server</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">dev</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">https://staging.gigantic-server.com/v1</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Staging</span> <span class="hljs-string">server</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">staging</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">https://api.gigantic-server.com/v1</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Production</span> <span class="hljs-string">server</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">prod</span>
</code></pre>
<p>The following shows how variables can be used for a server configuration:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">servers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">url:</span> <span class="hljs-string">https://{username}.gigantic-server.com:{port}/{basePath}</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">production</span> <span class="hljs-string">API</span> <span class="hljs-string">server</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">prod</span>
    <span class="hljs-attr">variables:</span>
      <span class="hljs-attr">username:</span>
        <span class="hljs-comment"># note! no enum here means it is an open value</span>
        <span class="hljs-attr">default:</span> <span class="hljs-string">demo</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">user-specific</span> <span class="hljs-string">subdomain.</span> <span class="hljs-string">Use</span> <span class="hljs-string">`demo`</span> <span class="hljs-string">for</span> <span class="hljs-string">a</span> <span class="hljs-string">free</span> <span class="hljs-string">sandbox</span> <span class="hljs-string">environment.</span>
      <span class="hljs-attr">port:</span>
        <span class="hljs-attr">enum:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">'8443'</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">'443'</span>
        <span class="hljs-attr">default:</span> <span class="hljs-string">'8443'</span>
      <span class="hljs-attr">basePath:</span>
        <span class="hljs-comment"># open meaning there is the opportunity to use special base paths as assigned by the provider, default is "v2"</span>
        <span class="hljs-attr">default:</span> <span class="hljs-string">v2</span>
</code></pre>
</section></section><section id="server-variable-object"><div class="header-wrapper"><h3 id="x4-6-server-variable-object"><bdi class="secno">4.6 </bdi>Server Variable Object</h3><a class="self-link" href="#server-variable-object" aria-label="Permalink for Section 4.6"></a></div>
<p>An object representing a Server Variable for server URL template substitution.</p>
<p>The server URL templating is defined by the following [<cite><a class="bibref" data-link-type="biblio" href="#bib-abnf" title="Augmented BNF for Syntax Specifications: ABNF">ABNF</a></cite>] syntax.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attribute">server-url-template</span>  <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*( literals / server-variable )
<span class="hljs-attribute">server-variable</span>      <span class="hljs-operator">=</span> <span class="hljs-string">"{"</span> server-variable-name <span class="hljs-string">"}"</span>
<span class="hljs-attribute">server-variable-name</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*( <span class="hljs-symbol">%x00-7A</span> / <span class="hljs-symbol">%x7C</span> / <span class="hljs-symbol">%x7E-10FFFF</span> ) <span class="hljs-comment">; every Unicode character except { and }</span>

<span class="hljs-attribute">literals</span>       <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*( <span class="hljs-symbol">%x21</span> / <span class="hljs-symbol">%x23-24</span> / <span class="hljs-symbol">%x26-3B</span> / <span class="hljs-symbol">%x3D</span> / <span class="hljs-symbol">%x3F-5B</span>
               / <span class="hljs-symbol">%x5D</span> / <span class="hljs-symbol">%x5F</span> / <span class="hljs-symbol">%x61-7A</span> / <span class="hljs-symbol">%x7E</span> / ucschar / iprivate
               / pct-encoded)
                    <span class="hljs-comment">; any Unicode character except: CTL, SP,</span>
                    <span class="hljs-comment">;  DQUOTE, "%" (aside from pct-encoded),</span>
                    <span class="hljs-comment">;  "&lt;", "&gt;", "\", "^", "`", "{", "|", "}"</span>
<span class="hljs-attribute">pct-encoded</span>    <span class="hljs-operator">=</span>  <span class="hljs-string">"%"</span> <span class="hljs-keyword">HEXDIG</span> <span class="hljs-keyword">HEXDIG</span>
<span class="hljs-attribute">ucschar</span>        <span class="hljs-operator">=</span>  <span class="hljs-symbol">%xA0-D7FF</span> / <span class="hljs-symbol">%xF900-FDCF</span> / <span class="hljs-symbol">%xFDF0-FFEF</span>
               /  <span class="hljs-symbol">%x10000-1FFFD</span> / <span class="hljs-symbol">%x20000-2FFFD</span> / <span class="hljs-symbol">%x30000-3FFFD</span>
               /  <span class="hljs-symbol">%x40000-4FFFD</span> / <span class="hljs-symbol">%x50000-5FFFD</span> / <span class="hljs-symbol">%x60000-6FFFD</span>
               /  <span class="hljs-symbol">%x70000-7FFFD</span> / <span class="hljs-symbol">%x80000-8FFFD</span> / <span class="hljs-symbol">%x90000-9FFFD</span>
               /  <span class="hljs-symbol">%xA0000-AFFFD</span> / <span class="hljs-symbol">%xB0000-BFFFD</span> / <span class="hljs-symbol">%xC0000-CFFFD</span>
               /  <span class="hljs-symbol">%xD0000-DFFFD</span> / <span class="hljs-symbol">%xE1000-EFFFD</span>
<span class="hljs-attribute">iprivate</span>       <span class="hljs-operator">=</span>  <span class="hljs-symbol">%xE000-F8FF</span> / <span class="hljs-symbol">%xF0000-FFFFD</span> / <span class="hljs-symbol">%x100000-10FFFD</span>
</code></pre>
<p>Here, <code>literals</code>, <code>pct-encoded</code>, <code>ucschar</code> and <code>iprivate</code> definitions are taken from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>], incorporating the corrections specified in <a href="https://www.rfc-editor.org/errata/eid6937">Errata 6937</a> for <code>literals</code>.</p>
<p>Each server variable <em class="rfc2119">MUST NOT</em> appear more than once in the URL template.</p>
<p>See the <a href="#paths-object">Paths Object</a> for guidance on constructing full request URLs.</p>
<section id="fixed-fields-4"><div class="header-wrapper"><h4 id="x4-6-1-fixed-fields"><bdi class="secno">4.6.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-4" aria-label="Permalink for Section 4.6.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="server-variable-enum"></span>enum</td>
<td style="text-align:center">[<code>string</code>]</td>
<td>An enumeration of string values to be used if the substitution options are from a limited set. The array <em class="rfc2119">MUST NOT</em> be empty.</td>
</tr>
<tr>
<td><span id="server-variable-default"></span>default</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The default value to use for substitution, which <em class="rfc2119">SHALL</em> be sent if an alternate value is <em>not</em> supplied. If the <a href="#server-variable-enum"><code>enum</code></a> is defined, the value <em class="rfc2119">MUST</em> exist in the enumโs values. Note that this behavior is different from the <a href="#schema-object">Schema Object</a>โs <code>default</code> keyword, which documents the receiverโs behavior rather than inserting the value into the data.</td>
</tr>
<tr>
<td><span id="server-variable-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>An optional description for the server variable. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section></section><section id="components-object"><div class="header-wrapper"><h3 id="x4-7-components-object"><bdi class="secno">4.7 </bdi>Components Object</h3><a class="self-link" href="#components-object" aria-label="Permalink for Section 4.7"></a></div>
<p>Holds a set of reusable objects for different aspects of the OAS.
All objects defined within the Components Object will have no effect on the API unless they are explicitly referenced from outside the Components Object.</p>
<section id="fixed-fields-5"><div class="header-wrapper"><h4 id="x4-7-1-fixed-fields"><bdi class="secno">4.7.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-5" aria-label="Permalink for Section 4.7.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:left">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="components-schemas"></span> schemas</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#schema-object">Schema Object</a>]</td>
<td>An object to hold reusable <a href="#schema-object">Schema Objects</a>.</td>
</tr>
<tr>
<td><span id="components-responses"></span> responses</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#response-object">Response Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#response-object">Response Objects</a>.</td>
</tr>
<tr>
<td><span id="components-parameters"></span> parameters</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#parameter-object">Parameter Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#parameter-object">Parameter Objects</a>.</td>
</tr>
<tr>
<td><span id="components-examples"></span> examples</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#example-object">Example Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#example-object">Example Objects</a>.</td>
</tr>
<tr>
<td><span id="components-request-bodies"></span> requestBodies</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#request-body-object">Request Body Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#request-body-object">Request Body Objects</a>.</td>
</tr>
<tr>
<td><span id="components-headers"></span> headers</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#header-object">Header Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#header-object">Header Objects</a>.</td>
</tr>
<tr>
<td><span id="components-security-schemes"></span> securitySchemes</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#security-scheme-object">Security Scheme Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#security-scheme-object">Security Scheme Objects</a>.</td>
</tr>
<tr>
<td><span id="components-links"></span> links</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#link-object">Link Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#link-object">Link Objects</a>.</td>
</tr>
<tr>
<td><span id="components-callbacks"></span> callbacks</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#callback-object">Callback Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#callback-object">Callback Objects</a>.</td>
</tr>
<tr>
<td><span id="components-path-items"></span> pathItems</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#path-item-object">Path Item Object</a>]</td>
<td>An object to hold reusable <a href="#path-item-object">Path Item Objects</a>.</td>
</tr>
<tr>
<td><span id="components-media-types"></span> mediaTypes</td>
<td style="text-align:left">Map[<code>string</code>, <a href="#media-type-object">Media Type Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>An object to hold reusable <a href="#media-type-object">Media Type Objects</a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>All the fixed fields declared above are objects that <em class="rfc2119">MUST</em> use keys that match the regular expression: <code>^[a-zA-Z0-9\.\-_]+$</code>.</p>
<p>Field Name Examples:</p>
<pre class="nohighlight" tabindex="0"><code>User
User_1
User_Name
user-name
my.org.User
</code></pre>
</section><section id="components-object-example"><div class="header-wrapper"><h4 id="x4-7-2-components-object-example"><bdi class="secno">4.7.2 </bdi>Components Object Example</h4><a class="self-link" href="#components-object-example" aria-label="Permalink for Section 4.7.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">GeneralError:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">code:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
        <span class="hljs-attr">message:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">Category:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">id:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int64</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">Tag:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">id:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int64</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">parameters:</span>
    <span class="hljs-attr">skipParam:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">skip</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">items</span> <span class="hljs-string">to</span> <span class="hljs-string">skip</span>
      <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
        <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
    <span class="hljs-attr">limitParam:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">limit</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">max</span> <span class="hljs-string">records</span> <span class="hljs-string">to</span> <span class="hljs-string">return</span>
      <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
        <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
  <span class="hljs-attr">responses:</span>
    <span class="hljs-attr">NotFound:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">Entity</span> <span class="hljs-string">not</span> <span class="hljs-string">found.</span>
    <span class="hljs-attr">IllegalInput:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">Illegal</span> <span class="hljs-string">input</span> <span class="hljs-string">for</span> <span class="hljs-string">operation.</span>
    <span class="hljs-attr">GeneralError:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">General</span> <span class="hljs-string">Error</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/GeneralError'</span>
  <span class="hljs-attr">securitySchemes:</span>
    <span class="hljs-attr">api_key:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">apiKey</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">api-key</span>
      <span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
    <span class="hljs-attr">petstore_auth:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">oauth2</span>
      <span class="hljs-attr">flows:</span>
        <span class="hljs-attr">implicit:</span>
          <span class="hljs-attr">authorizationUrl:</span> <span class="hljs-string">https://example.org/api/oauth/dialog</span>
          <span class="hljs-attr">scopes:</span>
            <span class="hljs-attr">write:pets:</span> <span class="hljs-string">modify</span> <span class="hljs-string">pets</span> <span class="hljs-string">in</span> <span class="hljs-string">your</span> <span class="hljs-string">account</span>
            <span class="hljs-attr">read:pets:</span> <span class="hljs-string">read</span> <span class="hljs-string">your</span> <span class="hljs-string">pets</span>
</code></pre>
</section></section><section id="paths-object"><div class="header-wrapper"><h3 id="x4-8-paths-object"><bdi class="secno">4.8 </bdi>Paths Object</h3><a class="self-link" href="#paths-object" aria-label="Permalink for Section 4.8"></a></div>
<p>Holds the relative paths to the individual endpoints and their operations.
The path is appended to the URL from the <a href="#server-object">Server Object</a> in order to construct the full URL. The Paths Object <em class="rfc2119">MAY</em> be empty, due to <a href="#security-filtering">Access Control List (ACL) constraints</a>.</p>
<section id="patterned-fields"><div class="header-wrapper"><h4 id="x4-8-1-patterned-fields"><bdi class="secno">4.8.1 </bdi>Patterned Fields</h4><a class="self-link" href="#patterned-fields" aria-label="Permalink for Section 4.8.1"></a></div>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="paths-path"></span>/{path}</td>
<td style="text-align:center"><a href="#path-item-object">Path Item Object</a></td>
<td>A relative path to an individual endpoint. The field name <em class="rfc2119">MUST</em> begin with a forward slash (<code>/</code>). The URL from the <a href="#server-object">Server Object</a>โs <code>url</code> field, resolved and with template variables substituted, has the path <strong>appended</strong> (no relative URL resolution) to it in order to construct the full URL. <a href="#path-templating">Path templating</a> is allowed. When matching URLs, concrete (non-templated) paths would be matched before their templated counterparts. Templated paths with the same hierarchy but different templated names <em class="rfc2119">MUST NOT</em> exist as they are identical. In case of ambiguous matching, itโs up to the tooling to decide which one to use.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="path-templating"><div class="header-wrapper"><h4 id="x4-8-2-path-templating"><bdi class="secno">4.8.2 </bdi>Path Templating</h4><a class="self-link" href="#path-templating" aria-label="Permalink for Section 4.8.2"></a></div>
<p>Path templating refers to the usage of template expressions, delimited by curly braces (<code>{}</code>), to mark a section of a URL path as replaceable using path parameters.</p>
<p>Each template expression in the path <em class="rfc2119">MUST</em> correspond to a path parameter that is included in the <a href="#path-item-object">Path Item</a> itself and/or in each of the Path Itemโs <a href="#operation-object">Operations</a>. An exception is if the path item is empty, for example due to ACL constraints, matching path parameters are not required.</p>
<p>The value for these path parameters <em class="rfc2119">MUST NOT</em> contain any unescaped โgeneric syntaxโ characters described by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-3">Section 3</a>: forward slashes (<code>/</code>), question marks (<code>?</code>), or hashes (<code>#</code>).
See <a href="#url-percent-encoding">URL Percent-Encoding</a> for additional guidance on escaping characters.</p>
<p>The path templating is defined by the following [<cite><a class="bibref" data-link-type="biblio" href="#bib-abnf" title="Augmented BNF for Syntax Specifications: ABNF">ABNF</a></cite>] syntax</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attribute">path-template</span>                  <span class="hljs-operator">=</span> <span class="hljs-string">"/"</span> *( path-segment <span class="hljs-string">"/"</span> ) [ path-segment ]
<span class="hljs-attribute">path-segment</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*( path-literal / template-expression )
<span class="hljs-attribute">path-literal</span>                   <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*pchar
<span class="hljs-attribute">template-expression</span>            <span class="hljs-operator">=</span> <span class="hljs-string">"{"</span> template-expression-param-name <span class="hljs-string">"}"</span>
<span class="hljs-attribute">template-expression-param-name</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*( <span class="hljs-symbol">%x00-7A</span> / <span class="hljs-symbol">%x7C</span> / <span class="hljs-symbol">%x7E-10FFFF</span> ) <span class="hljs-comment">; every Unicode character except { and }</span>

<span class="hljs-attribute">pchar</span>               <span class="hljs-operator">=</span> unreserved / pct-encoded / sub-delims / <span class="hljs-string">":"</span> / <span class="hljs-string">"@"</span>
<span class="hljs-attribute">unreserved</span>          <span class="hljs-operator">=</span> <span class="hljs-keyword">ALPHA</span> / <span class="hljs-keyword">DIGIT</span> / <span class="hljs-string">"-"</span> / <span class="hljs-string">"."</span> / <span class="hljs-string">"_"</span> / <span class="hljs-string">"~"</span>
<span class="hljs-attribute">pct-encoded</span>         <span class="hljs-operator">=</span> <span class="hljs-string">"%"</span> <span class="hljs-keyword">HEXDIG</span> <span class="hljs-keyword">HEXDIG</span>
<span class="hljs-attribute">sub-delims</span>          <span class="hljs-operator">=</span> <span class="hljs-string">"!"</span> / <span class="hljs-string">"$"</span> / <span class="hljs-string">"&amp;"</span> / <span class="hljs-string">"'"</span> / <span class="hljs-string">"("</span> / <span class="hljs-string">")"</span>
                    / <span class="hljs-string">"*"</span> / <span class="hljs-string">"+"</span> / <span class="hljs-string">","</span> / <span class="hljs-string">";"</span> / <span class="hljs-string">"="</span>
</code></pre>
<p>Here, <code>pchar</code>, <code>unreserved</code>, <code>pct-encoded</code> and <code>sub-delims</code> definitions are taken from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. The <code>path-template</code> is directly derived from <a href="https://tools.ietf.org/html/rfc3986#section-3.3">RFC 3986, section 3.3</a>.</p>
<p>Each template expression <em class="rfc2119">MUST NOT</em> appear more than once in a single path template.</p>
<p>See also <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C: Using RFC6570-Based Serialization</a> for additional guidance.</p>
<section id="path-templating-matching"><div class="header-wrapper"><h5 id="x4-8-2-1-path-templating-matching"><bdi class="secno">4.8.2.1 </bdi>Path Templating Matching</h5><a class="self-link" href="#path-templating-matching" aria-label="Permalink for Section 4.8.2.1"></a></div>
<p>Assuming the following paths, the concrete definition, <code>/pets/mine</code>, will be matched first if used:</p>
<pre class="nohighlight" tabindex="0"><code>  /pets/{petId}
  /pets/mine
</code></pre>
<p>The following paths are considered identical and invalid:</p>
<pre class="nohighlight" tabindex="0"><code>  /pets/{petId}
  /pets/{name}
</code></pre>
<p>The following may lead to ambiguous resolution:</p>
<pre class="nohighlight" tabindex="0"><code>  /{entity}/me
  /books/{id}
</code></pre>
</section></section><section id="paths-object-example"><div class="header-wrapper"><h4 id="x4-8-3-paths-object-example"><bdi class="secno">4.8.3 </bdi>Paths Object Example</h4><a class="self-link" href="#paths-object-example" aria-label="Permalink for Section 4.8.3"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-string">/pets:</span>
  <span class="hljs-attr">get:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Returns</span> <span class="hljs-string">all</span> <span class="hljs-string">pets</span> <span class="hljs-string">from</span> <span class="hljs-string">the</span> <span class="hljs-string">system</span> <span class="hljs-string">that</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">has</span> <span class="hljs-string">access</span> <span class="hljs-string">to</span>
    <span class="hljs-attr">responses:</span>
      <span class="hljs-attr">'200':</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">list</span> <span class="hljs-string">of</span> <span class="hljs-string">pets.</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/json:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
              <span class="hljs-attr">items:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/pet'</span>
</code></pre>
</section></section><section id="path-item-object"><div class="header-wrapper"><h3 id="x4-9-path-item-object"><bdi class="secno">4.9 </bdi>Path Item Object</h3><a class="self-link" href="#path-item-object" aria-label="Permalink for Section 4.9"></a></div>
<p>Describes the operations available on a single path.
A Path Item <em class="rfc2119">MAY</em> be empty, due to <a href="#security-filtering">ACL constraints</a>.
The path itself is still exposed to the documentation viewer but they will not know which operations and parameters are available.</p>
<section id="fixed-fields-6"><div class="header-wrapper"><h4 id="x4-9-1-fixed-fields"><bdi class="secno">4.9.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-6" aria-label="Permalink for Section 4.9.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="path-item-ref"></span>$ref</td>
<td style="text-align:center"><code>string</code></td>
<td>Allows for a referenced definition of this path item. The value <em class="rfc2119">MUST</em> be in the form of a URI, and the referenced structure <em class="rfc2119">MUST</em> be in the form of a <a href="#path-item-object">Path Item Object</a>. In case a Path Item Object field appears both in the defined object and the referenced object, the behavior is undefined. See the rules for resolving <a href="#relative-references-in-api-description-uris">Relative References</a>. <br><br><em><strong>Note:</strong> The behavior of <code>$ref</code> with adjacent properties is likely to change in future versions of this specification to bring it into closer alignment with the behavior of the <a href="#reference-object">Reference Object</a>.</em></td>
</tr>
<tr>
<td><span id="path-item-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>An optional string summary, intended to apply to all operations in this path.</td>
</tr>
<tr>
<td><span id="path-item-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>An optional string description, intended to apply to all operations in this path. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="path-item-get"></span>get</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a GET operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-put"></span>put</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a PUT operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-post"></span>post</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a POST operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-delete"></span>delete</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a DELETE operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-options"></span>options</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a OPTIONS operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-head"></span>head</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a HEAD operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-patch"></span>patch</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a PATCH operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-trace"></span>trace</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a TRACE operation on this path.</td>
</tr>
<tr>
<td><span id="path-item-query"></span>query</td>
<td style="text-align:center"><a href="#operation-object">Operation Object</a></td>
<td>A definition of a QUERY operation, as defined in the most recent IETF draft (<a href="https://www.ietf.org/archive/id/draft-ietf-httpbis-safe-method-w-body-11.html">draft-ietf-httpbis-safe-method-w-body-08</a> as of this writing) or its RFC successor, on this path.</td>
</tr>
<tr>
<td><span id="path-item-additional-operations"></span>additionalOperations</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#operation-object">Operation Object</a>]</td>
<td>A map of additional operations on this path. The map key is the HTTP method with the same capitalization that is to be sent in the request. This map <em class="rfc2119">MUST NOT</em> contain any entry for the methods that can be defined by other fixed fields with Operation Object values (e.g. no <code>POST</code> entry, as the <code>post</code> field is used for this method).</td>
</tr>
<tr>
<td><span id="path-item-servers"></span>servers</td>
<td style="text-align:center">[<a href="#server-object">Server Object</a>]</td>
<td>An alternative <code>servers</code> array to service all operations in this path. If a <code>servers</code> array is specified at the <a href="#oas-servers">OpenAPI Object</a> level, it will be overridden by this value.</td>
</tr>
<tr>
<td><span id="path-item-parameters"></span>parameters</td>
<td style="text-align:center">[<a href="#parameter-object">Parameter Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A list of parameters that are applicable for all the operations described under this path. These parameters can be overridden at the operation level, but cannot be removed there. The list <em class="rfc2119">MUST NOT</em> include duplicated parameters. A unique parameter is defined by a combination of a <a href="#parameter-name">name</a> and <a href="#parameter-in">location</a>. The list can use the <a href="#reference-object">Reference Object</a> to link to parameters that are defined in the <a href="#components-parameters">OpenAPI Objectโs <code>components.parameters</code></a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="path-item-object-example"><div class="header-wrapper"><h4 id="x4-9-2-path-item-object-example"><bdi class="secno">4.9.2 </bdi>Path Item Object Example</h4><a class="self-link" href="#path-item-object-example" aria-label="Permalink for Section 4.9.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">get:</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">Returns</span> <span class="hljs-string">pets</span> <span class="hljs-string">based</span> <span class="hljs-string">on</span> <span class="hljs-string">ID</span>
  <span class="hljs-attr">summary:</span> <span class="hljs-string">Find</span> <span class="hljs-string">pets</span> <span class="hljs-string">by</span> <span class="hljs-string">ID</span>
  <span class="hljs-attr">operationId:</span> <span class="hljs-string">getPetsById</span>
  <span class="hljs-attr">responses:</span>
    <span class="hljs-attr">'200':</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">pet</span> <span class="hljs-string">response</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">'*/*':</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
            <span class="hljs-attr">items:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
    <span class="hljs-attr">default:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">error</span> <span class="hljs-string">payload</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">text/html:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/ErrorModel'</span>
<span class="hljs-attr">parameters:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">id</span>
    <span class="hljs-attr">in:</span> <span class="hljs-string">path</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">ID</span> <span class="hljs-string">of</span> <span class="hljs-string">pet</span> <span class="hljs-string">to</span> <span class="hljs-string">use</span>
    <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">items:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">style:</span> <span class="hljs-string">simple</span>
<span class="hljs-attr">additionalOperations:</span>
  <span class="hljs-attr">COPY:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Copies</span> <span class="hljs-string">pet</span> <span class="hljs-string">information</span> <span class="hljs-string">based</span> <span class="hljs-string">on</span> <span class="hljs-string">ID</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">Copies</span> <span class="hljs-string">pets</span> <span class="hljs-string">by</span> <span class="hljs-string">ID</span>
    <span class="hljs-attr">operationId:</span> <span class="hljs-string">copyPetsById</span>
    <span class="hljs-attr">responses:</span>
      <span class="hljs-attr">'200':</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">pet</span> <span class="hljs-string">response</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">'*/*':</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
              <span class="hljs-attr">items:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">error</span> <span class="hljs-string">payload</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">text/html:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/ErrorModel'</span>
</code></pre>
</section></section><section id="operation-object"><div class="header-wrapper"><h3 id="x4-10-operation-object"><bdi class="secno">4.10 </bdi>Operation Object</h3><a class="self-link" href="#operation-object" aria-label="Permalink for Section 4.10"></a></div>
<p>Describes a single API operation on a path.</p>
<section id="fixed-fields-7"><div class="header-wrapper"><h4 id="x4-10-1-fixed-fields"><bdi class="secno">4.10.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-7" aria-label="Permalink for Section 4.10.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="operation-tags"></span>tags</td>
<td style="text-align:center">[<code>string</code>]</td>
<td>A list of tags for API documentation control. Tags can be used for logical grouping of operations by resources or any other qualifier.</td>
</tr>
<tr>
<td><span id="operation-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary of what the operation does.</td>
</tr>
<tr>
<td><span id="operation-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A verbose explanation of the operation behavior. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="operation-external-docs"></span>externalDocs</td>
<td style="text-align:center"><a href="#external-documentation-object">External Documentation Object</a></td>
<td>Additional external documentation for this operation.</td>
</tr>
<tr>
<td><span id="operation-id"></span>operationId</td>
<td style="text-align:center"><code>string</code></td>
<td>Unique string used to identify the operation. The id <em class="rfc2119">MUST</em> be unique among all operations described in the API. The operationId value is <strong>case-sensitive</strong>. Tools and libraries <em class="rfc2119">MAY</em> use the operationId to uniquely identify an operation, therefore, it is <em class="rfc2119">RECOMMENDED</em> to follow common programming naming conventions.</td>
</tr>
<tr>
<td><span id="operation-parameters"></span>parameters</td>
<td style="text-align:center">[<a href="#parameter-object">Parameter Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A list of parameters that are applicable for this operation. If a parameter is already defined at the <a href="#path-item-parameters">Path Item</a>, the new definition will override it but can never remove it. The list <em class="rfc2119">MUST NOT</em> include duplicated parameters. A unique parameter is defined by a combination of a <a href="#parameter-name">name</a> and <a href="#parameter-in">location</a>. The list can use the <a href="#reference-object">Reference Object</a> to link to parameters that are defined in the <a href="#components-parameters">OpenAPI Objectโs <code>components.parameters</code></a>.</td>
</tr>
<tr>
<td><span id="operation-request-body"></span>requestBody</td>
<td style="text-align:center"><a href="#request-body-object">Request Body Object</a> | <a href="#reference-object">Reference Object</a></td>
<td>The request body applicable for this operation. The <code>requestBody</code> is fully supported in HTTP methods where the HTTP specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-9.3">Section 9.3</a> has explicitly defined semantics for request bodies. In other cases where the HTTP spec discourages message content (such as <a href="https://tools.ietf.org/html/rfc9110#section-9.3.1">GET</a> and <a href="https://tools.ietf.org/html/rfc9110#section-9.3.5">DELETE</a>), <code>requestBody</code> is permitted but does not have well-defined semantics and <em class="rfc2119">SHOULD</em> be avoided if possible.</td>
</tr>
<tr>
<td><span id="operation-responses"></span>responses</td>
<td style="text-align:center"><a href="#responses-object">Responses Object</a></td>
<td>The list of possible responses as they are returned from executing this operation.</td>
</tr>
<tr>
<td><span id="operation-callbacks"></span>callbacks</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#callback-object">Callback Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map of possible out-of band callbacks related to the parent operation. The key is a unique identifier for the Callback Object. Each value in the map is a <a href="#callback-object">Callback Object</a> that describes a request that may be initiated by the API provider and the expected responses.</td>
</tr>
<tr>
<td><span id="operation-deprecated"></span>deprecated</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Declares this operation to be deprecated. Consumers <em class="rfc2119">SHOULD</em> refrain from usage of the declared operation. Default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="operation-security"></span>security</td>
<td style="text-align:center">[<a href="#security-requirement-object">Security Requirement Object</a>]</td>
<td>A declaration of which security mechanisms can be used for this operation. The list of values includes alternative Security Requirement Objects that can be used. Only one of the Security Requirement Objects need to be satisfied to authorize a request. To make security optional, an empty security requirement (<code>{}</code>) can be included in the array. This definition overrides any declared top-level <a href="#oas-security"><code>security</code></a>. To remove a top-level security declaration, an empty array can be used.</td>
</tr>
<tr>
<td><span id="operation-servers"></span>servers</td>
<td style="text-align:center">[<a href="#server-object">Server Object</a>]</td>
<td>An alternative <code>servers</code> array to service this operation. If a <code>servers</code> array is specified at the <a href="#path-item-servers">Path Item Object</a> or <a href="#oas-servers">OpenAPI Object</a> level, it will be overridden by this value.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="operation-object-example"><div class="header-wrapper"><h4 id="x4-10-2-operation-object-example"><bdi class="secno">4.10.2 </bdi>Operation Object Example</h4><a class="self-link" href="#operation-object-example" aria-label="Permalink for Section 4.10.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">tags:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">pet</span>
<span class="hljs-attr">summary:</span> <span class="hljs-string">Updates</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">store</span> <span class="hljs-string">with</span> <span class="hljs-string">form</span> <span class="hljs-string">data</span>
<span class="hljs-attr">operationId:</span> <span class="hljs-string">updatePetWithForm</span>
<span class="hljs-attr">parameters:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">petId</span>
    <span class="hljs-attr">in:</span> <span class="hljs-string">path</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">ID</span> <span class="hljs-string">of</span> <span class="hljs-string">pet</span> <span class="hljs-string">that</span> <span class="hljs-string">needs</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">updated</span>
    <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/x-www-form-urlencoded:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">name:</span>
            <span class="hljs-attr">description:</span> <span class="hljs-string">Updated</span> <span class="hljs-string">name</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">pet</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">status:</span>
            <span class="hljs-attr">description:</span> <span class="hljs-string">Updated</span> <span class="hljs-string">status</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">pet</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">required:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">status</span>
<span class="hljs-attr">responses:</span>
  <span class="hljs-attr">'200':</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Pet</span> <span class="hljs-string">updated.</span>
    <span class="hljs-attr">content:</span>
      <span class="hljs-attr">application/json:</span> {}
      <span class="hljs-attr">application/xml:</span> {}
  <span class="hljs-attr">'405':</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Method</span> <span class="hljs-string">Not</span> <span class="hljs-string">Allowed</span>
    <span class="hljs-attr">content:</span>
      <span class="hljs-attr">application/json:</span> {}
      <span class="hljs-attr">application/xml:</span> {}
<span class="hljs-attr">security:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">petstore_auth:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">write:pets</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">read:pets</span>
</code></pre>
</section></section><section id="external-documentation-object"><div class="header-wrapper"><h3 id="x4-11-external-documentation-object"><bdi class="secno">4.11 </bdi>External Documentation Object</h3><a class="self-link" href="#external-documentation-object" aria-label="Permalink for Section 4.11"></a></div>
<p>Allows referencing an external resource for extended documentation.</p>
<section id="fixed-fields-8"><div class="header-wrapper"><h4 id="x4-11-1-fixed-fields"><bdi class="secno">4.11.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-8" aria-label="Permalink for Section 4.11.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="external-doc-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the target documentation. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="external-doc-url"></span>url</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The URI for the target documentation. This <em class="rfc2119">MUST</em> be in the form of a URI.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="external-documentation-object-example"><div class="header-wrapper"><h4 id="x4-11-2-external-documentation-object-example"><bdi class="secno">4.11.2 </bdi>External Documentation Object Example</h4><a class="self-link" href="#external-documentation-object-example" aria-label="Permalink for Section 4.11.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">Find</span> <span class="hljs-string">more</span> <span class="hljs-string">info</span> <span class="hljs-string">here</span>
<span class="hljs-attr">url:</span> <span class="hljs-string">https://example.com</span>
</code></pre>
</section></section><section id="parameter-object"><div class="header-wrapper"><h3 id="x4-12-parameter-object"><bdi class="secno">4.12 </bdi>Parameter Object</h3><a class="self-link" href="#parameter-object" aria-label="Permalink for Section 4.12"></a></div>
<p>Describes a single operation parameter.</p>
<p>A unique parameter is defined by a combination of a <a href="#parameter-name">name</a> and <a href="#parameter-in">location</a>.</p>
<p>See <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a detailed examination of percent-encoding concerns, including interactions with the <code>application/x-www-form-urlencoded</code> query string format.</p>
<section id="parameter-locations"><div class="header-wrapper"><h4 id="x4-12-1-parameter-locations"><bdi class="secno">4.12.1 </bdi>Parameter Locations</h4><a class="self-link" href="#parameter-locations" aria-label="Permalink for Section 4.12.1"></a></div>
<p>There are five possible parameter locations specified by the <code>in</code> field:</p>
<ul>
<li>path - Used together with <a href="#path-templating">Path Templating</a>, where the parameter value is actually part of the operationโs URL. This does not include the host or base path of the API. For example, in <code>/items/{itemId}</code>, the path parameter is <code>itemId</code>.</li>
<li>query - Parameters that are appended to the URL. For example, in <code>/items?id=###</code>, the query parameter is <code>id</code>; <em class="rfc2119">MUST NOT</em> appear in the same operation (or in the operationโs path-item) as an <code>in: "querystring"</code> parameter.</li>
<li>querystring - A parameter that treats the entire URL query string as a value which <em class="rfc2119">MUST</em> be specified using the <code>content</code> field, most often with media type <code>application/x-www-form-urlencoded</code> using <a href="#encoding-object">Encoding Objects</a> in the same way as with request bodies of that media type; <em class="rfc2119">MUST NOT</em> appear more than once, and <em class="rfc2119">MUST NOT</em> appear in the same operation (or in the operationโs path-item) as any <code>in: "query"</code> parameters.</li>
<li>header - Custom headers that are expected as part of the request. Note that [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-5.1">Section 5.1</a> states header names are case-insensitive.</li>
<li>cookie - Used to pass a specific cookie value to the API.</li>
</ul>
</section><section id="fixed-fields-9"><div class="header-wrapper"><h4 id="x4-12-2-fixed-fields"><bdi class="secno">4.12.2 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-9" aria-label="Permalink for Section 4.12.2"></a></div>
<p>The rules for serialization of the parameter are specified in one of two ways.
Parameter Objects <em class="rfc2119">MUST</em> include either a <code>content</code> field or a <code>schema</code> field, but not both.
See <a href="#appendix-b-data-type-conversion">Appendix B</a> for a discussion of converting values of various types to string representations.</p>
<section id="common-fixed-fields"><div class="header-wrapper"><h5 id="x4-12-2-1-common-fixed-fields"><bdi class="secno">4.12.2.1 </bdi>Common Fixed Fields</h5><a class="self-link" href="#common-fixed-fields" aria-label="Permalink for Section 4.12.2.1"></a></div>
<p>These fields <em class="rfc2119">MAY</em> be used with either <code>content</code> or <code>schema</code>.</p>
<p>The <code>example</code> and <code>examples</code> fields are mutually exclusive; see <a href="#working-with-examples">Working with Examples</a> for guidance on validation requirements.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="parameter-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the parameter. Parameter names are <em>case-sensitive</em>. <ul><li>If <a href="#parameter-in"><code>in</code></a> is <code>"path"</code>, the <code>name</code> field <em class="rfc2119">MUST</em> correspond to a single template expression occurring within the <a href="#paths-path">path</a> field in the <a href="#paths-object">Paths Object</a>. See <a href="#path-templating">Path Templating</a> for further information.</li><li>If <a href="#parameter-in"><code>in</code></a> is <code>"header"</code> and the <code>name</code> field is <code>"Accept"</code>, <code>"Content-Type"</code> or <code>"Authorization"</code>, the parameter definition <em class="rfc2119">SHALL</em> be ignored.</li><li>If <code>in</code> is <code>"querystring"</code>, or for <a href="#style-examples">certain combinations</a> of <a href="#parameter-style"><code>style</code></a> and <a href="#parameter-explode"><code>explode</code></a>, the value of <code>name</code> is not used in the parameter serialization.</li><li>For all other cases, the <code>name</code> corresponds to the parameter name used by the <a href="#parameter-in"><code>in</code></a> field.</li></ul></td>
</tr>
<tr>
<td><span id="parameter-in"></span>in</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The location of the parameter. Possible values are <code>"query"</code>, <code>"querystring"</code>, <code>"header"</code>, <code>"path"</code> or <code>"cookie"</code>.</td>
</tr>
<tr>
<td><span id="parameter-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A brief description of the parameter. This could contain examples of use. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="parameter-required"></span>required</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Determines whether this parameter is mandatory. If the <a href="#parameter-in">parameter location</a> is <code>"path"</code>, this field is <strong><em class="rfc2119">REQUIRED</em></strong> and its value <em class="rfc2119">MUST</em> be <code>true</code>. Otherwise, the field <em class="rfc2119">MAY</em> be included and its default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="parameter-deprecated"></span> deprecated</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Specifies that a parameter is deprecated and <em class="rfc2119">SHOULD</em> be transitioned out of usage. Default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="parameter-allow-empty-value"></span> allowEmptyValue</td>
<td style="text-align:center"><code>boolean</code></td>
<td>If <code>true</code>, clients <em class="rfc2119">MAY</em> pass a zero-length string value in place of parameters that would otherwise be omitted entirely, which the server <em class="rfc2119">SHOULD</em> interpret as the parameter being unused. Default value is <code>false</code>. If <a href="#parameter-style"><code>style</code></a> is used, and if <a href="#style-examples">behavior is <em>n/a</em> (cannot be serialized)</a>, the value of <code>allowEmptyValue</code> <em class="rfc2119">SHALL</em> be ignored. Interactions between this field and the parameterโs <a href="#schema-object">Schema Object</a> are implementation-defined. This field is valid only for <code>query</code> parameters. <br><br><strong>Deprecated:</strong> Use of this field is <em class="rfc2119">NOT RECOMMENDED</em>, and it is likely to be removed in a later revision.</td>
</tr>
<tr>
<td><span id="parameter-example"></span>example</td>
<td style="text-align:center">Any</td>
<td>Example of the parameterโs potential value; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
<tr>
<td><span id="parameter-examples"></span>examples</td>
<td style="text-align:center">Map[ <code>string</code>, <a href="#example-object">Example Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>Examples of the parameterโs potential value; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>Note that while <code>"Cookie"</code> as a <code>name</code> is not forbidden if <code>in</code> is <code>"header"</code>, the effect of defining a cookie parameter that way is undefined; use <code>in: "cookie"</code> instead.</p>
</section><section id="fixed-fields-for-use-with-schema"><div class="header-wrapper"><h5 id="x4-12-2-2-fixed-fields-for-use-with-schema"><bdi class="secno">4.12.2.2 </bdi>Fixed Fields for use with <code>schema</code></h5><a class="self-link" href="#fixed-fields-for-use-with-schema" aria-label="Permalink for Section 4.12.2.2"></a></div>
<p>For simpler scenarios, a <a href="#parameter-schema"><code>schema</code></a> and <a href="#parameter-style"><code>style</code></a> can describe the structure and syntax of the parameter.</p>
<p>These fields <em class="rfc2119">MUST NOT</em> be used with <code>in: "querystring"</code>.</p>
<p>Care is needed for parameters with <code>schema</code> that have <code>in: "header"</code> or <code>in: "cookie", style: "cookie"</code>:</p>
<ul>
<li>When serializing these values, URI percent-encoding <em class="rfc2119">MUST NOT</em> be applied.</li>
<li>When parsing these parameters, any apparent percent-encoding <em class="rfc2119">MUST NOT</em> be decoded.</li>
<li>If using an RFC6570 implementation that automatically performs encoding or decoding steps, the steps <em class="rfc2119">MUST</em> be undone before use.</li>
</ul>
<p>In these cases, implementations <em class="rfc2119">MUST</em> pass values through unchanged rather than attempting to quote or escape them, as the quoting rules for headers and escaping conventions for cookies vary too widely to be performed automatically; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for guidance on quoting and escaping.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="parameter-style"></span>style</td>
<td style="text-align:center"><code>string</code></td>
<td>Describes how the parameter value will be serialized depending on the type of the parameter value. Default values (based on value of <code>in</code>): for <code>"query"</code> - <code>"form"</code>; for <code>"path"</code> - <code>"simple"</code>; for <code>"header"</code> - <code>"simple"</code>; for <code>"cookie"</code> - <code>"form"</code> (for compatibility reasons; note that <code>style: "cookie"</code> <em class="rfc2119">SHOULD</em> be used with <code>in: "cookie"</code>; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for details).</td>
</tr>
<tr>
<td><span id="parameter-explode"></span>explode</td>
<td style="text-align:center"><code>boolean</code></td>
<td>When this is true, parameter values of type <code>array</code> or <code>object</code> generate separate parameters for each value of the array or key-value pair of the map. For other types of parameters, or when <a href="#parameter-style"><code>style</code></a> is <code>"deepObject"</code>, this field has no effect. When <code>style</code> is <code>"form"</code> or <code>"cookie"</code>, the default value is <code>true</code>. For all other styles, the default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="parameter-allow-reserved"></span>allowReserved</td>
<td style="text-align:center"><code>boolean</code></td>
<td>When this is true, parameter values are serialized using reserved expansion, as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.3">Section 3.2.3</a>, which allows <a href="https://tools.ietf.org/html/rfc3986#section-2.2">RFC3986โs reserved character set</a>, as well as percent-encoded triples, to pass through unchanged, while still percent-encoding all other disallowed characters (including <code>%</code> outside of percent-encoded triples). Applications are still responsible for percent-encoding reserved characters that are not allowed by the rules of the <code>in</code> destination or media type, or are <a href="#path-templating">not allowed in the path by this specification</a>; see <a href="#url-percent-encoding">URL Percent-Encoding</a> for details. The default value is <code>false</code>. This field only applies to <code>in</code> and <code>style</code> values that automatically percent-encode.</td>
</tr>
<tr>
<td><span id="parameter-schema"></span>schema</td>
<td style="text-align:center"><a href="#schema-object">Schema Object</a></td>
<td>The schema defining the type used for the parameter.</td>
</tr>
</tbody>
</table>
<p>See also <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C: Using RFC6570-Based Serialization</a> for additional guidance.</p>
</section><section id="fixed-fields-for-use-with-content"><div class="header-wrapper"><h5 id="x4-12-2-3-fixed-fields-for-use-with-content"><bdi class="secno">4.12.2.3 </bdi>Fixed Fields for use with <code>content</code></h5><a class="self-link" href="#fixed-fields-for-use-with-content" aria-label="Permalink for Section 4.12.2.3"></a></div>
<p>For more complex scenarios, the <a href="#parameter-content"><code>content</code></a> field can define the media type and schema of the parameter, as well as give examples of its use.</p>
<p>For use with <code>in: "querystring"</code> and <code>application/x-www-form-urlencoded</code>, see <a href="#encoding-the-x-www-form-urlencoded-media-type">Encoding the <code>x-www-form-urlencoded</code> Media Type</a>.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="parameter-content"></span>content</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#media-type-object">Media Type Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map containing the representations for the parameter. The key is the media type and the value describes it. The map <em class="rfc2119">MUST</em> only contain one entry.</td>
</tr>
</tbody>
</table>
</section></section><section id="style-values"><div class="header-wrapper"><h4 id="x4-12-3-style-values"><bdi class="secno">4.12.3 </bdi>Style Values</h4><a class="self-link" href="#style-values" aria-label="Permalink for Section 4.12.3"></a></div>
<p>In order to support common ways of serializing simple parameters, a set of <code>style</code> values are defined. Combinations not represented in this table are not permitted.</p>
<table>
<thead>
<tr>
<th><code>style</code></th>
<th><a href="#data-types"><code>type</code></a></th>
<th><code>in</code></th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>matrix</code></td>
<td>primitive, <code>array</code>, <code>object</code></td>
<td><code>path</code></td>
<td>Path-style parameters defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.7">Section 3.2.7</a></td>
</tr>
<tr>
<td><code>label</code></td>
<td>primitive, <code>array</code>, <code>object</code></td>
<td><code>path</code></td>
<td>Label style parameters defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.5">Section 3.2.5</a></td>
</tr>
<tr>
<td><code>simple</code></td>
<td>primitive, <code>array</code>, <code>object</code></td>
<td><code>path</code>, <code>header</code></td>
<td>Simple style parameters defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.2">Section 3.2.2</a>. This option replaces <code>collectionFormat</code> with a <code>csv</code> value from OpenAPI 2.0.</td>
</tr>
<tr>
<td><code>form</code></td>
<td>primitive, <code>array</code>, <code>object</code></td>
<td><code>query</code>, <code>cookie</code></td>
<td>Form style parameters defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.8">Section 3.2.8</a>. This option replaces <code>collectionFormat</code> with a <code>csv</code> (when <code>explode</code> is false) or <code>multi</code> (when <code>explode</code> is true) value from OpenAPI 2.0.</td>
</tr>
<tr>
<td><code>spaceDelimited</code></td>
<td><code>array</code>, <code>object</code></td>
<td><code>query</code></td>
<td>Space separated array values or object properties and values. This option replaces <code>collectionFormat</code> equal to <code>ssv</code> from OpenAPI 2.0.</td>
</tr>
<tr>
<td><code>pipeDelimited</code></td>
<td><code>array</code>, <code>object</code></td>
<td><code>query</code></td>
<td>Pipe separated array values or object properties and values. This option replaces <code>collectionFormat</code> equal to <code>pipes</code> from OpenAPI 2.0.</td>
</tr>
<tr>
<td><code>deepObject</code></td>
<td><code>object</code></td>
<td><code>query</code></td>
<td>Allows objects with scalar properties to be represented using form parameters. The representation of array or object properties is not defined (but see <a href="#extending-support-for-querystring-formats">Extending Support for Querystring Formats</a> for alternatives).</td>
</tr>
<tr>
<td><code>cookie</code></td>
<td>primitive, <code>array</code>, <code>object</code></td>
<td><code>cookie</code></td>
<td>Analogous to <code>form</code>, but following [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6265" title="HTTP State Management Mechanism">RFC6265</a></cite>] <code>Cookie</code> syntax rules, meaning that name-value pairs are separated by a semicolon followed by a single space (e.g. <code>n1=v1; n2=v2</code>), and no percent-encoding or other escaping is applied; data values that require any sort of escaping <em class="rfc2119">MUST</em> be provided in escaped form.</td>
</tr>
</tbody>
</table>
</section><section id="url-percent-encoding"><div class="header-wrapper"><h4 id="x4-12-4-url-percent-encoding"><bdi class="secno">4.12.4 </bdi>URL Percent-Encoding</h4><a class="self-link" href="#url-percent-encoding" aria-label="Permalink for Section 4.12.4"></a></div>
<p>All API URLs <em class="rfc2119">MUST</em> successfully parse and percent-decode using [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] rules.</p>
<p>Content in the <code>application/x-www-form-urlencoded</code> format, including query strings produced by <a href="#parameter-object">Parameter Objects</a> with <code>in: "query"</code>, <em class="rfc2119">MUST</em> also successfully parse and percent-decode using [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>] rules, including treating non-percent-encoded <code>+</code> as an escaped space character.</p>
<p>These requirements are specified in terms of percent-<em>decoding</em> rules, which are consistently tolerant across different versions of the various standards that apply to URIs.</p>
<p>Percent-<em>encoding</em> is performed in several places:</p>
<ul>
<li>By [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] implementations (or simulations thereof; see <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C</a>)</li>
<li>By the Parameter or <a href="#encoding-object">Encoding</a> Objects when incorporating a value serialized with a <a href="#media-type-object">Media Type Object</a> for a media type that does not already incorporate URI percent-encoding</li>
<li>By the user, prior to passing data through RFC6570โs reserved expansion process</li>
</ul>
<p>When percent-encoding, the safest approach is to percent-encode all characters not in RFC3986โs โunreservedโ set, and for <code>form-urlencoded</code> to also percent-encode the tilde character (<code>~</code>) to align with historical requirements that are traced back to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1738" title="Uniform Resource Locators (URL)">RFC1738</a></cite>], the URI RFC at the time <code>form-urlencoded</code> was created.
This approach is used in examples in this specification.</p>
<p>For <code>form-urlencoded</code>, while the encoding algorithm given by [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>] requires escaping the space character as <code>+</code>, percent-encoding it as <code>%20</code> also meets the above requirements.
Examples in this specification will prefer <code>%20</code> when using RFC6570โs default (non-reserved) form-style expansion, and <code>+</code> otherwise.</p>
<p>Reserved characters <em class="rfc2119">MUST NOT</em> be percent-encoded when being used for reserved purposes such as <code>&amp;=+</code> for <code>form-urlencoded</code> or <code>,</code> for delimiting non-exploded array and object values in RFC6570 expansions.
The result of inserting non-percent-encoded delimiters into data using manual percent-encoding, including via RFC6570โs reserved expansion rules, is undefined and will likely prevent implementations from parsing the results back into the correct data structures.
In some cases, such as inserting <code>/</code> into path parameter values, doing so is <a href="#path-templating">explicitly forbidden</a> by this specification.</p>
<p>See also:</p>
<ul>
<li><a href="#appendix-c-using-rfc6570-based-serialization">Appendix C</a> for guidance on using or simulating/extending RFC6570 implementations.</li>
<li><a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for guidance on percent-encoding and cookies, as well as other escaping approaches for headers and cookies.</li>
<li><a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a thorough discussion of percent-encoding options, compatibility, and handling OAS-defined delimiters that are not allowed by RFC3986.</li>
</ul>
</section><section id="serialization-and-examples"><div class="header-wrapper"><h4 id="x4-12-5-serialization-and-examples"><bdi class="secno">4.12.5 </bdi>Serialization and Examples</h4><a class="self-link" href="#serialization-and-examples" aria-label="Permalink for Section 4.12.5"></a></div>
<p>The rules in this section apply to both the Parameter and <a href="#header-object">Header</a> Objects, both of which use the same mechanisms.</p>
<p>When showing serialized examples, such as with the <a href="#example-object">Example Objectโs</a> <code>serializedValue</code> or <code>externalValue</code> fields, in most cases the value to show is just the value, with all relevant percent-encoding or other encoding/escaping applied, and also including any delimiters produced by the <code>style</code> and <code>explode</code> configuration.</p>
<p>In cases where the name is an inherent part of constructing the serialization, such as the <code>name=value</code> pairs produced by <code>style: "form"</code> or the combination of <code>style: "simple", explode: true</code>, the name and any delimiter between the name and value <em class="rfc2119">MUST</em> be included.</p>
<p>The <code>matrix</code> and <code>label</code> styles produce a leading delimiter which is always a valid part of the serialization and <em class="rfc2119">MUST</em> be included.
The RFC6570 operators corresponding to <code>style: "form"</code> produce a leading delimiter of either <code>?</code> or <code>&amp;</code> depending on the exact syntax used.
As the suitability of either delimiter depends on where in the query string the parameter occurs, as well as whether it is in a URI or in <code>application/x-www-form-urlencoded</code> content, this leading delimiter <em class="rfc2119">MUST NOT</em> be included in examples of individual parameters or media type documents.
For <code>in: "cookie", style: "form"</code>, neither the <code>&amp;</code> nor <code>?</code> delimiters are ever correct; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D: Serializing Headers and Cookies</a> for more details.</p>
<p>For headers, the header name <em class="rfc2119">MUST NOT</em> be included as part of the serialization, as it is never part of the RFC6570-derived result.
However, names produced by <code>style: "simple", explode: "true"</code> are included as they appear within the header value, not as separate headers.
See the <a href="#header-object">Header Object</a> for special rules for showing examples of the <code>Set-Cookie</code> response header, which violates the normal rules for multiple header values.</p>
</section><section id="style-examples"><div class="header-wrapper"><h4 id="x4-12-6-style-examples"><bdi class="secno">4.12.6 </bdi>Style Examples</h4><a class="self-link" href="#style-examples" aria-label="Permalink for Section 4.12.6"></a></div>
<p>Assume a parameter named <code>color</code> has one of the following values, where the value to the right of the <code>-&gt;</code> is what would be shown in the <code>dataValue</code> field of an Example Object:</p>
<pre class="nohighlight" tabindex="0"><code>   string -&gt; <span class="hljs-string">"blue"</span>
   array -&gt; [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"black"</span>, <span class="hljs-string">"brown"</span>]
   object -&gt; { <span class="hljs-string">"R"</span>: <span class="hljs-number">100</span>, <span class="hljs-string">"G"</span>: <span class="hljs-number">200</span>, <span class="hljs-string">"B"</span>: <span class="hljs-number">150</span> }
</code></pre>
<p>The following table shows serialized examples, as would be shown with the <code>serializedValue</code> field of an Example Object, of the different serializations for each value.</p>
<ul>
<li>The value <em>empty</em> denotes the empty string, and is unrelated to the <code>allowEmptyValue</code> field.</li>
<li>The behavior of combinations marked <em>n/a</em> is undefined.</li>
<li>The <code>undefined</code> column replaces the <code>empty</code> column in previous versions of this specification in order to better align with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-2.3">Section 2.3</a> terminology, which describes certain values including but not limited to <code>null</code> as โundefinedโ values with special handling; notably, the empty string is <em>not</em> undefined.</li>
<li>For <code>form</code> and the non-RFC6570 query string styles <code>spaceDelimited</code>, <code>pipeDelimited</code>, and <code>deepObject</code>, see <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C</a> for more information on constructing query strings from multiple parameters, and <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for warnings regarding <code>form</code> and <code>cookie</code> parameters.</li>
<li>The examples are percent-encoded as explained in the <a href="#url-percent-encoding">URL Percent-Encoding</a> section above; see <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a thorough discussion of percent-encoding concerns, including why unencoded <code>|</code> (<code>%7C</code>), <code>[</code> (<code>%5B</code>), and <code>]</code> (<code>%5D</code>) seem to work in some environments despite not being compliant.</li>
</ul>
<table>
<thead>
<tr>
<th><a href="#style-values"><code>style</code></a></th>
<th><code>explode</code></th>
<th><code>undefined</code></th>
<th><code>string</code></th>
<th><code>array</code></th>
<th><code>object</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>matrix</td>
<td>false</td>
<td>;color</td>
<td>;color=blue</td>
<td>;color=blue,black,brown</td>
<td>;color=R,100,G,200,B,150</td>
</tr>
<tr>
<td>matrix</td>
<td>true</td>
<td>;color</td>
<td>;color=blue</td>
<td>;color=blue;color=black;color=brown</td>
<td>;R=100;G=200;B=150</td>
</tr>
<tr>
<td>label</td>
<td>false</td>
<td>.</td>
<td>.blue</td>
<td>.blue,black,brown</td>
<td>.R,100,G,200,B,150</td>
</tr>
<tr>
<td>label</td>
<td>true</td>
<td>.</td>
<td>.blue</td>
<td>.blue.black.brown</td>
<td>.R=100.G=200.B=150</td>
</tr>
<tr>
<td>simple</td>
<td>false</td>
<td><em>empty</em></td>
<td>blue</td>
<td>blue,black,brown</td>
<td>R,100,G,200,B,150</td>
</tr>
<tr>
<td>simple</td>
<td>true</td>
<td><em>empty</em></td>
<td>blue</td>
<td>blue,black,brown</td>
<td>R=100,G=200,B=150</td>
</tr>
<tr>
<td>form</td>
<td>false</td>
<td><span style="white-space: nowrap;">color=</span></td>
<td><span style="white-space: nowrap;">color=blue</span></td>
<td><span style="white-space: nowrap;">color=blue,black,brown</span></td>
<td><span style="white-space: nowrap;">color=R,100,G,200,B,150</span></td>
</tr>
<tr>
<td>form</td>
<td>true</td>
<td><span style="white-space: nowrap;">color=</span></td>
<td><span style="white-space: nowrap;">color=blue</span></td>
<td><span style="white-space: nowrap;">color=blue&amp;color=black&amp;color=brown</span></td>
<td><span style="white-space: nowrap;">R=100&amp;G=200&amp;B=150</span></td>
</tr>
<tr>
<td>spaceDelimited</td>
<td>false</td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><span style="white-space: nowrap;">color=blue%20black%20brown</span></td>
<td><span style="white-space: nowrap;">color=R%20100%20G%20200%20B%20150</span></td>
</tr>
<tr>
<td>spaceDelimited</td>
<td>true</td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td>pipeDelimited</td>
<td>false</td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><span style="white-space: nowrap;">color=blue%7Cblack%7Cbrown</span></td>
<td><span style="white-space: nowrap;">color=R%7C100%7CG%7C200%7CB%7C150</span></td>
</tr>
<tr>
<td>pipeDelimited</td>
<td>true</td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td>deepObject</td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><em>n/a</em></td>
<td><span style="white-space: nowrap;">color%5BR%5D=100&amp;color%5BG%5D=200&amp;color%5BB%5D=150</span></td>
</tr>
<tr>
<td>cookie</td>
<td>false</td>
<td><span style="white-space: nowrap;">color=</span></td>
<td><span style="white-space: nowrap;">color=blue</span></td>
<td><span style="white-space: nowrap;">color=blue,black,brown</span></td>
<td><span style="white-space: nowrap;">color=R,100,G,200,B,150</span></td>
</tr>
<tr>
<td>cookie</td>
<td>true</td>
<td><span style="white-space: nowrap;">color=</span></td>
<td><span style="white-space: nowrap;">color=blue</span></td>
<td><span style="white-space: nowrap;">color=blue; color=black; color=brown</span></td>
<td><span style="white-space: nowrap;">R=100; G=200; B=150</span></td>
</tr>
</tbody>
</table>
</section><section id="extending-support-for-querystring-formats"><div class="header-wrapper"><h4 id="x4-12-7-extending-support-for-querystring-formats"><bdi class="secno">4.12.7 </bdi>Extending Support for Querystring Formats</h4><a class="self-link" href="#extending-support-for-querystring-formats" aria-label="Permalink for Section 4.12.7"></a></div>
<p>Many frameworks define query string syntax for complex values, such as appending array indices to parameter names or indicating multiple levels of of nested objects, which go well beyond the capabilities of the <code>deepObject</code> style.</p>
<p>As these are not standards, and often contradict each other, the OAS does not attempt to support them directly.
Two avenues are available for supporting such formats with <code>in: "querystring"</code>:</p>
<ul>
<li>Use <code>content</code> and <code>text/plain</code> with a schema of <code>type: "string"</code> and define the format outside of OpenAPI.  While this requires more work to document and construct or parse the format, which is seen as a plain string from the OpenAPI perspective, it provides the easiest flexible option</li>
<li>Define a media type (which need not necessarily be <a href="https://tools.ietf.org/html/rfc6838">IANA-registered</a>) and a process for mapping in-memory data to the serialized  media type.  To increase the likelihood of support across multiple tools, submit a registration for the media type and process to the OpenAPI Initiativeโs <a href="#openapi-media-type-registry">Media Type Registry</a>.</li>
</ul>
</section><section id="parameter-object-examples"><div class="header-wrapper"><h4 id="x4-12-8-parameter-object-examples"><bdi class="secno">4.12.8 </bdi>Parameter Object Examples</h4><a class="self-link" href="#parameter-object-examples" aria-label="Permalink for Section 4.12.8"></a></div>
<p>A header parameter with an array of 64-bit integer numbers:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">X-Token</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">token</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">passed</span> <span class="hljs-string">as</span> <span class="hljs-string">a</span> <span class="hljs-string">header</span>
<span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
  <span class="hljs-attr">items:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
    <span class="hljs-attr">format:</span> <span class="hljs-string">int64</span>
<span class="hljs-attr">style:</span> <span class="hljs-string">simple</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">Tokens:</span>
    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">12345678</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">90099</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"12345678,90099"</span>
</code></pre>
<p>A cookie parameter with an exploded object (the default for <code>style: "cookie"</code>):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">cookie</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">cookie</span>
<span class="hljs-attr">style:</span> <span class="hljs-string">cookie</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">properties:</span>
    <span class="hljs-attr">greeting:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">code:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
      <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">Object:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">|
        Note that the comma (,) has been pre-percent-encoded
        to "%2C" in the data, as it is forbidden in
        cookie values.  However, the exclamation point (!)
        is legal in cookies, so it can be left unencoded.
</span>    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-attr">greeting:</span> <span class="hljs-string">Hello%2C</span> <span class="hljs-string">world!</span>
      <span class="hljs-attr">code:</span> <span class="hljs-number">42</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"greeting=Hello%2C world!; code=42"</span>
</code></pre>
<p>A cookie parameter relying on the percent-encoding behavior of the default <code>style: "form"</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">greeting</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">cookie</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">Greeting:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">|
      Note that in this approach, RFC6570's percent-encoding
      process applies, so unsafe characters are not
      pre-percent-encoded.  This results in all non-URL-safe
      characters, rather than just the one non-cookie-safe
      character, getting percent-encoded.
</span>    <span class="hljs-attr">dataValue:</span> <span class="hljs-string">Hello,</span> <span class="hljs-string">world!</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"greeting=Hello%2C%20world%21"</span>
</code></pre>
<p>A path parameter of a string value:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">username</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">path</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">username</span> <span class="hljs-string">to</span> <span class="hljs-string">fetch</span>
<span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">"Edsger Dijkstra":</span>
    <span class="hljs-attr">dataValue:</span> <span class="hljs-string">edijkstra</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">edijkstra</span>
  <span class="hljs-string">Diแนnฤga:</span>
    <span class="hljs-attr">dataValue:</span> <span class="hljs-string">diแนnฤga</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">di%E1%B9%85n%C4%81ga</span>
  <span class="hljs-attr">Al-Khwarizmi:</span>
    <span class="hljs-attr">dataValue:</span> <span class="hljs-string">"ุงูุฎูุงุฑุฒููู"</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"%D8%A7%D9%84%D8%AE%D9%88%D8%A7%D8%B1%D8%B2%D9%85%D9%8A%D9%91"</span>
</code></pre>
<p>An optional query parameter of a string value, allowing multiple values by repeating the query parameter
(Note that we use <code>"%20"</code> in place of <code>" "</code> (space) because that is how RFC6570 handles it; for guidance on using <code>+</code> to represent the space character, see <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for more guidance on these escaping options):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">thing</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
<span class="hljs-attr">required:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
  <span class="hljs-attr">items:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">style:</span> <span class="hljs-string">form</span>
<span class="hljs-attr">explode:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">ObjectList:</span>
    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">one</span> <span class="hljs-string">thing</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">another</span> <span class="hljs-string">thing</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"thing=one%20thing&amp;thing=another%20thing"</span>
</code></pre>
<p>A free-form query parameter, allowing arbitrary parameters of <code>type: "integer"</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">freeForm</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">additionalProperties:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
<span class="hljs-attr">style:</span> <span class="hljs-string">form</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">Pagination:</span>
    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-attr">page:</span> <span class="hljs-number">4</span>
      <span class="hljs-attr">pageSize:</span> <span class="hljs-number">50</span>
    <span class="hljs-attr">serializeValue:</span> <span class="hljs-string">page=4&amp;pageSize=50</span>
</code></pre>
<p>A complex parameter using <code>content</code> to define serialization, with multiple levels and types of examples shown to make the example usage options clear โ note that <code>dataValue</code> is the same at both levels and does not need to be shown in both places in normal usage, but <code>serializedValue</code> is different:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">coordinates</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">lat</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">long</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">lat:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
        <span class="hljs-attr">long:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">lat:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">long:</span> <span class="hljs-number">60</span>
      <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">'{"lat":10,"long":60}'</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">dataValue:</span>
    <span class="hljs-attr">lat:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">long:</span> <span class="hljs-number">60</span>
  <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">coordinates=%7B%22lat%22%3A10%2C%22long%22%3A60%7D</span>
</code></pre>
<p>A querystring parameter using regular form encoding, but managed with a Media Type Object.
This shows spaces being handled per the <code>application/x-www-form-urlencoded</code> media type rules (encode as <code>+</code>) rather than the RFC6570 process (encode as <code>%20</code>); see <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for further guidance on this distinction.
Examples are shown at both the media type and parameter level to emphasize that, since <code>application/x-www-form-urlencoded</code> is suitable for use in query strings by definition, no further encoding or escaping is applied to the serialized media type value:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">in:</span> <span class="hljs-string">querystring</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/x-www-form-urlencoded:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">foo:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">bar:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">boolean</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">spacesAndPluses:</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Note</span> <span class="hljs-string">handling</span> <span class="hljs-string">of</span> <span class="hljs-string">spaces</span> <span class="hljs-string">and</span> <span class="hljs-string">"+"</span> <span class="hljs-string">per</span> <span class="hljs-string">media</span> <span class="hljs-string">type.</span>
        <span class="hljs-attr">dataValue:</span>
          <span class="hljs-attr">foo:</span> <span class="hljs-string">a</span> <span class="hljs-string">+</span> <span class="hljs-string">b</span>
          <span class="hljs-attr">bar:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">foo=a+%2B+b&amp;bar=true</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">spacesAndPluses:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">|
      Note that no additional percent encoding is done, as this
      media type is URI query string-ready by definition.
</span>    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-attr">foo:</span> <span class="hljs-string">a</span> <span class="hljs-string">+</span> <span class="hljs-string">b</span>
      <span class="hljs-attr">bar:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">foo=a+%2B+b&amp;bar=true</span>
</code></pre>
<p>A querystring parameter that uses JSON for the entire string (not as a single query parameter value).
The <code>dataValue</code> field is shown at both levels to fully illustrate both ways of providing an example.
As seen below, this is redundant and need not be done in practice:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">in:</span> <span class="hljs-string">querystring</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">json</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">numbers:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
          <span class="hljs-attr">items:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
        <span class="hljs-attr">flag:</span>
          <span class="hljs-attr">type:</span> [<span class="hljs-string">boolean</span>, <span class="hljs-string">"null"</span>]
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">TwoNoFlag:</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Serialize</span> <span class="hljs-string">with</span> <span class="hljs-string">minimized</span> <span class="hljs-string">whitespace</span>
        <span class="hljs-attr">dataValue:</span>
          <span class="hljs-attr">numbers:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-number">1</span>
            <span class="hljs-bullet">-</span> <span class="hljs-number">2</span>
          <span class="hljs-attr">flag:</span> <span class="hljs-literal">null</span>
        <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">'{"numbers":[1,2],"flag":null}'</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">TwoNoFlag:</span>
    <span class="hljs-attr">dataValue:</span>
      <span class="hljs-attr">numbers:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-number">1</span>
        <span class="hljs-bullet">-</span> <span class="hljs-number">2</span>
      <span class="hljs-attr">flag:</span> <span class="hljs-literal">null</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"%7B%22numbers%22%3A%5B1%2C2%5D%2C%22flag%22%3Anull%7D"</span>
</code></pre>
<p>Assuming a path of <code>/foo</code>, a server of <code>https://example.com</code>, the full URL incorporating the value from <code>serializedValue</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code>https://<span class="hljs-attr">example.com</span>/<span class="hljs-attr">foo</span>?<span class="hljs-attr">%7B%22numbers%22%3A%5B1%2C2%5D%2C%22flag%22%3Anull%7D</span>
</code></pre>
<p>A querystring parameter that uses <cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9535" title="JSONPath: Query Expressions for JSON">JSONPath</a></cite>.
Note that in this example we not only do not repeat <code>dataValue</code>, but we use the shorthand <code>example</code> because the <code>application/jsonpath</code> value is a string that, at the media type level, is serialized as-is:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">in:</span> <span class="hljs-string">querystring</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">selector</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/jsonpath:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">example:</span> <span class="hljs-string">$.a.b[1:1]</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">Selector:</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">"%24.a.b%5B1%3A1%5D"</span>
</code></pre>
<p>As there is not, as of this writing, a <a href="#openapi-media-type-registry">registered</a> mapping between the JSON Schema data model and JSONPath, the details of the stringโs allowed structure would need to be conveyed either in a human-readable <code>description</code> field, or through a mechanism outside of the OpenAPI Description, such as a JSON Schema for the data structure to be queried.</p>
<p>Assuming a path of <code>/foo</code> and a server of <code>https://example.com</code>, the full URL incorporating the value from <code>serializedValue</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code>https://<span class="hljs-attr">example.com</span>/<span class="hljs-attr">foo</span>?<span class="hljs-attr">%24.a.b%5B1%3A1%5D</span>
</code></pre>
</section></section><section id="request-body-object"><div class="header-wrapper"><h3 id="x4-13-request-body-object"><bdi class="secno">4.13 </bdi>Request Body Object</h3><a class="self-link" href="#request-body-object" aria-label="Permalink for Section 4.13"></a></div>
<p>Describes a single request body.</p>
<section id="fixed-fields-10"><div class="header-wrapper"><h4 id="x4-13-1-fixed-fields"><bdi class="secno">4.13.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-10" aria-label="Permalink for Section 4.13.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="request-body-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A brief description of the request body. This could contain examples of use. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="request-body-content"></span>content</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#media-type-object">Media Type Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The content of the request body. The key is a media type or <a href="https://tools.ietf.org/html/rfc9110#appendix-A">media type range</a> and the value describes it. The map <em class="rfc2119">SHOULD</em> have at least one entry; if it does not, the behavior is implementation-defined. For requests that match multiple keys, only the most specific key is applicable. e.g. <code>"text/plain"</code> overrides <code>"text/*"</code></td>
</tr>
<tr>
<td><span id="request-body-required"></span>required</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Determines if the request body is required in the request. Defaults to <code>false</code>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="request-body-examples"><div class="header-wrapper"><h4 id="x4-13-2-request-body-examples"><bdi class="secno">4.13.2 </bdi>Request Body Examples</h4><a class="self-link" href="#request-body-examples" aria-label="Permalink for Section 4.13.2"></a></div>
<p>A request body with a referenced schema definition.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">user</span> <span class="hljs-string">to</span> <span class="hljs-string">add</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">system</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/User'</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">user:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">User</span> <span class="hljs-string">example</span>
        <span class="hljs-attr">externalValue:</span> <span class="hljs-string">https://foo.bar/examples/user-example.json</span>
  <span class="hljs-attr">application/xml:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/User'</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">user:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">User</span> <span class="hljs-string">example</span> <span class="hljs-string">in</span> <span class="hljs-string">XML</span>
        <span class="hljs-attr">externalValue:</span> <span class="hljs-string">https://foo.bar/examples/user-example.xml</span>
  <span class="hljs-attr">text/plain:</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">user:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">User</span> <span class="hljs-string">example</span> <span class="hljs-string">in</span> <span class="hljs-string">plain</span> <span class="hljs-string">text</span>
        <span class="hljs-attr">externalValue:</span> <span class="hljs-string">https://foo.bar/examples/user-example.txt</span>
  <span class="hljs-attr">'*/*':</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">user:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">User</span> <span class="hljs-string">example</span> <span class="hljs-string">in</span> <span class="hljs-string">other</span> <span class="hljs-string">format</span>
        <span class="hljs-attr">externalValue:</span> <span class="hljs-string">https://foo.bar/examples/user-example.whatever</span>
</code></pre>
</section></section><section id="media-type-object"><div class="header-wrapper"><h3 id="x4-14-media-type-object"><bdi class="secno">4.14 </bdi>Media Type Object</h3><a class="self-link" href="#media-type-object" aria-label="Permalink for Section 4.14"></a></div>
<p>Each Media Type Object describes content structured in accordance with the media type identified by its key.
Multiple Media Type Objects can be used to describe content that can appear in any of several different media types.</p>
<p>When <code>example</code> or <code>examples</code> are provided, the example <em class="rfc2119">SHOULD</em> match the specified schema and be in the correct format as specified by the media type and its encoding.
The <code>example</code> and <code>examples</code> fields are mutually exclusive.
See <a href="#working-with-examples">Working With Examples</a> for further guidance regarding the different ways of specifying examples, including non-JSON/YAML values.</p>
<section id="fixed-fields-11"><div class="header-wrapper"><h4 id="x4-14-1-fixed-fields"><bdi class="secno">4.14.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-11" aria-label="Permalink for Section 4.14.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="media-type-schema"></span>schema</td>
<td style="text-align:center"><a href="#schema-object">Schema Object</a></td>
<td>A schema describing the complete content of the request, response, parameter, or header.</td>
</tr>
<tr>
<td><span id="media-type-item-schema"></span>itemSchema</td>
<td style="text-align:center"><a href="#schema-object">Schema Object</a></td>
<td>A schema describing each item within a <a href="#sequential-media-types">sequential media type</a>.</td>
</tr>
<tr>
<td><span id="media-type-example"></span>example</td>
<td style="text-align:center">Any</td>
<td>Example of the media type; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
<tr>
<td><span id="media-type-examples"></span>examples</td>
<td style="text-align:center">Map[ <code>string</code>, <a href="#example-object">Example Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>Examples of the media type; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
<tr>
<td><span id="media-type-encoding"></span>encoding</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#encoding-object">Encoding Object</a>]</td>
<td>A map between a property name and its encoding information, as defined under <a href="#encoding-by-name">Encoding By Name</a>.  The <code>encoding</code> field <em class="rfc2119">SHALL</em> only apply when the media type is <code>multipart</code> or <code>application/x-www-form-urlencoded</code>. If no Encoding Object is provided for a property, the behavior is determined by the default values documented for the Encoding Object. This field <em class="rfc2119">MUST NOT</em> be present if <code>prefixEncoding</code> or <code>itemEncoding</code> are present.</td>
</tr>
<tr>
<td><span id="media-type-prefix-encoding"></span>prefixEncoding</td>
<td style="text-align:center">[<a href="#encoding-object">Encoding Object</a>]</td>
<td>An array of positional encoding information, as defined under <a href="#encoding-by-position">Encoding By Position</a>.  The <code>prefixEncoding</code> field <em class="rfc2119">SHALL</em> only apply when the media type is <code>multipart</code>. If no Encoding Object is provided for a property, the behavior is determined by the default values documented for the Encoding Object. This field <em class="rfc2119">MUST NOT</em> be present if <code>encoding</code> is present.</td>
</tr>
<tr>
<td><span id="media-type-item-encoding"></span>itemEncoding</td>
<td style="text-align:center"><a href="#encoding-object">Encoding Object</a></td>
<td>A single Encoding Object that provides encoding information for multiple array items, as defined under <a href="#encoding-by-position">Encoding By Position</a>. The <code>itemEncoding</code> field <em class="rfc2119">SHALL</em> only apply when the media type is <code>multipart</code>. If no Encoding Object is provided for a property, the behavior is determined by the default values documented for the Encoding Object. This field <em class="rfc2119">MUST NOT</em> be present if <code>encoding</code> is present.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="media-types"><div class="header-wrapper"><h4 id="x4-14-2-media-types"><bdi class="secno">4.14.2 </bdi>Media Types</h4><a class="self-link" href="#media-types" aria-label="Permalink for Section 4.14.2"></a></div>
<p>Media types are publicly registered with the <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">IANA media types registry</a>, through process documented in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6838" title="Media Type Specifications and Registration Procedures">RFC6838</a></cite>].</p>
<p>APIs also sometimes define private media types such as GitHubโs <code>application/vnd.github.v3+json</code>, which are not registered, and other media types such as <code>application/schema+json</code> become widely used before an intended registration.</p>
<p>See <a href="#parsing-and-serializing">Parsing and Serializing</a> under the <a href="#schema-object">Schema Object</a> for guidance on using schemas with a variety of media types.</p>
<section id="openapi-media-type-registry"><div class="header-wrapper"><h5 id="x4-14-2-1-openapi-media-type-registry"><bdi class="secno">4.14.2.1 </bdi>OpenAPI Media Type Registry</h5><a class="self-link" href="#openapi-media-type-registry" aria-label="Permalink for Section 4.14.2.1"></a></div>
<p>The OpenAPI Initiative maintains a <a href="https://spec.openapis.org/registry/media-type/">Media Type Registry</a> summarizing media type support expected by this specification and providing an index to which sections address which media types.
It also links to IANA registrations (where they exist) and to the most notable specification document(s) related to each media type.
Any additional media types added to this registry as extensions or for later versions of this or other OpenAPI specifications <em class="rfc2119">MAY</em> be supported by implementations of this version of the OAS.</p>
</section></section><section id="complete-vs-streaming-content"><div class="header-wrapper"><h4 id="x4-14-3-complete-vs-streaming-content"><bdi class="secno">4.14.3 </bdi>Complete vs Streaming Content</h4><a class="self-link" href="#complete-vs-streaming-content" aria-label="Permalink for Section 4.14.3"></a></div>
<p>The <code>schema</code> field <em class="rfc2119">MUST</em> be applied to the complete content, as defined by the media type and the context (<a href="#request-body-object">Request Body Object</a>, <a href="#response-object">Response Object</a>, <a href="#parameter-object">Parameter Object</a>, or <a href="#header-object">Header Object</a>.
Because this requires loading the content into memory in its entirety, it poses a challenge for streamed content.
Use cases where clients are intended to choose when to stop reading are particularly challenging as there is no well-defined end to the stream.</p>
<section id="sequential-media-types"><div class="header-wrapper"><h5 id="x4-14-3-1-sequential-media-types"><bdi class="secno">4.14.3.1 </bdi>Sequential Media Types</h5><a class="self-link" href="#sequential-media-types" aria-label="Permalink for Section 4.14.3.1"></a></div>
<p>Within this specification, a <em>sequential media type</em> is defined as any media type that consists of a repeating structure, without any sort of header, footer, envelope, or other metadata in addition to the sequence.</p>
<p>Some examples of sequential media types (including some that are not IANA-registered but are in common use) are:</p>
<pre class="nohighlight" tabindex="0"><code>  application/jsonl
  application/x-ndjson
  application/json-seq
  application/geo+json-seq
  text/event-stream
  multipart/mixed
</code></pre>
<p>In the first three above, the repeating structure is any <a href="https://tools.ietf.org/html/rfc8259#section-3">JSON value</a>.
The fourth repeats <code>application/geo+json</code>-structured values, while <code>text/event-stream</code> repeats a custom text format related to Server-Sent Events.
The final media type listed above, <code>multipart/mixed</code>, provides an ordered list of documents of any media type, and is sometimes streamed.
Note that while <code>multipart</code> formats technically allow a preamble and an epilogue, the RFC directs that they are to be ignored, making them effectively comments, and this specification does not model them.</p>
<p>Implementations <em class="rfc2119">MUST</em> support mapping sequential media types into the JSON Schema data model by treating them as if the values were in an array in the same order.</p>
<p>See <a href="#complete-vs-streaming-content">Complete vs Streaming Content</a> for more information on handling sequential media types in a streaming context, including special considerations for <code>text/event-stream</code> content.
For <code>multipart</code> types, see also <a href="#encoding-by-position">Encoding By Position</a>.</p>
<section id="streaming-sequential-media-types"><div class="header-wrapper"><h6 id="x4-14-3-1-1-streaming-sequential-media-types"><bdi class="secno">4.14.3.1.1 </bdi>Streaming Sequential Media Types</h6><a class="self-link" href="#streaming-sequential-media-types" aria-label="Permalink for Section 4.14.3.1.1"></a></div>
<p>The <code>itemSchema</code> field is provided to support streaming use cases for sequential media types, with <code>itemEncoding</code> as a corresponding encoding mechanism for streaming <a href="#encoding-by-position">positional <code>multipart</code> media types</a>.</p>
<p>Unlike <code>schema</code>, which is applied to the complete content (treated as an array as described in the <a href="#sequential-media-types">sequential media types</a> section), <code>itemSchema</code> <em class="rfc2119">MUST</em> be applied to each item in the stream independently, which supports processing each item as it is read from the stream.</p>
<p>Both <code>schema</code> and <code>itemSchema</code> <em class="rfc2119">MAY</em> be used in the same Media Type Object.
However, doing so is unlikely to have significant advantages over using the <code>items</code> keyword within the <code>schema</code> field.</p>
</section></section><section id="binary-streams"><div class="header-wrapper"><h5 id="x4-14-3-2-binary-streams"><bdi class="secno">4.14.3.2 </bdi>Binary Streams</h5><a class="self-link" href="#binary-streams" aria-label="Permalink for Section 4.14.3.2"></a></div>
<p>The <code>maxLength</code> keyword <em class="rfc2119">MAY</em> be used to set an expected upper bound on the length of a streaming payload that consists of either string data, including encoded binary data, or unencoded binary data.
For unencoded binary data, the length is the number of octets.
For this use case, <code>maxLength</code> <em class="rfc2119">MAY</em> be implemented outside of regular JSON Schema evaluation as JSON Schema does not directly apply to binary data, and an encoded binary stream may be impractical to store in memory in its entirety.</p>
</section></section><section id="special-considerations-for-server-sent-events"><div class="header-wrapper"><h4 id="x4-14-4-special-considerations-for-server-sent-events"><bdi class="secno">4.14.4 </bdi>Special Considerations for Server-Sent Events</h4><a class="self-link" href="#special-considerations-for-server-sent-events" aria-label="Permalink for Section 4.14.4"></a></div>
<p>For <code>text/event-stream</code>, implementations <em class="rfc2119">MUST</em> work with event data after it has been parsed according to the <a href="https://html.spec.whatwg.org/multipage/server-sent-events.html#parsing-an-event-stream"><code>text/event-stream</code> specification</a>, including all guidance on ignoring certain fields (including comments) and/or values, and on combining values split across multiple lines.</p>
<p>Field value types <em class="rfc2119">MUST</em> be handled as specified by the <code>text/event-stream</code> specification (e.g. the <code>retry</code> field value is modeled as a JSON number that is expected to be of JSON Schema <code>type: integer</code>), and fields not given an explicit value type <em class="rfc2119">MUST</em> be handled as strings.</p>
<p>Some users of <code>text/event-stream</code> use a format such as JSON for field values, particularly the <code>data</code> field.
Use JSON Schemaโs keywords for working with the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#name-a-vocabulary-for-the-conten">contents of string-encoded data</a>, particularly <code>contentMediaType</code> and <code>contentSchema</code>, to describe and validate such fields with more detail than string-related validation keywords such as <code>pattern</code> can support.
Note that <code>contentSchema</code> is <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#name-implementation-requirements-2">not automatically validated by default</a> (see also the <a href="#non-validating-constraint-keywords">Non-validating constraint keywords</a> section of this specification).</p>
<p>The following Schema Object is a generic schema for the <code>text/event-stream</code> media type as documented by the [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] specification as of the time of this writing:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">required:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">data</span>
<span class="hljs-attr">properties:</span>
  <span class="hljs-attr">data:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">event:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">id:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">retry:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
    <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
</code></pre>
</section><section id="encoding-usage-and-restrictions"><div class="header-wrapper"><h4 id="x4-14-5-encoding-usage-and-restrictions"><bdi class="secno">4.14.5 </bdi>Encoding Usage and Restrictions</h4><a class="self-link" href="#encoding-usage-and-restrictions" aria-label="Permalink for Section 4.14.5"></a></div>
<p>These encoding fields define how to map each <a href="#encoding-object">Encoding Object</a> to a specific value in the data.
Each field has its own set of media types with which it can be used; for all other media types all three fields <em class="rfc2119">SHALL</em> be ignored.</p>
<section id="encoding-by-name"><div class="header-wrapper"><h5 id="x4-14-5-1-encoding-by-name"><bdi class="secno">4.14.5.1 </bdi>Encoding By Name</h5><a class="self-link" href="#encoding-by-name" aria-label="Permalink for Section 4.14.5.1"></a></div>
<p>The behavior of the <code>encoding</code> field is designed to support web forms, and is therefore only defined for media types structured as name-value pairs that allow repeat values, most notably <code>application/x-www-form-urlencoded</code> and <code>multipart/form-data</code>.</p>
<p>To use the <code>encoding</code> field, each key under the field <em class="rfc2119">MUST</em> exist as a property; <code>encoding</code> entries with no corresponding property <em class="rfc2119">SHALL</em> be ignored.
Array properties <em class="rfc2119">MUST</em> be handled by applying the given Encoding Object to produce one encoded value per array item, each with the same <code>name</code>, as is recommended by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://tools.ietf.org/html/rfc7578#section-4.3">Section 4.3</a> for supplying multiple values per form field.
For all other value types for both top-level non-array properties and for values, including array values, within a top-level array, the Encoding Object <em class="rfc2119">MUST</em> be applied to the entire value.
The order of these name-value pairs in the target media type is implementation-defined.</p>
<p>For <code>application/x-www-form-urlencoded</code>, the encoding keys <em class="rfc2119">MUST</em> map to parameter names, with the values produced according to the rules of the <a href="#encoding-object">Encoding Object</a>.
See <a href="#encoding-the-x-www-form-urlencoded-media-type">Encoding the <code>x-www-form-urlencoded</code> Media Type</a> for guidance and examples, both with and without the <code>encoding</code> field.</p>
<p>For <code>multipart</code>, the encoding keys <em class="rfc2119">MUST</em> map to the <a href="https://tools.ietf.org/html/rfc7578#section-4.2"><code>name</code> parameter</a> of the <code>Content-Disposition: form-data</code> header of each part, as is defined for <code>multipart/form-data</code> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>].
See [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://tools.ietf.org/html/rfc7578#section-5">Section 5</a> for guidance regarding non-ASCII part names.</p>
<p>See <a href="#encoding-multipart-media-types">Encoding <code>multipart</code> Media Types</a> for further guidance and examples, both with and without the <code>encoding</code> field.</p>
</section><section id="encoding-by-position"><div class="header-wrapper"><h5 id="x4-14-5-2-encoding-by-position"><bdi class="secno">4.14.5.2 </bdi>Encoding By Position</h5><a class="self-link" href="#encoding-by-position" aria-label="Permalink for Section 4.14.5.2"></a></div>
<p>Most <code>multipart</code> media types, including <code>multipart/mixed</code> which defines the underlying rules for parsing all <code>multipart</code> types, do not have named parts.
Data for these media types are modeled as an array, with one item per part, in order.</p>
<p>To use the <code>prefixEncoding</code> and/or <code>itemEncoding</code> fields, either <code>itemSchema</code> or an array <code>schema</code> <em class="rfc2119">MUST</em> be present.
These fields are analogous to the <code>prefixItems</code> and <code>items</code> JSON Schema keywords, with <code>prefixEncoding</code> (if present) providing an array of Encoding Objects that are each applied to the value at the same position in the data array, and <code>itemEncoding</code> applying its single Encoding Object to all remaining items in the array.
As with <code>prefixItems</code>, it is <em>not</em> an error if the instance array is shorter than the <code>prefixEncoding</code> array; the additional Encoding Objects <em class="rfc2119">SHALL</em> be ignored.</p>
<p>The <code>itemEncoding</code> field can also be used with <code>itemSchema</code> to support streaming <code>multipart</code> content.</p>
</section><section id="additional-encoding-approaches"><div class="header-wrapper"><h5 id="x4-14-5-3-additional-encoding-approaches"><bdi class="secno">4.14.5.3 </bdi>Additional Encoding Approaches</h5><a class="self-link" href="#additional-encoding-approaches" aria-label="Permalink for Section 4.14.5.3"></a></div>
<p>The <code>prefixEncoding</code> field can be used with any <code>multipart</code> content to require a fixed part order.
This includes <code>multipart/form-data</code>, for which the Encoding Objectโs <code>headers</code> field <em class="rfc2119">MUST</em> be used to provide the <code>Content-Disposition</code> and part name, as no property names exist to provide the names automatically.</p>
<p>Prior versions of this specification advised using the <a href="https://tools.ietf.org/html/rfc7578#section-4.2"><code>name</code> parameter</a> of the <code>Content-Disposition: form-data</code> header of each part with <code>multipart</code> media types other than <code>multipart/form-data</code> in order to work around the limitations of the <code>encoding</code> field.
Implementations <em class="rfc2119">MAY</em> choose to support this workaround, but as this usage is not common, implementations of non-<code>form-data</code> <code>multipart</code> media types are unlikely to support it.</p>
</section></section><section id="media-type-examples-0"><div class="header-wrapper"><h4 id="x4-14-6-media-type-examples"><bdi class="secno">4.14.6 </bdi>Media Type Examples</h4><a class="self-link" href="#media-type-examples-0" aria-label="Permalink for Section 4.14.6"></a></div>
<p>For form-related and <code>multipart</code> media type examples, see the <a href="#encoding-object">Encoding Object</a>.</p>
<section id="json"><div class="header-wrapper"><h5 id="x4-14-6-1-json"><bdi class="secno">4.14.6.1 </bdi>JSON</h5><a class="self-link" href="#json" aria-label="Permalink for Section 4.14.6.1"></a></div>
<p>Note that since this example is written in YAML, the Example Objectโs <code>value</code> field can be formatted as YAML due to the trivial conversion to JSON.
This avoids needing to embed JSON as a string.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/json:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">cat:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">An</span> <span class="hljs-string">example</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">cat</span>
      <span class="hljs-attr">value:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Fluffy</span>
        <span class="hljs-attr">petType:</span> <span class="hljs-string">Cat</span>
        <span class="hljs-attr">color:</span> <span class="hljs-string">White</span>
        <span class="hljs-attr">gender:</span> <span class="hljs-string">male</span>
        <span class="hljs-attr">breed:</span> <span class="hljs-string">Persian</span>
    <span class="hljs-attr">dog:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">An</span> <span class="hljs-string">example</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">dog</span> <span class="hljs-string">with</span> <span class="hljs-string">a</span> <span class="hljs-string">cat's</span> <span class="hljs-string">name</span>
      <span class="hljs-attr">value:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Puma</span>
        <span class="hljs-attr">petType:</span> <span class="hljs-string">Dog</span>
        <span class="hljs-attr">color:</span> <span class="hljs-string">Black</span>
        <span class="hljs-attr">gender:</span> <span class="hljs-string">Female</span>
        <span class="hljs-attr">breed:</span> <span class="hljs-string">Mixed</span>
    <span class="hljs-attr">frog:</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/examples/frog-example'</span>
</code></pre>
<p>Alternatively, since all JSON is valid YAML, the example value can use JSON syntax within a YAML document:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/json:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">cat:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">An</span> <span class="hljs-string">example</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">cat</span>
      <span class="hljs-attr">value:</span> {
        <span class="hljs-attr">"name":</span> <span class="hljs-string">"Fluffy"</span>,
        <span class="hljs-attr">"petType":</span> <span class="hljs-string">"Cat"</span>,
        <span class="hljs-attr">"color":</span> <span class="hljs-string">"White"</span>,
        <span class="hljs-attr">"gender":</span> <span class="hljs-string">"male"</span>,
        <span class="hljs-attr">"breed":</span> <span class="hljs-string">"Persian"</span>
      }
    <span class="hljs-attr">dog:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">An</span> <span class="hljs-string">example</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">dog</span> <span class="hljs-string">with</span> <span class="hljs-string">a</span> <span class="hljs-string">cat's</span> <span class="hljs-string">name</span>
      <span class="hljs-attr">value:</span> {
        <span class="hljs-attr">"name":</span> <span class="hljs-string">"Puma"</span>,
        <span class="hljs-attr">"petType":</span> <span class="hljs-string">"Dog"</span>,
        <span class="hljs-attr">"color":</span> <span class="hljs-string">"Black"</span>,
        <span class="hljs-attr">"gender":</span> <span class="hljs-string">"Female"</span>,
        <span class="hljs-attr">"breed":</span> <span class="hljs-string">"Mixed"</span>
      }
    <span class="hljs-attr">frog:</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/examples/frog-example'</span>
</code></pre>
</section><section id="sequential-json"><div class="header-wrapper"><h5 id="x4-14-6-2-sequential-json"><bdi class="secno">4.14.6.2 </bdi>Sequential JSON</h5><a class="self-link" href="#sequential-json" aria-label="Permalink for Section 4.14.6.2"></a></div>
<p>For any <a href="#sequential-media-types">sequential media type</a> where the items in the sequence are JSON values, no conversion of each value is required.
JSON Text Sequences ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7464" title="JavaScript Object Notation (JSON) Text Sequences">RFC7464</a></cite>] <code>application/json-seq</code> and [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8091" title="A Media Type Structured Syntax Suffix for JSON Text Sequences">RFC8091</a></cite>] the <code>+json-seq</code> structured suffix), <a href="https://jsonlines.org/">JSON Lines</a> (<code>application/jsonl</code>), and <a href="https://github.com/ndjson/ndjson-spec">NDJSON</a> (<code>application/x-ndjson</code>) are all in this category.
Note that the media types for JSON Lines and NDJSON are not registered with the IANA, but are in common use.</p>
<p>The following example shows Media Type Objects for both streaming log entries and returning a fixed-length set in response to a query.
This shows the relationship between <code>schema</code> and <code>itemSchema</code>, and when to use each even though the <code>examples</code> field is the same either way.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">LogEntry:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">timestamp:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">date-time</span>
        <span class="hljs-attr">level:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">message:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">Log:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">items:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/LogEntry"</span>
      <span class="hljs-attr">maxItems:</span> <span class="hljs-number">100</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">LogJSONSeq:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">Log</span> <span class="hljs-string">entries</span> <span class="hljs-string">in</span> <span class="hljs-string">application/json-seq</span>
      <span class="hljs-comment"># JSON Text Sequences require an unprintable character</span>
      <span class="hljs-comment"># that cannot be escaped in a YAML string, and therefore</span>
      <span class="hljs-comment"># must be placed in an external document shown below</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">examples/log.json-seq</span>
    <span class="hljs-attr">LogJSONPerLine:</span>
      <span class="hljs-attr">summary:</span> <span class="hljs-string">Log</span> <span class="hljs-string">entries</span> <span class="hljs-string">in</span> <span class="hljs-string">application/jsonl</span> <span class="hljs-string">or</span> <span class="hljs-string">application/x-ndjson</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">JSONL</span> <span class="hljs-string">and</span> <span class="hljs-string">NDJSON</span> <span class="hljs-string">are</span> <span class="hljs-string">identical</span> <span class="hljs-string">for</span> <span class="hljs-string">this</span> <span class="hljs-string">example</span>
      <span class="hljs-comment"># Note that the value must be written as a string with newlines,</span>
      <span class="hljs-comment"># as JSONL and NDJSON are not valid YAML</span>
      <span class="hljs-attr">value:</span> <span class="hljs-string">|
        {"timestamp": "1985-04-12T23:20:50.52Z", "level": 1, "message": "Hi!"}
        {"timestamp": "1985-04-12T23:20:51.37Z", "level": 1, "message": "Bye!"}
</span>  <span class="hljs-attr">responses:</span>
    <span class="hljs-attr">LogStream:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">|
        A stream of JSON-format log messages that can be read
        for as long as the application is running, and is available
        in any of the sequential JSON media types.
</span>      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json-seq:</span>
          <span class="hljs-attr">itemSchema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/LogEntry"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">JSON-SEQ:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONSeq"</span>
        <span class="hljs-attr">application/jsonl:</span>
          <span class="hljs-attr">itemSchema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/LogEntry"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">JSONL:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONPerLine"</span>
        <span class="hljs-attr">application/x-ndjson:</span>
          <span class="hljs-attr">itemSchema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/LogEntry"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">NDJSON:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONPerLine"</span>
    <span class="hljs-attr">LogExcerpt:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">|
        A response consisting of no more than 100 log records,
        generally as a result of a query of the historical log,
        available in any of the sequential JSON media types.
</span>      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json-seq:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Log"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">JSON-SEQ:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONSeq"</span>
        <span class="hljs-attr">application/jsonl:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Log"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">JSONL:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONPerLine"</span>
        <span class="hljs-attr">application/x-ndjson:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Log"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">NDJSON:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/examples/LogJSONPerLine"</span>
</code></pre>
<p>Our <code>application/json-seq</code> example has to be an external document because of the use of both newlines and of the unprintable Record Separator (<code>0x1E</code>) character, which cannot be escaped in YAML block literals:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-meta">0x1E</span><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1985-04-12T23:20:50.52Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hi!"</span>
<span class="hljs-punctuation">}</span>
<span class="hljs-meta">0x1E</span><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1985-04-12T23:20:51.37Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bye!"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</section><section id="server-sent-event-streams"><div class="header-wrapper"><h5 id="x4-14-6-3-server-sent-event-streams"><bdi class="secno">4.14.6.3 </bdi>Server-Sent Event Streams</h5><a class="self-link" href="#server-sent-event-streams" aria-label="Permalink for Section 4.14.6.3"></a></div>
<p>For this example, assume that the generic event schema provided in the <a href="#special-considerations-for-server-sent-events">Special Considerations for Server-Sent Events</a> section is available at <code>#/components/schemas/Event</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">request</span> <span class="hljs-string">body</span> <span class="hljs-string">to</span> <span class="hljs-string">add</span> <span class="hljs-string">a</span> <span class="hljs-string">stream</span> <span class="hljs-string">of</span> <span class="hljs-string">typed</span> <span class="hljs-string">data.</span>
<span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">text/event-stream:</span>
    <span class="hljs-attr">itemSchema:</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Event"</span>
      <span class="hljs-attr">required:</span> [<span class="hljs-string">event</span>]
      <span class="hljs-attr">oneOf:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">event:</span>
            <span class="hljs-attr">const:</span> <span class="hljs-string">addString</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">event:</span>
            <span class="hljs-attr">const:</span> <span class="hljs-string">addInt64</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-string">$comment:</span> <span class="hljs-string">|
              Since the `data` field is a string,
              we need a format to signal that it
              should be handled as a 64-bit integer.
</span>            <span class="hljs-attr">format:</span> <span class="hljs-string">int64</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">event:</span>
            <span class="hljs-attr">const:</span> <span class="hljs-string">addJson</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-string">$comment:</span> <span class="hljs-string">|
              These content fields indicate
              that the string value should
              be parsed and validated as a
              JSON document (since JSON is not
              a binary format, `contentEncoding`
              is not needed)
</span>            <span class="hljs-attr">contentMediaType:</span> <span class="hljs-string">application/json</span>
            <span class="hljs-attr">contentSchema:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
              <span class="hljs-attr">required:</span> [<span class="hljs-string">foo</span>]
              <span class="hljs-attr">properties:</span>
                <span class="hljs-attr">foo:</span>
                  <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
</code></pre>
<p>The following <code>text/event-stream</code> document is an example of a valid request body for the above example:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">event</span>: addString
<span class="hljs-attr">data</span>: This data is formatted
<span class="hljs-attr">data</span>: across two lines
<span class="hljs-attr">retry</span>: 5
<span class="hljs-attr">
event</span>: addInt64
<span class="hljs-attr">data</span>: 1234.5678
<span class="hljs-attr">unknownField</span>: this is ignored
<span class="hljs-attr">
</span><span class="hljs-comment">: This is a comment</span>
<span class="hljs-attr">event</span>: addJSON
<span class="hljs-attr">data</span>: {"foo": 42}
</code></pre>
<p>To more clearly see how this stream is handled, the following is the equivalent JSON Lines document, which shows how the numeric and JSON data are handled as strings, and how unknown fields and comments are ignored and not passed to schema validation:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span><span class="hljs-attr">"event"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"addString"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"This data is formatted\nacross two lines"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"retry"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"event"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"addInt64"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1234.5678"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"event"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"addJSON"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{\"foo\": 42}"</span><span class="hljs-punctuation">}</span>
</code></pre>
</section></section><section id="considerations-for-file-uploads"><div class="header-wrapper"><h4 id="x4-14-7-considerations-for-file-uploads"><bdi class="secno">4.14.7 </bdi>Considerations for File Uploads</h4><a class="self-link" href="#considerations-for-file-uploads" aria-label="Permalink for Section 4.14.7"></a></div>
<p>In contrast to OpenAPI 2.0, <code>file</code> input/output content in OAS 3.x is described with the same semantics as any other schema type.</p>
<p>In contrast to OAS 3.0, the <code>format</code> keyword has no effect on the content-encoding of the schema in OAS 3.1. Instead, JSON Schemaโs <code>contentEncoding</code> and <code>contentMediaType</code> keywords are used. See <a href="#working-with-binary-data">Working With Binary Data</a> for how to model various scenarios with these keywords, and how to migrate from the previous <code>format</code> usage.</p>
<p>Examples:</p>
<p>Content transferred in binary (octet-stream) <em class="rfc2119">MAY</em> omit <code>schema</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-comment"># a PNG image as a binary file:</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">image/png:</span> {}
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-comment"># an arbitrary binary file:</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/octet-stream:</span> {}
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-comment"># arbitrary JSON without constraints beyond being syntactically valid:</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span> {}
</code></pre>
<p>These examples apply to either input payloads of file uploads or response payloads.</p>
<p>A <code>requestBody</code> for submitting a file in a <code>POST</code> operation may look like the following example:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/octet-stream:</span> {}
</code></pre>
<p>In addition, specific media types <em class="rfc2119">MAY</em> be specified:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-comment"># multiple, specific media types may be specified:</span>
<span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-comment"># a binary file of type png or jpeg</span>
    <span class="hljs-attr">image/jpeg:</span> {}
    <span class="hljs-attr">image/png:</span> {}
</code></pre>
<p>To upload multiple files, a <code>multipart</code> media type <em class="rfc2119">MUST</em> be used as shown under <a href="#example-multipart-form-with-multiple-files">Example: Multipart Form with Multiple Files</a>.</p>
</section></section><section id="encoding-object"><div class="header-wrapper"><h3 id="x4-15-encoding-object"><bdi class="secno">4.15 </bdi>Encoding Object</h3><a class="self-link" href="#encoding-object" aria-label="Permalink for Section 4.15"></a></div>
<p>A single encoding definition applied to a single value, with the mapping of Encoding Objects to values determined by the <a href="#media-type-object">Media Type Object</a> as described under <a href="#encoding-usage-and-restrictions">Encoding Usage and Restrictions</a>.</p>
<p>See <a href="#appendix-b-data-type-conversion">Appendix B</a> for a discussion of converting values of various types to string representations.</p>
<p>See <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a detailed examination of percent-encoding concerns for form media types.</p>
<section id="fixed-fields-12"><div class="header-wrapper"><h4 id="x4-15-1-fixed-fields"><bdi class="secno">4.15.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-12" aria-label="Permalink for Section 4.15.1"></a></div>
<section id="common-fixed-fields-0"><div class="header-wrapper"><h5 id="x4-15-1-1-common-fixed-fields"><bdi class="secno">4.15.1.1 </bdi>Common Fixed Fields</h5><a class="self-link" href="#common-fixed-fields-0" aria-label="Permalink for Section 4.15.1.1"></a></div>
<p>These fields <em class="rfc2119">MAY</em> be used either with or without the RFC6570-style serialization fields defined in the next section below.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="encoding-content-type"></span>contentType</td>
<td style="text-align:center"><code>string</code></td>
<td>The <code>Content-Type</code> for encoding a specific property. The value is a comma-separated list, each element of which is either a specific media type (e.g. <code>image/png</code>) or a wildcard media type (e.g. <code>image/*</code>). The default value depends on the type as shown in the table below.</td>
</tr>
<tr>
<td><span id="encoding-headers"></span>headers</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#header-object">Header Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map allowing additional information to be provided as headers. <code>Content-Type</code> is described separately and <em class="rfc2119">SHALL</em> be ignored in this section. This field <em class="rfc2119">SHALL</em> be ignored if the media type is not a <code>multipart</code>.</td>
</tr>
<tr>
<td><span id="encoding-encoding"></span>encoding</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#encoding-object">Encoding Object</a>]</td>
<td>Applies nested Encoding Objects in the same manner as the <a href="#media-type-object">Media Type Object</a>โs <code>encoding</code> field.</td>
</tr>
<tr>
<td><span id="encoding-prefix-encoding"></span>prefixEncoding</td>
<td style="text-align:center">[<a href="#encoding-object">Encoding Object</a>]</td>
<td>Applies nested Encoding Objects in the same manner as the <a href="#media-type-object">Media Type Object</a>โs <code>prefixEncoding</code> field.</td>
</tr>
<tr>
<td><span id="encoding-item-encoding"></span>itemEncoding</td>
<td style="text-align:center"><a href="#encoding-object">Encoding Object</a></td>
<td>Applies nested Encoding Objects in the same manner as the <a href="#media-type-object">Media Type Object</a>โs <code>itemEncoding</code> field.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>The default values for <code>contentType</code> are as follows, where an <em>n/a</em> in the <code>contentEncoding</code> column means that the presence or value of <code>contentEncoding</code> is irrelevant.
This table is based on the value to which the Encoding Object is being applied as defined under <a href="#encoding-usage-and-restrictions">Encoding Usage and Restrictions</a>.
Note that in the case of <a href="#encoding-by-name">Encoding By Name</a>, this value is the array item for properties of type <code>"array"</code>, and the entire value for all other types.
Therefore the <code>array</code> row in this table applies only to array values inside of a top-level array when encoding by name.</p>
<table>
<thead>
<tr>
<th><code>type</code></th>
<th><code>contentEncoding</code></th>
<th>Default <code>contentType</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#working-with-binary-data"><em>absent</em></a></td>
<td><em>n/a</em></td>
<td><code>application/octet-stream</code></td>
</tr>
<tr>
<td><code>string</code></td>
<td><em>present</em></td>
<td><code>application/octet-stream</code></td>
</tr>
<tr>
<td><code>string</code></td>
<td><em>absent</em></td>
<td><code>text/plain</code></td>
</tr>
<tr>
<td><code>number</code>, <code>integer</code>, or <code>boolean</code></td>
<td><em>n/a</em></td>
<td><code>text/plain</code></td>
</tr>
<tr>
<td><code>object</code></td>
<td><em>n/a</em></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>array</code></td>
<td><em>n/a</em></td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<p>Determining how to handle a <code>type</code> value of <code>null</code> depends on how <code>null</code> values are being serialized.
If <code>null</code> values are entirely omitted, then the <code>contentType</code> is irrelevant.
See <a href="#appendix-b-data-type-conversion">Appendix B</a> for a discussion of data type conversion options.</p>
</section><section id="fixed-fields-for-rfc6570-style-serialization"><div class="header-wrapper"><h5 id="x4-15-1-2-fixed-fields-for-rfc6570-style-serialization"><bdi class="secno">4.15.1.2 </bdi>Fixed Fields for RFC6570-style Serialization</h5><a class="self-link" href="#fixed-fields-for-rfc6570-style-serialization" aria-label="Permalink for Section 4.15.1.2"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="encoding-style"></span>style</td>
<td style="text-align:center"><code>string</code></td>
<td>Describes how a specific property value will be serialized depending on its type. See <a href="#parameter-object">Parameter Object</a> for details on the <a href="#parameter-style"><code>style</code></a> field. The behavior follows the same values as <code>query</code> parameters, including the default value of <code>"form"</code> which applies only when <code>contentType</code> is <em>not</em> being used due to one or both of <code>explode</code> or <code>allowReserved</code> being explicitly specified. Note that the initial <code>?</code> used in query strings is not used in <code>application/x-www-form-urlencoded</code> message bodies, and <em class="rfc2119">MUST</em> be removed (if using an RFC6570 implementation) or simply not added (if constructing the string manually). This field <em class="rfc2119">SHALL</em> be ignored if the media type is not <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>. If a value is explicitly defined, then the value of <a href="#encoding-content-type"><code>contentType</code></a> (implicit or explicit) <em class="rfc2119">SHALL</em> be ignored.</td>
</tr>
<tr>
<td><span id="encoding-explode"></span>explode</td>
<td style="text-align:center"><code>boolean</code></td>
<td>When this is true, property values of type <code>array</code> or <code>object</code> generate separate parameters for each value of the array, or key-value-pair of the map. For other types of properties, or when <a href="#encoding-style"><code>style</code></a> is <code>"deepObject"</code>, this field has no effect. When <code>style</code> is <code>"form"</code>, the default value is <code>true</code>. For all other styles, the default value is <code>false</code>. This field <em class="rfc2119">SHALL</em> be ignored if the media type is not <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>. If a value is explicitly defined, then the value of <a href="#encoding-content-type"><code>contentType</code></a> (implicit or explicit) <em class="rfc2119">SHALL</em> be ignored.</td>
</tr>
<tr>
<td><span id="encoding-allow-reserved"></span>allowReserved</td>
<td style="text-align:center"><code>boolean</code></td>
<td>When this is true, parameter values are serialized using reserved expansion, as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-3.2.3">Section 3.2.3</a>, which allows <a href="https://tools.ietf.org/html/rfc3986#section-2.2">RFC3986โs reserved character set</a>, as well as percent-encoded triples, to pass through unchanged, while still percent-encoding all other disallowed characters (including <code>%</code> outside of percent-encoded triples). Applications are still responsible for percent-encoding reserved characters that are not allowed in the target media type; see <a href="#url-percent-encoding">URL Percent-Encoding</a> for details. The default value is <code>false</code>. This field <em class="rfc2119">SHALL</em> be ignored if the media type is not <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>. If a value is explicitly defined, then the value of <a href="#encoding-content-type"><code>contentType</code></a> (implicit or explicit) <em class="rfc2119">SHALL</em> be ignored.</td>
</tr>
</tbody>
</table>
<p>When using RFC6570-style serialization for <code>multipart/form-data</code>, URI percent-encoding <em class="rfc2119">MUST NOT</em> be applied, and the value of <code>allowReserved</code> has no effect.
See also <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C: Using RFC6570 Implementations</a> for additional guidance.</p>
<p>Note that the presence of at least one of <code>style</code>, <code>explode</code>, or <code>allowReserved</code> with an explicit value is equivalent to using <code>schema</code> with <code>in: "query"</code> Parameter Objects.
The absence of all three of those fields is the equivalent of using <code>content</code>, but with the media type specified in <code>contentType</code> rather than through a Media Type Object.</p>
</section></section><section id="nested-encoding"><div class="header-wrapper"><h4 id="x4-15-2-nested-encoding"><bdi class="secno">4.15.2 </bdi>Nested Encoding</h4><a class="self-link" href="#nested-encoding" aria-label="Permalink for Section 4.15.2"></a></div>
<p>Nested formats requiring encoding, most notably nested <code>multipart/mixed</code>, can be supported with this Objectโs <code>encoding</code>, <code>prefixEncoding</code>, and / or <code>itemEncoding</code> fields.
Implementations <em class="rfc2119">MUST</em> support one level of nesting, and <em class="rfc2119">MAY</em> support additional levels.</p>
</section><section id="encoding-the-x-www-form-urlencoded-media-type"><div class="header-wrapper"><h4 id="x4-15-3-encoding-the-x-www-form-urlencoded-media-type"><bdi class="secno">4.15.3 </bdi>Encoding the <code>x-www-form-urlencoded</code> Media Type</h4><a class="self-link" href="#encoding-the-x-www-form-urlencoded-media-type" aria-label="Permalink for Section 4.15.3"></a></div>
<p>To work with content using form url encoding via [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>], use the <code>application/x-www-form-urlencoded</code> media type in the <a href="#media-type-object">Media Type Object</a>.
This configuration means that the content <em class="rfc2119">MUST</em> be percent-encoded per [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>]'s rules for that media type, after any complex objects have been serialized to a string representation.</p>
<p>See <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a detailed examination of percent-encoding concerns for form media types.</p>
<section id="example-url-encoded-form-with-json-values"><div class="header-wrapper"><h5 id="x4-15-3-1-example-url-encoded-form-with-json-values"><bdi class="secno">4.15.3.1 </bdi>Example: URL Encoded Form with JSON Values</h5><a class="self-link" href="#example-url-encoded-form-with-json-values" aria-label="Permalink for Section 4.15.3.1"></a></div>
<p>When there is no <a href="#media-type-encoding"><code>encoding</code></a> field, the serialization strategy is based on the Encoding Objectโs default values:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/x-www-form-urlencoded:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">id:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">format:</span> <span class="hljs-string">uuid</span>
          <span class="hljs-attr">address:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
            <span class="hljs-attr">properties:</span> {}
</code></pre>
<p>With this example, consider an <code>id</code> of <code>f81d4fae-7dec-11d0-a765-00a0c91e6bf6</code> and a US-style address (with ZIP+4) as follows:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"streetAddress"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"123 Example Dr."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Somewhere"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"zip"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"99999+1234"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Assuming the most compact representation of the JSON value (with unnecessary whitespace removed), we would expect to see the following request body, where space characters have been replaced with <code>+</code> and <code>+</code>, <code>"</code>, <code>:</code>, <code>,</code>, <code>{</code>, and <code>}</code> have been percent-encoded to <code>%2B</code>, <code>%22</code>, <code>%3A</code>, <code>%2C</code>, <code>%7B</code>, and <code>%7D</code>, respectively:</p>
<pre class="nohighlight" tabindex="0"><code>id=<span class="hljs-literal">f81d4fae-7dec-11d0-a765-00a0c91e6bf6</span>&amp;<span class="hljs-attr">address</span>=<span class="hljs-literal">%7B%22streetAddress%22%3A%22123+Example+Dr.%22%2C%22city%22%3A%22Somewhere%22%2C%22state%22%3A%22CA%22%2C%22zip%22%3A%2299999%2B1234%22%7D</span>
</code></pre>
<p>Note that the <code>id</code> keyword is treated as <code>text/plain</code> per the <a href="#encoding-object">Encoding Object</a>โs default behavior, and is serialized as-is.
If it were treated as <code>application/json</code>, then the serialized value would be a JSON string including quotation marks, which would be percent-encoded as <code>%22</code>.</p>
<p>Here is the <code>id</code> parameter (without <code>address</code>) serialized as <code>application/json</code> instead of <code>text/plain</code>, and then encoded per [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>]'s <code>form-urlencoded</code> rules:</p>
<pre class="nohighlight" tabindex="0"><code>id=<span class="hljs-literal">%22f81d4fae-7dec-11d0-a765-00a0c91e6bf6%22</span>
</code></pre>
</section><section id="example-url-encoded-form-with-binary-values"><div class="header-wrapper"><h5 id="x4-15-3-2-example-url-encoded-form-with-binary-values"><bdi class="secno">4.15.3.2 </bdi>Example: URL Encoded Form with Binary Values</h5><a class="self-link" href="#example-url-encoded-form-with-binary-values" aria-label="Permalink for Section 4.15.3.2"></a></div>
<p>Note that <code>application/x-www-form-urlencoded</code> is a text format, which requires base64-encoding any binary data:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/x-www-form-urlencoded:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">name:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">icon:</span>
            <span class="hljs-comment"># The default content type with `contentEncoding` present</span>
            <span class="hljs-comment"># is `application/octet-stream`, so we need to set the correct</span>
            <span class="hljs-comment"># image media type(s) in the Encoding Object.</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">contentEncoding:</span> <span class="hljs-string">base64url</span>
  <span class="hljs-attr">encoding:</span>
    <span class="hljs-attr">icon:</span>
      <span class="hljs-attr">contentType:</span> <span class="hljs-string">image/png,</span> <span class="hljs-string">image/jpeg</span>
</code></pre>
<p>Given a name of <code>example</code> and a solid red 2x2-pixel PNG for <code>icon</code>, this
would produce a request body of:</p>
<pre class="nohighlight" tabindex="0"><code>name=<span class="hljs-literal">example</span>&amp;<span class="hljs-attr">icon</span>=<span class="hljs-literal">iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAABGdBTUEAALGPC_xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAqADAAQAAAABAAAAAgAAAADO0J6QAAAAEElEQVQIHWP8zwACTGCSAQANHQEDqtPptQAAAABJRU5ErkJggg%3D%3D</span>
</code></pre>
<p>Note that the <code>=</code> padding characters at the end need to be percent-encoded, even with the โURL safeโ <code>contentEncoding: base64url</code>.
Some base64-decoding implementations may be able to use the string without the padding per [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4648" title="The Base16, Base32, and Base64 Data Encodings">RFC4648</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-3.2">Section 3.2</a>.
However, this is not guaranteed, so it may be more interoperable to keep the padding and rely on percent-decoding.</p>
</section></section><section id="encoding-multipart-media-types"><div class="header-wrapper"><h4 id="x4-15-4-encoding-multipart-media-types"><bdi class="secno">4.15.4 </bdi>Encoding <code>multipart</code> Media Types</h4><a class="self-link" href="#encoding-multipart-media-types" aria-label="Permalink for Section 4.15.4"></a></div>
<p>See <a href="#encoding-usage-and-restrictions">Encoding Usage and Restrictions</a> for guidance on correlating schema properties with parts.</p>
<p>Note that there are significant restrictions on what headers can be used with <code>multipart</code> media types in general ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc2046#section-5.1">Section 5.1</a>) and <code>multi-part/form-data</code> in particular ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc7578#section-4.8">Section 4.8</a>).</p>
<section id="handling-multiple-contenttype-values"><div class="header-wrapper"><h5 id="x4-15-4-1-handling-multiple-contenttype-values"><bdi class="secno">4.15.4.1 </bdi>Handling Multiple <code>contentType</code> Values</h5><a class="self-link" href="#handling-multiple-contenttype-values" aria-label="Permalink for Section 4.15.4.1"></a></div>
<p>When multiple values are provided for <code>contentType</code>, parsing remains straightforward as the partโs actual <code>Content-Type</code> is included in the document.</p>
<p>For encoding and serialization, implementations <em class="rfc2119">MUST</em> provide a mechanism for applications to indicate which media type is intended.
Implementations <em class="rfc2119">MAY</em> choose to offer media type sniffing ([<cite><a class="bibref" data-link-type="biblio" href="#bib-sniff" title="MIME Sniffing Standard">SNIFF</a></cite>]) as an alternative, but this <em class="rfc2119">MUST NOT</em> be the default behavior due to the security risks inherent in the process.</p>
</section><section id="content-transfer-encoding-and-contentencoding"><div class="header-wrapper"><h5 id="x4-15-4-2-content-transfer-encoding-and-contentencoding"><bdi class="secno">4.15.4.2 </bdi><code>Content-Transfer-Encoding</code> and <code>contentEncoding</code></h5><a class="self-link" href="#content-transfer-encoding-and-contentencoding" aria-label="Permalink for Section 4.15.4.2"></a></div>
<p>Using <code>contentEncoding</code> for a multipart field is equivalent to specifying an <a href="#encoding-object">Encoding Object</a> with a <code>headers</code> field containing <code>Content-Transfer-Encoding</code> with a schema that requires the value used in <code>contentEncoding</code>.
If <code>contentEncoding</code> is used for a multipart field that has an Encoding Object with a <code>headers</code> field containing <code>Content-Transfer-Encoding</code> with a schema that disallows the value from <code>contentEncoding</code>, the result is undefined for serialization and parsing.</p>
<p>Note that as stated in <a href="#working-with-binary-data">Working with Binary Data</a>, if the Encoding Objectโs <code>contentType</code>, whether set explicitly or implicitly through its default value rules, disagrees with the <code>contentMediaType</code> in a Schema Object, the <code>contentMediaType</code> <em class="rfc2119">SHALL</em> be ignored.
Because of this, and because the Encoding Objectโs <code>contentType</code> defaulting rules do not take the Schema Objectโs<code>contentMediaType</code> into account, the use of <code>contentMediaType</code> with an Encoding Object is <em class="rfc2119">NOT RECOMMENDED</em>.</p>
<p>Note also that <code>Content-Transfer-Encoding</code> is deprecated for <code>multipart/form-data</code> ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc7578#section-4.7">Section 4.7</a>) where binary data is supported, as it is in HTTP.</p>
<p>See <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for a detailed examination of percent-encoding concerns for form media types.</p>
</section><section id="example-basic-multipart-form"><div class="header-wrapper"><h5 id="x4-15-4-3-example-basic-multipart-form"><bdi class="secno">4.15.4.3 </bdi>Example: Basic Multipart Form</h5><a class="self-link" href="#example-basic-multipart-form" aria-label="Permalink for Section 4.15.4.3"></a></div>
<p>When the <code>encoding</code> field is <em>not</em> used, the encoding is determined by the Encoding Objectโs defaults:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">multipart/form-data:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-comment"># default content type for a string without `contentEncoding`</span>
          <span class="hljs-comment"># is `text/plain`</span>
          <span class="hljs-attr">id:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">format:</span> <span class="hljs-string">uuid</span>

          <span class="hljs-comment"># default content type for a schema without `type`</span>
          <span class="hljs-comment"># is `application/octet-stream`</span>
          <span class="hljs-attr">profileImage:</span> {}

          <span class="hljs-comment"># for arrays, the `encoding` field applies the Encoding Object</span>
          <span class="hljs-comment"># to each item individually and determines the default content type</span>
          <span class="hljs-comment"># based on the type in the `items` subschema, which in this example</span>
          <span class="hljs-comment"># is an object, so the default content type for each item is</span>
          <span class="hljs-comment"># `application/json`</span>
          <span class="hljs-attr">addresses:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
            <span class="hljs-attr">items:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Address'</span>
</code></pre>
</section><section id="example-multipart-form-with-encoding-objects"><div class="header-wrapper"><h5 id="x4-15-4-4-example-multipart-form-with-encoding-objects"><bdi class="secno">4.15.4.4 </bdi>Example: Multipart Form with Encoding Objects</h5><a class="self-link" href="#example-multipart-form-with-encoding-objects" aria-label="Permalink for Section 4.15.4.4"></a></div>
<p>Using <code>encoding</code>, we can set more specific types for binary data, or non-JSON formats for complex values.
We can also describe headers for each part:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">multipart/form-data:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-comment"># No Encoding Object, so use default `text/plain`</span>
          <span class="hljs-attr">id:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">format:</span> <span class="hljs-string">uuid</span>

          <span class="hljs-comment"># Encoding Object overrides the default `application/json` content type</span>
          <span class="hljs-comment"># for each item in the array with `application/xml; charset=utf-8`</span>
          <span class="hljs-attr">addresses:</span>
            <span class="hljs-attr">description:</span> <span class="hljs-string">addresses</span> <span class="hljs-string">in</span> <span class="hljs-string">XML</span> <span class="hljs-string">format</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
            <span class="hljs-attr">items:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Address'</span>

          <span class="hljs-comment"># Encoding Object accepts only PNG or JPEG, and also describes</span>
          <span class="hljs-comment"># a custom header for just this part in the multipart format</span>
          <span class="hljs-attr">profileImage:</span> {}

      <span class="hljs-attr">encoding:</span>
        <span class="hljs-attr">addresses:</span>
          <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/xml;</span> <span class="hljs-string">charset=utf-8</span>
        <span class="hljs-attr">profileImage:</span>
          <span class="hljs-attr">contentType:</span> <span class="hljs-string">image/png,</span> <span class="hljs-string">image/jpeg</span>
          <span class="hljs-attr">headers:</span>
            <span class="hljs-attr">X-Rate-Limit-Limit:</span>
              <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">allowed</span> <span class="hljs-string">requests</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">current</span> <span class="hljs-string">period</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
</code></pre>
</section><section id="example-multipart-form-with-multiple-files"><div class="header-wrapper"><h5 id="x4-15-4-5-example-multipart-form-with-multiple-files"><bdi class="secno">4.15.4.5 </bdi>Example: Multipart Form with Multiple Files</h5><a class="self-link" href="#example-multipart-form-with-multiple-files" aria-label="Permalink for Section 4.15.4.5"></a></div>
<p>In accordance with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc7578#section-4.3">Section 4.3</a>, multiple files for a single form field are uploaded using the same name (<code>file</code> in this example) for each fileโs part:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">requestBody:</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">multipart/form-data:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-comment"># The property name `file` will be used for all files.</span>
          <span class="hljs-attr">file:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
            <span class="hljs-attr">items:</span> {}
</code></pre>
<p>As seen in the <a href="#encoding-content-type">Encoding Objectโs <code>contentType</code> field documentation</a>, the empty schema for <code>items</code> indicates a media type of <code>application/octet-stream</code>.</p>
</section><section id="example-ordered-unnamed-multipart"><div class="header-wrapper"><h5 id="x4-15-4-6-example-ordered-unnamed-multipart"><bdi class="secno">4.15.4.6 </bdi>Example: Ordered, Unnamed Multipart</h5><a class="self-link" href="#example-ordered-unnamed-multipart" aria-label="Permalink for Section 4.15.4.6"></a></div>
<p>A <code>multipart/mixed</code> payload consisting of a JSON metadata document followed by an image which the metadata describes:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">multipart/mixed:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">prefixItems:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-comment"># default content type for objects</span>
      <span class="hljs-comment"># is `application/json`</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">author:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">created:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">datetime</span>
        <span class="hljs-attr">copyright:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">license:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-bullet">-</span> <span class="hljs-comment"># default content type for a schema without `type`</span>
      <span class="hljs-comment"># is `application/octet-stream`, which we need</span>
      <span class="hljs-comment"># to override.</span>
      {}
  <span class="hljs-attr">prefixEncoding:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-comment"># Encoding Object defaults are correct for JSON</span>
    {}
  <span class="hljs-bullet">-</span> <span class="hljs-attr">contentType:</span> <span class="hljs-string">image/*</span>
</code></pre>
</section><section id="example-ordered-multipart-with-required-header"><div class="header-wrapper"><h5 id="x4-15-4-7-example-ordered-multipart-with-required-header"><bdi class="secno">4.15.4.7 </bdi>Example: Ordered Multipart With Required Header</h5><a class="self-link" href="#example-ordered-multipart-with-required-header" aria-label="Permalink for Section 4.15.4.7"></a></div>
<p>As described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2557" title="MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)">RFC2557</a></cite>], a set of resources making up a web page can be sent in a <code>multipart/related</code> payload, preserving links from the <code>text/html</code> document to subsidiary resources such as scripts, style sheets, and images by defining a <code>Content-Location</code> header for each page.
The first part is used as the root resource (unless using <code>Content-ID</code>, which RFC2557 advises against and is forbidden in this example), so we use <code>prefixItems</code> and <code>prefixEncoding</code> to define that it must be an HTML resource, and then allow any of several different types of resources in any order to follow.</p>
<p>The <code>Content-Location</code> header is defined using <code>content: {text/plain: {...}}</code> to avoid percent-encoding its URI value; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for further details.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">headers:</span>
    <span class="hljs-attr">RFC2557NoContentId:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">Use</span> <span class="hljs-string">Content-Location</span> <span class="hljs-string">instead</span> <span class="hljs-string">of</span> <span class="hljs-string">Content-ID</span>
      <span class="hljs-attr">schema:</span> <span class="hljs-literal">false</span>
    <span class="hljs-attr">RFC2557ContentLocation:</span>
      <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">text/plain:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$comment:</span> <span class="hljs-string">Use</span> <span class="hljs-string">a</span> <span class="hljs-string">full</span> <span class="hljs-string">URI</span> <span class="hljs-string">(not</span> <span class="hljs-string">a</span> <span class="hljs-string">relative</span> <span class="hljs-string">reference)</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">format:</span> <span class="hljs-string">uri</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">RFC2557:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-string">multipart/related;</span> <span class="hljs-string">type=text/html:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-attr">prefixItems:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">items:</span>
              <span class="hljs-attr">anyOf:</span>
              <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
              <span class="hljs-bullet">-</span> <span class="hljs-string">$comment:</span> <span class="hljs-string">To</span> <span class="hljs-string">allow</span> <span class="hljs-string">binary,</span> <span class="hljs-string">this</span> <span class="hljs-string">must</span> <span class="hljs-string">always</span> <span class="hljs-string">pass</span>
          <span class="hljs-attr">prefixEncoding:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">contentType:</span> <span class="hljs-string">text/html</span>
            <span class="hljs-attr">headers:</span>
              <span class="hljs-attr">Content-ID:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/headers/RFC2557NoContentId'</span>
              <span class="hljs-attr">Content-Location:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/headers/RFC2557ContentLocation'</span>
          <span class="hljs-attr">itemEncoding:</span>
            <span class="hljs-attr">contentType:</span> <span class="hljs-string">text/css,text/javascript,image/*</span>
            <span class="hljs-attr">headers:</span>
              <span class="hljs-attr">Content-ID:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/headers/RFC2557NoContentId'</span>
              <span class="hljs-attr">Content-Location:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/headers/RFC2557ContentLocation'</span>
</code></pre>
</section><section id="example-streaming-multipart"><div class="header-wrapper"><h5 id="x4-15-4-8-example-streaming-multipart"><bdi class="secno">4.15.4.8 </bdi>Example: Streaming Multipart</h5><a class="self-link" href="#example-streaming-multipart" aria-label="Permalink for Section 4.15.4.8"></a></div>
<p>This example assumes a device that takes large sets of pictures and streams them to the caller.
Unlike the previous example, we use <code>itemSchema</code> here because the expectation is that each image is processed as it arrives (or in small batches), since we know that buffering the entire stream will take too much memory.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">multipart/mixed:</span>
  <span class="hljs-attr">itemSchema:</span>
    <span class="hljs-string">$comment:</span> <span class="hljs-string">A</span> <span class="hljs-string">single</span> <span class="hljs-string">data</span> <span class="hljs-string">image</span> <span class="hljs-string">from</span> <span class="hljs-string">the</span> <span class="hljs-string">device</span>
  <span class="hljs-attr">itemEncoding:</span>
    <span class="hljs-attr">contentType:</span> <span class="hljs-string">image/jpg</span>
</code></pre>
</section><section id="example-streaming-byte-ranges"><div class="header-wrapper"><h5 id="x4-15-4-9-example-streaming-byte-ranges"><bdi class="secno">4.15.4.9 </bdi>Example: Streaming Byte Ranges</h5><a class="self-link" href="#example-streaming-byte-ranges" aria-label="Permalink for Section 4.15.4.9"></a></div>
<p>For <code>multipart/byteranges</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://tools.ietf.org/html/rfc9110#section-14.6">Section 14.6</a>, a <code>Content-Range</code> header is required:</p>
<p>See <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for an explanation of why <code>content: {text/plain: {...}}</code> is used to describe the header value.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">multipart/byteranges:</span>
  <span class="hljs-attr">itemSchema:</span>
    <span class="hljs-string">$comment:</span> <span class="hljs-string">A</span> <span class="hljs-string">single</span> <span class="hljs-string">range</span> <span class="hljs-string">of</span> <span class="hljs-string">bytes</span> <span class="hljs-string">from</span> <span class="hljs-string">a</span> <span class="hljs-string">video</span>
  <span class="hljs-attr">itemEncoding:</span>
    <span class="hljs-attr">contentType:</span> <span class="hljs-string">video/mp4</span>
    <span class="hljs-attr">headers:</span>
      <span class="hljs-attr">Content-Range:</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">text/plain:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-comment"># The `pattern` regular expression that would</span>
              <span class="hljs-comment"># be included in practice is omitted for simplicity</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
</section><section id="example-nested-multipart-mixed"><div class="header-wrapper"><h5 id="x4-15-4-10-example-nested-multipart-mixed"><bdi class="secno">4.15.4.10 </bdi>Example: Nested <code>multipart/mixed</code></h5><a class="self-link" href="#example-nested-multipart-mixed" aria-label="Permalink for Section 4.15.4.10"></a></div>
<p>This defines a two-part <code>multipart/mixed</code> where the first part is a JSON array and the second part is a nested <code>multipart/mixed</code> document.
The nested parts are XML, plain text, and a PNG image.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">multipart/mixed:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">prefixItems:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">prefixItems:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-bullet">-</span> {}
  <span class="hljs-attr">prefixEncoding:</span>
    <span class="hljs-bullet">-</span> {} <span class="hljs-comment"># Accept the default application/json</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">contentType:</span> <span class="hljs-string">multipart/mixed</span>
      <span class="hljs-attr">prefixEncoding:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/xml</span>
      <span class="hljs-bullet">-</span> {} <span class="hljs-comment"># Accept the default text/plain</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">contentType:</span> <span class="hljs-string">image/png</span>
</code></pre>
</section></section></section><section id="responses-object"><div class="header-wrapper"><h3 id="x4-16-responses-object"><bdi class="secno">4.16 </bdi>Responses Object</h3><a class="self-link" href="#responses-object" aria-label="Permalink for Section 4.16"></a></div>
<p>A container for the expected responses of an operation.
The container maps a HTTP response code to the expected response.</p>
<p>The documentation is not necessarily expected to cover all possible HTTP response codes because they may not be known in advance.
However, documentation is expected to cover a successful operation response and any known errors.</p>
<p>The <code>default</code> <em class="rfc2119">MAY</em> be used as a default Response Object for all HTTP codes
that are not covered individually by the Responses Object.</p>
<p>The Responses Object <em class="rfc2119">MUST</em> contain at least one response code, and if only one
response code is provided it <em class="rfc2119">SHOULD</em> be the response for a successful operation
call.</p>
<section id="fixed-fields-13"><div class="header-wrapper"><h4 id="x4-16-1-fixed-fields"><bdi class="secno">4.16.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-13" aria-label="Permalink for Section 4.16.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="responses-default"></span>default</td>
<td style="text-align:center"><a href="#response-object">Response Object</a> | <a href="#reference-object">Reference Object</a></td>
<td>The documentation of responses other than the ones declared for specific HTTP response codes. Use this field to cover undeclared responses.</td>
</tr>
</tbody>
</table>
</section><section id="patterned-fields-0"><div class="header-wrapper"><h4 id="x4-16-2-patterned-fields"><bdi class="secno">4.16.2 </bdi>Patterned Fields</h4><a class="self-link" href="#patterned-fields-0" aria-label="Permalink for Section 4.16.2"></a></div>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="responses-code"></span><a href="#http-status-codes">HTTP Status Code</a></td>
<td style="text-align:center"><a href="#response-object">Response Object</a> | <a href="#reference-object">Reference Object</a></td>
<td>Any <a href="#http-status-codes">HTTP status code</a> can be used as the property name, but only one property per code, to describe the expected response for that HTTP status code. This field <em class="rfc2119">MUST</em> be enclosed in quotation marks (for example, โ200โ) for compatibility between JSON and YAML. To define a range of response codes, this field <em class="rfc2119">MAY</em> contain the uppercase wildcard character <code>X</code>. For example, <code>2XX</code> represents all response codes between <code>200</code> and <code>299</code>. Only the following range definitions are allowed: <code>1XX</code>, <code>2XX</code>, <code>3XX</code>, <code>4XX</code>, and <code>5XX</code>. If a response is defined using an explicit code, the explicit code definition takes precedence over the range definition for that code.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="http-status-codes"><div class="header-wrapper"><h4 id="x4-16-3-http-status-codes"><bdi class="secno">4.16.3 </bdi>HTTP Status Codes</h4><a class="self-link" href="#http-status-codes" aria-label="Permalink for Section 4.16.3"></a></div>
<p>The HTTP Status Codes are used to indicate the status of the executed operation.
Status codes <em class="rfc2119">SHOULD</em> be selected from the available status codes registered in the <cite><a class="bibref" data-link-type="biblio" href="#bib-iana-http-status-codes" title="Hypertext Transfer Protocol (HTTP) Status Code Registry">IANA Status Code Registry</a></cite>.</p>
</section><section id="responses-object-example"><div class="header-wrapper"><h4 id="x4-16-4-responses-object-example"><bdi class="secno">4.16.4 </bdi>Responses Object Example</h4><a class="self-link" href="#responses-object-example" aria-label="Permalink for Section 4.16.4"></a></div>
<p>A 200 response for a successful operation and a default response for others (implying an error):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">'200':</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">a</span> <span class="hljs-string">pet</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">returned</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/json:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
<span class="hljs-attr">default:</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">Unexpected</span> <span class="hljs-string">error</span>
  <span class="hljs-attr">content:</span>
    <span class="hljs-attr">application/json:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/ErrorModel'</span>
</code></pre>
</section></section><section id="response-object"><div class="header-wrapper"><h3 id="x4-17-response-object"><bdi class="secno">4.17 </bdi>Response Object</h3><a class="self-link" href="#response-object" aria-label="Permalink for Section 4.17"></a></div>
<p>Describes a single response from an API operation, including design-time, static
<code>links</code> to operations based on the response.</p>
<section id="fixed-fields-14"><div class="header-wrapper"><h4 id="x4-17-1-fixed-fields"><bdi class="secno">4.17.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-14" aria-label="Permalink for Section 4.17.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="response-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary of the meaning of the response.</td>
</tr>
<tr>
<td><span id="response-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the response. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="response-headers"></span>headers</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#header-object">Header Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>Maps a header name to its definition. [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-5.1">Section 5.1</a> states header names are case-insensitive. If a response header is defined with the name <code>"Content-Type"</code>, it <em class="rfc2119">SHALL</em> be ignored.</td>
</tr>
<tr>
<td><span id="response-content"></span>content</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#media-type-object">Media Type Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map containing descriptions of potential response payloads. The key is a media type or <a href="https://tools.ietf.org/html/rfc9110#appendix-A">media type range</a> and the value describes it. For responses that match multiple keys, only the most specific key is applicable. e.g. <code>"text/plain"</code> overrides <code>"text/*"</code></td>
</tr>
<tr>
<td><span id="response-links"></span>links</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#link-object">Link Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map of operations links that can be followed from the response. The key of the map is a short name for the link, following the naming constraints of the names for <a href="#components-object">Component Objects</a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="response-object-examples"><div class="header-wrapper"><h4 id="x4-17-2-response-object-examples"><bdi class="secno">4.17.2 </bdi>Response Object Examples</h4><a class="self-link" href="#response-object-examples" aria-label="Permalink for Section 4.17.2"></a></div>
<p>Response of an array of a complex type:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">complex</span> <span class="hljs-string">object</span> <span class="hljs-string">array</span> <span class="hljs-string">response</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">items:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/VeryComplexType'</span>
</code></pre>
<p>Response with a string type:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">simple</span> <span class="hljs-string">string</span> <span class="hljs-string">response</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">text/plain:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>Plain text response with headers:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">simple</span> <span class="hljs-string">string</span> <span class="hljs-string">response</span>
<span class="hljs-attr">content:</span>
  <span class="hljs-attr">text/plain:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">example:</span> <span class="hljs-string">'whoa!'</span>
<span class="hljs-attr">headers:</span>
  <span class="hljs-attr">X-Rate-Limit-Limit:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">allowed</span> <span class="hljs-string">requests</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">current</span> <span class="hljs-string">period</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
  <span class="hljs-attr">X-Rate-Limit-Remaining:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">remaining</span> <span class="hljs-string">requests</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">current</span> <span class="hljs-string">period</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
  <span class="hljs-attr">X-Rate-Limit-Reset:</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">seconds</span> <span class="hljs-string">left</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">current</span> <span class="hljs-string">period</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
</code></pre>
<p>Response with no return value:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">description:</span> <span class="hljs-string">object</span> <span class="hljs-string">created</span>
</code></pre>
</section></section><section id="callback-object"><div class="header-wrapper"><h3 id="x4-18-callback-object"><bdi class="secno">4.18 </bdi>Callback Object</h3><a class="self-link" href="#callback-object" aria-label="Permalink for Section 4.18"></a></div>
<p>A map of possible out-of band callbacks related to the parent operation.
Each value in the map is a <a href="#path-item-object">Path Item Object</a> that describes a set of requests that may be initiated by the API provider and the expected responses.
The key value used to identify the Path Item Object is an expression, evaluated at runtime, that identifies a URL to use for the callback operation.</p>
<p>To describe incoming requests from the API provider independent from another API call, use the <a href="#oas-webhooks"><code>webhooks</code></a> field.</p>
<section id="patterned-fields-1"><div class="header-wrapper"><h4 id="x4-18-1-patterned-fields"><bdi class="secno">4.18.1 </bdi>Patterned Fields</h4><a class="self-link" href="#patterned-fields-1" aria-label="Permalink for Section 4.18.1"></a></div>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="callback-expression"></span>{expression}</td>
<td style="text-align:center"><a href="#path-item-object">Path Item Object</a></td>
<td>A Path Item Object used to define a callback request and expected responses. A <a href="https://learn.openapis.org/examples/v3.0/callback-example.html">complete example</a> is available.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="key-expression"><div class="header-wrapper"><h4 id="x4-18-2-key-expression"><bdi class="secno">4.18.2 </bdi>Key Expression</h4><a class="self-link" href="#key-expression" aria-label="Permalink for Section 4.18.2"></a></div>
<p>The key that identifies the <a href="#path-item-object">Path Item Object</a> is a <a href="#runtime-expressions">runtime expression</a> that can be evaluated in the context of a runtime HTTP request/response to identify the URL to be used for the callback request.
A simple example might be <code>$request.body#/url</code>.
However, using a <a href="#runtime-expressions">runtime expression</a> the complete HTTP message can be accessed.
This includes accessing any part of a body that a JSON Pointer [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>] can reference.</p>
<p>For example, given the following HTTP request:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-keyword">POST</span> <span class="hljs-string">/subscribe/myevent?queryUrl=https://clientdomain.com/stillrunning</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>example.org
<span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/json
<span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>188

<span class="language-uri">{
  "failedUrl": "https://<span class="hljs-attr">clientdomain.com</span>/<span class="hljs-attr">failed",</span>
  "successUrls": [
    "https://<span class="hljs-attr">clientdomain.com</span>/<span class="hljs-attr">fast",</span>
    "https://<span class="hljs-attr">clientdomain.com</span>/<span class="hljs-attr">medium",</span>
    "https://<span class="hljs-attr">clientdomain.com</span>/<span class="hljs-attr">slow"</span>
  ]
}
</span></code></pre>
<p>resulting in:</p>
<pre class="nohighlight" tabindex="0"><code>201 Created
<span class="hljs-attribute">Location</span><span class="hljs-punctuation">: </span>https://example.org/subscription/1
</code></pre>
<p>The following examples show how the various expressions evaluate, assuming the callback operation has a path parameter named <code>eventType</code> and a query parameter named <code>queryUrl</code>.</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$url</td>
<td style="text-align:left"><a href="https://example.org/subscribe/myevent?queryUrl=https://clientdomain.com/stillrunning">https://example.org/subscribe/myevent?queryUrl=https://clientdomain.com/stillrunning</a></td>
</tr>
<tr>
<td>$method</td>
<td style="text-align:left">POST</td>
</tr>
<tr>
<td>$request.path.eventType</td>
<td style="text-align:left">myevent</td>
</tr>
<tr>
<td>$request.query.queryUrl</td>
<td style="text-align:left"><a href="https://clientdomain.com/stillrunning">https://clientdomain.com/stillrunning</a></td>
</tr>
<tr>
<td>$request.header.content-type</td>
<td style="text-align:left">application/json</td>
</tr>
<tr>
<td>$request.body#/failedUrl</td>
<td style="text-align:left"><a href="https://clientdomain.com/failed">https://clientdomain.com/failed</a></td>
</tr>
<tr>
<td>$request.body#/successUrls/1</td>
<td style="text-align:left"><a href="https://clientdomain.com/medium">https://clientdomain.com/medium</a></td>
</tr>
<tr>
<td>$response.header.Location</td>
<td style="text-align:left"><a href="https://example.org/subscription/1">https://example.org/subscription/1</a></td>
</tr>
</tbody>
</table>
</section><section id="callback-object-examples"><div class="header-wrapper"><h4 id="x4-18-3-callback-object-examples"><bdi class="secno">4.18.3 </bdi>Callback Object Examples</h4><a class="self-link" href="#callback-object-examples" aria-label="Permalink for Section 4.18.3"></a></div>
<p>The following example uses the user provided <code>queryUrl</code> query string parameter to define the callback URL. This is similar to a <a href="#oas-webhooks">webhook</a>, but differs in that the callback only occurs because of the initial request that sent the <code>queryUrl</code>.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">myCallback:</span>
  <span class="hljs-string">'{$request.query.queryUrl}'</span><span class="hljs-string">:</span>
    <span class="hljs-attr">post:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Callback</span> <span class="hljs-string">payload</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/json:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/SomePayload'</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">callback</span> <span class="hljs-string">successfully</span> <span class="hljs-string">processed</span>
</code></pre>
<p>The following example shows a callback where the server is hard-coded, but the query string parameters are populated from the <code>id</code> and <code>email</code> property in the request body.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">transactionCallback:</span>
  <span class="hljs-string">'http://notificationServer.com?transactionId={$request.body#/id}&amp;email={$request.body#/email}'</span><span class="hljs-string">:</span>
    <span class="hljs-attr">post:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Callback</span> <span class="hljs-string">payload</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/json:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/SomePayload'</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">callback</span> <span class="hljs-string">successfully</span> <span class="hljs-string">processed</span>
</code></pre>
</section></section><section id="example-object"><div class="header-wrapper"><h3 id="x4-19-example-object"><bdi class="secno">4.19 </bdi>Example Object</h3><a class="self-link" href="#example-object" aria-label="Permalink for Section 4.19"></a></div>
<p>An object grouping an internal or external example value with basic <code>summary</code> and <code>description</code> metadata.
The examples can show either data suitable for schema validation, or serialized data as required by the containing <a href="#media-type-object">Media Type Object</a>, <a href="#parameter-object">Parameter Object</a>, or <a href="#header-object">Header Object</a>.
This object is typically used in fields named <code>examples</code> (plural), and is a <a href="#reference-object">referenceable</a> alternative to older <code>example</code> (singular) fields that do not support referencing or metadata.
The various fields and types of examples are explained in more detail under <a href="#working-with-examples">Working With Examples</a>.</p>
<section id="fixed-fields-15"><div class="header-wrapper"><h4 id="x4-19-1-fixed-fields"><bdi class="secno">4.19.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-15" aria-label="Permalink for Section 4.19.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="example-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>Short description for the example.</td>
</tr>
<tr>
<td><span id="example-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>Long description for the example. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="example-data-value"></span>dataValue</td>
<td style="text-align:center">Any</td>
<td>An example of the data structure that <em class="rfc2119">MUST</em> be valid according to the relevant <a href="#schema-object">Schema Object</a>.  If this field is present, <code>value</code> <em class="rfc2119">MUST</em> be absent.</td>
</tr>
<tr>
<td><span id="example-serialized-value"></span>serializedValue</td>
<td style="text-align:center"><code>string</code></td>
<td>An example of the serialized form of the value, including encoding and escaping as described under <a href="#validating-examples">Validating Examples</a>.  If <code>dataValue</code> is present, then this field <em class="rfc2119">SHOULD</em> contain the serialization of the given data.  Otherwise, it <em class="rfc2119">SHOULD</em> be the valid serialization of a data value that itself <em class="rfc2119">MUST</em> be valid as described for <code>dataValue</code>.  This field <em class="rfc2119">SHOULD NOT</em> be used if the serialization format is JSON, as the data form is easier to work with. If this field is present, <code>value</code>, and <code>externalValue</code> <em class="rfc2119">MUST</em> be absent.</td>
</tr>
<tr>
<td><span id="example-external-value"></span>externalValue</td>
<td style="text-align:center"><code>string</code></td>
<td>A URI that identifies the serialized example in a separate document, allowing for values not easily or readably expressed as a Unicode string.  If <code>dataValue</code> is present, then this field <em class="rfc2119">SHOULD</em> identify a serialization of the given data.  Otherwise, the value <em class="rfc2119">SHOULD</em> be the valid serialization of a data value that itself <em class="rfc2119">MUST</em> be valid as described for <code>dataValue</code>. If this field is present, <code>serializedValue</code> and <code>value</code> <em class="rfc2119">MUST</em> be absent. See also the rules for resolving <a href="#relative-references-in-api-description-uris">Relative References</a>.</td>
</tr>
<tr>
<td><span id="example-value"></span>value</td>
<td style="text-align:center">Any</td>
<td>Embedded literal example. The <code>value</code> field and <code>externalValue</code> field are mutually exclusive. To represent examples of media types that cannot naturally be represented in JSON or YAML, use a string value to contain the example, escaping where necessary.<br><br><strong>Deprecated for non-JSON serialization targets:</strong> Use <code>dataValue</code> and/or <code>serializedValue</code>, which both have unambiguous syntax and semantics, instead.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>In all cases, the example value <em class="rfc2119">SHOULD</em> be compatible with the schema of its associated value.
Tooling implementations <em class="rfc2119">MAY</em> choose to validate compatibility automatically, and reject the example value(s) if incompatible.
See <a href="#validating-examples">Validating Examples</a> for the exact meaning of โcompatibleโ for each field in this Object.</p>
</section><section id="working-with-examples"><div class="header-wrapper"><h4 id="x4-19-2-working-with-examples"><bdi class="secno">4.19.2 </bdi>Working with Examples</h4><a class="self-link" href="#working-with-examples" aria-label="Permalink for Section 4.19.2"></a></div>
<p>Example Objects can be used in <a href="#parameter-object">Parameter Objects</a>, <a href="#header-object">Header Objects</a>, and <a href="#media-type-object">Media Type Objects</a>.
In all three Objects, this is done through the <code>examples</code> (plural) field.
However, there are several other ways to provide examples: The <code>example</code> (singular) field that is mutually exclusive with <code>examples</code> in all three Objects, and two keywords (the deprecated singular <code>example</code> and the current plural <code>examples</code>, which takes an array of examples) in the <a href="#schema-object">Schema Object</a> that appears in the <code>schema</code> field of all three Objects.
We will refer to the singular <code>example</code> field in the Parameter, Header, or Media Type Object, which has the same behavior as a single Example Object with only the <code>value</code> field, as the โshorthand <code>example</code>โ field.
Each of these fields has slightly different considerations.</p>
<section id="json-compatible-and-value-safe-examples"><div class="header-wrapper"><h5 id="x4-19-2-1-json-compatible-and-value-safe-examples"><bdi class="secno">4.19.2.1 </bdi>JSON-Compatible and <code>value</code>-Safe Examples</h5><a class="self-link" href="#json-compatible-and-value-safe-examples" aria-label="Permalink for Section 4.19.2.1"></a></div>
<p>The <code>value</code> and the shorthand <code>example</code> field are intended to have the same <em>semantics</em> as <code>serializedValue</code> (or <code>externalValue</code>), while allowing a more convenient <em>syntax</em> when there is no difference between a JSON (or <a href="#format">JSON-compatible YAML</a>) representation and the final serialized form.
When using this syntax for <code>application/json</code> or any <code>+json</code> media type, these fields effectively behave like <code>dataValue</code>, as the serialization is trivial, and they are safe to use.</p>
<p>For data that consists of a single string, and a serialization target such as <code>text/plain</code> where the string is guaranteed to be serialized without any further escaping, these fields are also safe to use.</p>
<p>For other serialization targets, the ambiguity of the phrase โnaturally be represented in JSON or YAML,โ as well as past errors in the parameter style examples table, have resulted in inconsistencies in the support and usage of these fields.
In practice, this has resulted in the <code>value</code> and shorthand <code>example</code> fields having implementation-defined behavior for non-JSON targets; OAD authors <em class="rfc2119">SHOULD</em> use other fields to ensure interoperability.</p>
</section><section id="choosing-which-field-s-to-use"><div class="header-wrapper"><h5 id="x4-19-2-2-choosing-which-field-s-to-use"><bdi class="secno">4.19.2.2 </bdi>Choosing Which Field(s) to Use</h5><a class="self-link" href="#choosing-which-field-s-to-use" aria-label="Permalink for Section 4.19.2.2"></a></div>
<p>Keeping in mind the caveats from the previous section, and that the shorthand <code>example</code> can be used in place of <code>value</code> if there is only one Example Object involved, use the following guidelines to determine which field to use.</p>
<p>To show an example as it would be validated by a Schema Object:</p>
<ul>
<li>Use the Schema Objectโs <code>examples</code> array (from JSON Schema draft 2020-12) if the intent is to keep the example with the validating schema.
<ul>
<li>Use the Schema Objectโs <code>example</code> (singular) only if compatibility with OAS v3.0 or earlier is required.</li>
</ul>
</li>
<li>Use the Example Objectโs <code>dataValue</code> field if the intent is to associate the example with an example of its serialization, or if it is desirable to maintain it separately from the schema.
<ul>
<li>Use the Example Objectโs <code>value</code> field only if compatibility with OAS v3.1 or earlier is needed and the value can be โnaturally represented in JSON or YAMLโ without any changes (such as percent-encoding) between the validation-ready value and the serialized representation.</li>
</ul>
</li>
</ul>
<p>To show an example as it would be serialized in order to construct an HTTP/1.1 message:</p>
<ul>
<li>Use the Example Objectโs <code>serializedValue</code> if the serialization can be represented as a valid Unicode string, and there is no need to demonstrate the exact character encoding to be used.
<ul>
<li>Use the string form of <code>value</code> only if compatibility with OAS v3.1 or earlier is needed.</li>
</ul>
</li>
<li>Use the Example Objectโs <code>externalValue</code> for all other values, or if it is desirable to maintain the example separately from the OpenAPI document.</li>
</ul>
<p>The <code>serializedValue</code> and <code>externalValue</code> fields both <em class="rfc2119">MUST</em> show the serialized form of the data.
For Media Type Objects, this is a document of the appropriate media type, with any Encoding Object effects applied.
For Parameter and Header Objects using <code>schema</code> and <code>style</code> rather than a Media Type Object, see <a href="#style-examples">Style Examples</a> for what constitutes a serialized value.</p>
</section><section id="criteria-for-serializedexample"><div class="header-wrapper"><h5 id="x4-19-2-3-criteria-for-serializedexample"><bdi class="secno">4.19.2.3 </bdi>Criteria for <code>serializedExample</code></h5><a class="self-link" href="#criteria-for-serializedexample" aria-label="Permalink for Section 4.19.2.3"></a></div>
<p>A serialization can be represented as a valid Unicode string in <code>serializedValue</code> if any of the following are true of the serialization:</p>
<ul>
<li>It is for a media type that supports a <code>charset</code> parameter that indicates any Unicode encoding (UTF-8, UTF-16, etc.), or any valid subset of such an encoding, such as US-ASCII.</li>
<li>It is for a format (such as URIs or HTTP fields) or character-based media type that requires or defaults to a Unicode encoding, or any valid subset of such an encoding, such as US-ASCII, and this is not overridden by <code>charset</code>.</li>
<li>It is for a compound format where all parts meet at least one of the above criteria, e.g. a <code>multipart/mixed</code> media type with parts that are <code>application/json</code> (a media type that defaults to UTF-8) and <code>application/xml; charset=utf-8</code> (a media type with an explicit <code>charset</code> parameter).</li>
</ul>
<p>In all of these cases, the conversion from the character set of the OAD (presumed to be UTF-8 as the only interoperable character set for JSON, and therefore also for JSON-compatible YAML as noted in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9512" title="YAML Media Type">RFC9512</a></cite>] <a href="https://tools.ietf.org/html/rfc9512#section-3.4">Section 3.4</a>) first to Unicode code points and then to the actual serialization character set is well-defined.</p>
<p>For <code>externalValue</code>, if the character set is neither explicitly stated nor determined by the format or media type specification, implementations <em class="rfc2119">SHOULD</em> assume UTF-8.</p>
</section><section id="validating-examples"><div class="header-wrapper"><h5 id="x4-19-2-4-validating-examples"><bdi class="secno">4.19.2.4 </bdi>Validating Examples</h5><a class="self-link" href="#validating-examples" aria-label="Permalink for Section 4.19.2.4"></a></div>
<p>Tooling implementations <em class="rfc2119">MAY</em> choose to validate compatibility automatically, and reject the example value(s) if incompatible.
For examples that are in schema-ready data form, this is straightforward.</p>
<p>With serialized examples, some formats allow multiple possible valid representations of the same data, including in scenarios noted in <a href="#appendix-b-data-type-conversion">Appendix B</a>.
In some cases, parsing the serialized example and validating the resulting data can eliminate the ambiguity, but in a few cases parsing is also ambiguous.
Therefore, OAD authors are cautioned that validation of certain serialized examples is by necessity a best-effort feature.</p>
</section></section><section id="example-object-examples"><div class="header-wrapper"><h4 id="x4-19-3-example-object-examples"><bdi class="secno">4.19.3 </bdi>Example Object Examples</h4><a class="self-link" href="#example-object-examples" aria-label="Permalink for Section 4.19.3"></a></div>
<section id="json-examples"><div class="header-wrapper"><h5 id="x4-19-3-1-json-examples"><bdi class="secno">4.19.3.1 </bdi>JSON Examples</h5><a class="self-link" href="#json-examples" aria-label="Permalink for Section 4.19.3.1"></a></div>
<p>When writing in YAML, JSON syntax can be used for <code>dataValue</code> (as shown in the <code>noRating</code> example) but is not required.
While this example shows the behavior of both <code>dataValue</code> and <code>serializedValue</code> for JSON (in the 'withRating` example), in most cases only the data form is needed.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">content:</span>
  <span class="hljs-attr">application/json:</span>
    <span class="hljs-attr">schema:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">author</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">title</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">author:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">title:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">rating:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
          <span class="hljs-attr">minimum:</span> <span class="hljs-number">1</span>
          <span class="hljs-attr">maximum:</span> <span class="hljs-number">5</span>
          <span class="hljs-attr">multipleOf:</span> <span class="hljs-number">0.5</span>
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">noRating:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">A</span> <span class="hljs-string">not-yet-rated</span> <span class="hljs-string">work</span>
        <span class="hljs-attr">dataValue:</span>
          <span class="hljs-attr">author:</span> <span class="hljs-string">A.</span> <span class="hljs-string">Writer</span>
          <span class="hljs-attr">title:</span> <span class="hljs-string">The</span> <span class="hljs-string">Newest</span> <span class="hljs-string">Book</span>
      <span class="hljs-attr">withRating:</span>
        <span class="hljs-attr">summary:</span> <span class="hljs-string">A</span> <span class="hljs-string">work</span> <span class="hljs-string">with</span> <span class="hljs-string">an</span> <span class="hljs-string">average</span> <span class="hljs-string">rating</span> <span class="hljs-string">of</span> <span class="hljs-number">4.5</span> <span class="hljs-string">stars</span>
        <span class="hljs-attr">dataValue:</span>
          <span class="hljs-attr">author:</span> <span class="hljs-string">A.</span> <span class="hljs-string">Writer</span>
          <span class="hljs-attr">title:</span> <span class="hljs-string">An</span> <span class="hljs-string">Older</span> <span class="hljs-string">Book</span>
          <span class="hljs-attr">rating:</span> <span class="hljs-number">4.5</span>
        <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">|
          {
            "author": "A. Writer",
            "title": "An Older Book",
            "rating": 4.5
          }
</span></code></pre>
</section><section id="binary-examples"><div class="header-wrapper"><h5 id="x4-19-3-2-binary-examples"><bdi class="secno">4.19.3.2 </bdi>Binary Examples</h5><a class="self-link" href="#binary-examples" aria-label="Permalink for Section 4.19.3.2"></a></div>
<p>Fully binary data is shown using <code>externalValue</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">content:</span>
  <span class="hljs-attr">image/png:</span>
    <span class="hljs-attr">schema:</span> {}
    <span class="hljs-attr">examples:</span>
      <span class="hljs-attr">Red:</span>
        <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/2-by-2-red-pixels.png</span>
</code></pre>
</section><section id="boolean-query-parameter-examples"><div class="header-wrapper"><h5 id="x4-19-3-3-boolean-query-parameter-examples"><bdi class="secno">4.19.3.3 </bdi>Boolean Query Parameter Examples</h5><a class="self-link" href="#boolean-query-parameter-examples" aria-label="Permalink for Section 4.19.3.3"></a></div>
<p>Since there is no standard for serializing boolean values (as discussed in <a href="#appendix-b-data-type-conversion">Appendix B</a>), this example uses <code>dataValue</code> and <code>serializedValue</code> to show how booleans are serialized for this particular parameter:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">name:</span> <span class="hljs-string">flag</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
<span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">schema:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">boolean</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-attr">"true":</span>
    <span class="hljs-attr">dataValue:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">flag=true</span>
  <span class="hljs-attr">"false":</span>
    <span class="hljs-attr">dataValue:</span> <span class="hljs-literal">false</span>
    <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">flag=false</span>
</code></pre>
</section></section></section><section id="link-object"><div class="header-wrapper"><h3 id="x4-20-link-object"><bdi class="secno">4.20 </bdi>Link Object</h3><a class="self-link" href="#link-object" aria-label="Permalink for Section 4.20"></a></div>
<p>The Link Object represents a possible design-time link for a response.
The presence of a link does not guarantee the callerโs ability to successfully invoke it, rather it provides a known relationship and traversal mechanism between responses and other operations.</p>
<p>Unlike <em>dynamic</em> links (i.e. links provided <strong>in</strong> the response payload), the OAS linking mechanism does not require link information in the runtime response.</p>
<p>For computing links and providing instructions to execute them, a <a href="#runtime-expressions">runtime expression</a> is used for accessing values in an operation and using them as parameters while invoking the linked operation.</p>
<section id="fixed-fields-16"><div class="header-wrapper"><h4 id="x4-20-1-fixed-fields"><bdi class="secno">4.20.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-16" aria-label="Permalink for Section 4.20.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="link-operation-ref"></span>operationRef</td>
<td style="text-align:center"><code>string</code></td>
<td>A URI reference to an OAS operation. This field is mutually exclusive of the <code>operationId</code> field, and <em class="rfc2119">MUST</em> point to an <a href="#operation-object">Operation Object</a>. Relative <code>operationRef</code> values <em class="rfc2119">MAY</em> be used to locate an existing <a href="#operation-object">Operation Object</a> in the OpenAPI Description.</td>
</tr>
<tr>
<td><span id="link-operation-id"></span>operationId</td>
<td style="text-align:center"><code>string</code></td>
<td>The name of an <em>existing</em>, resolvable OAS operation, as defined with a unique <code>operationId</code>. This field is mutually exclusive of the <code>operationRef</code> field.</td>
</tr>
<tr>
<td><span id="link-parameters"></span>parameters</td>
<td style="text-align:center">Map[<code>string</code>, Any | <a href="#runtime-expressions">{expression}</a>]</td>
<td>A map representing parameters to pass to an operation as specified with <code>operationId</code> or identified via <code>operationRef</code>. The key is the parameter name to be used (optionally qualified with the parameter location, e.g. <code>path.id</code> for an <code>id</code> parameter in the path), whereas the value can be a constant or an expression to be evaluated and passed to the linked operation.</td>
</tr>
<tr>
<td><span id="link-request-body"></span>requestBody</td>
<td style="text-align:center">Any | <a href="#runtime-expressions">{expression}</a></td>
<td>A literal value or <a href="#runtime-expressions">{expression}</a> to use as a request body when calling the target operation.</td>
</tr>
<tr>
<td><span id="link-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description of the link. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="link-server"></span>server</td>
<td style="text-align:center"><a href="#server-object">Server Object</a></td>
<td>A server object to be used by the target operation.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
<p>A linked operation <em class="rfc2119">MUST</em> be identified using either an <code>operationRef</code> or <code>operationId</code>.
The identified or referenced operation <em class="rfc2119">MUST</em> be unique, and in the case of an <code>operationId</code>, it <em class="rfc2119">MUST</em> be resolved within the scope of the OpenAPI Description (OAD).
Because of the potential for name clashes, the <code>operationRef</code> syntax is preferred for multi-document OADs.
However, because use of an operation depends on its URL path template in the <a href="#paths-object">Paths Object</a>, operations from any <a href="#path-item-object">Path Item Object</a> that is referenced multiple times within the OAD cannot be resolved unambiguously.
In such ambiguous cases, the resulting behavior is implementation-defined and <em class="rfc2119">MAY</em> result in an error.</p>
<p>Note that it is not possible to provide a constant value to <code>parameters</code> that matches the syntax of a runtime expression.
It is possible to have ambiguous parameter names, e.g. <code>name: "id", in: "path"</code> and <code>name: "path.id", in: "query"</code>; this is <em class="rfc2119">NOT RECOMMENDED</em> and the behavior is implementation-defined, however implementations <em class="rfc2119">SHOULD</em> prefer the qualified interpretation (<code>path.id</code> as a path parameter), as the names can always be qualified to disambiguate them (e.g. using <code>query.path.id</code> for the query parameter).</p>
</section><section id="examples"><div class="header-wrapper"><h4 id="x4-20-2-examples"><bdi class="secno">4.20.2 </bdi>Examples</h4><a class="self-link" href="#examples" aria-label="Permalink for Section 4.20.2"></a></div>
<p>Computing a link from a request operation where the <code>$request.path.id</code> is used to pass a request parameter to the linked operation.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">paths:</span>
  <span class="hljs-string">/users/{id}:</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">id</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">path</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">identifier,</span> <span class="hljs-string">as</span> <span class="hljs-string">userId</span>
        <span class="hljs-attr">schema:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">being</span> <span class="hljs-string">returned</span>
          <span class="hljs-attr">content:</span>
            <span class="hljs-attr">application/json:</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
                <span class="hljs-attr">properties:</span>
                  <span class="hljs-attr">uuid:</span> <span class="hljs-comment"># the unique user id</span>
                    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
                    <span class="hljs-attr">format:</span> <span class="hljs-string">uuid</span>
          <span class="hljs-attr">links:</span>
            <span class="hljs-attr">address:</span>
              <span class="hljs-comment"># the target link operationId</span>
              <span class="hljs-attr">operationId:</span> <span class="hljs-string">getUserAddress</span>
              <span class="hljs-attr">parameters:</span>
                <span class="hljs-comment"># get the `id` field from the request path parameter named "id"</span>
                <span class="hljs-attr">userid:</span> <span class="hljs-string">$request.path.id</span>
  <span class="hljs-comment"># the path item of the linked operation</span>
  <span class="hljs-string">/users/{userid}/address:</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">userid</span>
        <span class="hljs-attr">in:</span> <span class="hljs-string">path</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">user</span> <span class="hljs-string">identifier,</span> <span class="hljs-string">as</span> <span class="hljs-string">userId</span>
        <span class="hljs-attr">schema:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-comment"># linked operation</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">operationId:</span> <span class="hljs-string">getUserAddress</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">user's</span> <span class="hljs-string">address</span>
</code></pre>
<p>When a runtime expression fails to evaluate, no parameter value is passed to the target operation.</p>
<p>Values from the response body can be used to drive a linked operation.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">links:</span>
  <span class="hljs-attr">address:</span>
    <span class="hljs-attr">operationId:</span> <span class="hljs-string">getUserAddressByUUID</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-comment"># get the `uuid` field from the `uuid` field in the response body</span>
      <span class="hljs-attr">userUuid:</span> <span class="hljs-string">$response.body#/uuid</span>
</code></pre>
<p>Clients follow all links at their discretion.
Neither permissions nor the capability to make a successful call to that link is guaranteed
solely by the existence of a relationship.</p>
<section id="operationref-examples"><div class="header-wrapper"><h5 id="x4-20-2-1-operationref-examples"><bdi class="secno">4.20.2.1 </bdi><code>operationRef</code> Examples</h5><a class="self-link" href="#operationref-examples" aria-label="Permalink for Section 4.20.2.1"></a></div>
<p>As the <code>operationId</code> is an optional field in an <a href="#operation-object">Operation Object</a>, references <em class="rfc2119">MAY</em> instead be made through a URI reference with <code>operationRef</code>.
Note that both of these examples reference operations that can be identified via the <a href="#paths-object">Paths Object</a> to ensure that the operationโs path template is unambiguous.</p>
<p>A relative URI reference <code>operationRef</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">links:</span>
  <span class="hljs-attr">UserRepositories:</span>
    <span class="hljs-comment"># returns array of '#/components/schemas/repository'</span>
    <span class="hljs-attr">operationRef:</span> <span class="hljs-string">'#/paths/~12.0~1repositories~1%7Busername%7D/get'</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-attr">username:</span> <span class="hljs-string">$response.body#/username</span>
</code></pre>
<p>A non-relative URI <code>operationRef</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">links:</span>
  <span class="hljs-attr">UserRepositories:</span>
    <span class="hljs-comment"># returns array of '#/components/schemas/repository'</span>
    <span class="hljs-attr">operationRef:</span> <span class="hljs-string">https://na2.gigantic-server.com/#/paths/~12.0~1repositories~1%7Busername%7D/get</span>
    <span class="hljs-attr">parameters:</span>
      <span class="hljs-attr">username:</span> <span class="hljs-string">$response.body#/username</span>
</code></pre>
<p>Note that in the use of <code>operationRef</code> the <em>escaped forward-slash</em> (<code>~1</code>) is necessary when
using JSON Pointer in URI fragments, and it is necessary to URL-encode <code>{</code> and <code>}</code> as <code>%7B</code> and <code>%7D</code>, respectively.
The unescaped, percent-decoded path template in the above examples would be <code>/2.0/repositories/{username}</code>.</p>
</section></section><section id="runtime-expressions"><div class="header-wrapper"><h4 id="x4-20-3-runtime-expressions"><bdi class="secno">4.20.3 </bdi>Runtime Expressions</h4><a class="self-link" href="#runtime-expressions" aria-label="Permalink for Section 4.20.3"></a></div>
<p>Runtime expressions allow defining values based on information that will only be available within the HTTP message in an actual API call.
This mechanism is used by <a href="#link-object">Link Objects</a> and <a href="#callback-object">Callback Objects</a>.</p>
<p>The runtime expression is defined by the following [<cite><a class="bibref" data-link-type="biblio" href="#bib-abnf" title="Augmented BNF for Syntax Specifications: ABNF">ABNF</a></cite>] syntax</p>
<pre class="nohighlight" tabindex="0"><code>    expression <span class="hljs-operator">=</span> <span class="hljs-string">"$url"</span> / <span class="hljs-string">"$method"</span> / <span class="hljs-string">"$statusCode"</span> / <span class="hljs-string">"$request."</span> source / <span class="hljs-string">"$response."</span> source
    source     <span class="hljs-operator">=</span> header-reference / query-reference / path-reference / body-reference
    header-reference <span class="hljs-operator">=</span> <span class="hljs-string">"header."</span> token
    query-reference  <span class="hljs-operator">=</span> <span class="hljs-string">"query."</span> name
    path-reference   <span class="hljs-operator">=</span> <span class="hljs-string">"path."</span> name
    body-reference   <span class="hljs-operator">=</span> <span class="hljs-string">"body"</span> [<span class="hljs-string">"#"</span> json-pointer ]
    json-pointer    <span class="hljs-operator">=</span> *( <span class="hljs-string">"/"</span> reference-token )
    reference-token <span class="hljs-operator">=</span> *( unescaped / escaped )
    unescaped       <span class="hljs-operator">=</span> <span class="hljs-symbol">%x00-2E</span> / <span class="hljs-symbol">%x30-7D</span> / <span class="hljs-symbol">%x7F-10FFFF</span>
                    <span class="hljs-comment">; %x2F ('/') and %x7E ('~') are excluded from 'unescaped'</span>
    escaped         <span class="hljs-operator">=</span> <span class="hljs-string">"~"</span> ( <span class="hljs-string">"0"</span> / <span class="hljs-string">"1"</span> )
                    <span class="hljs-comment">; representing '~' and '/', respectively</span>
    name <span class="hljs-operator">=</span> *char
    token <span class="hljs-operator">=</span> <span class="hljs-number">1</span>*tchar
    tchar <span class="hljs-operator">=</span> <span class="hljs-string">"!"</span> / <span class="hljs-string">"#"</span> / <span class="hljs-string">"$"</span> / <span class="hljs-string">"%"</span> / <span class="hljs-string">"&amp;"</span> / <span class="hljs-string">"'"</span> / <span class="hljs-string">"*"</span> / <span class="hljs-string">"+"</span> / <span class="hljs-string">"-"</span> / <span class="hljs-string">"."</span>
          / <span class="hljs-string">"^"</span> / <span class="hljs-string">"_"</span> / <span class="hljs-string">"`"</span> / <span class="hljs-string">"|"</span> / <span class="hljs-string">"~"</span> / <span class="hljs-keyword">DIGIT</span> / <span class="hljs-keyword">ALPHA</span>
</code></pre>
<p>Here, <code>json-pointer</code> is taken from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>], <code>char</code> from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc8259#section-7">Section 7</a> and <code>token</code> from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-5.6.2">Section 5.6.2</a>.</p>
<p>The <code>name</code> identifier is case-sensitive, whereas <code>token</code> is not.</p>
<p>The table below provides examples of runtime expressions and examples of their use in a value:</p>
<section id="example-expressions"><div class="header-wrapper"><h5 id="x4-20-3-1-example-expressions"><bdi class="secno">4.20.3.1 </bdi>Example Expressions</h5><a class="self-link" href="#example-expressions" aria-label="Permalink for Section 4.20.3.1"></a></div>
<table>
<thead>
<tr>
<th>Source Location</th>
<th style="text-align:left">example expression</th>
<th style="text-align:left">notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP Method</td>
<td style="text-align:left"><code>$method</code></td>
<td style="text-align:left">The allowable values for the <code>$method</code> will be those for the HTTP operation.</td>
</tr>
<tr>
<td>Requested media type</td>
<td style="text-align:left"><code>$request.header.accept</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>Request parameter</td>
<td style="text-align:left"><code>$request.path.id</code></td>
<td style="text-align:left">Request parameters <em class="rfc2119">MUST</em> be declared in the <code>parameters</code> section of the parent operation or they cannot be evaluated. This includes request headers.</td>
</tr>
<tr>
<td>Request body property</td>
<td style="text-align:left"><code>$request.body#/user/uuid</code></td>
<td style="text-align:left">In operations which accept payloads, references may be made to portions of the <code>requestBody</code> or the entire body.</td>
</tr>
<tr>
<td>Request URL</td>
<td style="text-align:left"><code>$url</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>Response value</td>
<td style="text-align:left"><code>$response.body#/status</code></td>
<td style="text-align:left">In operations which return payloads, references may be made to portions of the response body or the entire body.</td>
</tr>
<tr>
<td>Response header</td>
<td style="text-align:left"><code>$response.header.Server</code></td>
<td style="text-align:left">Single header values only are available</td>
</tr>
</tbody>
</table>
<p>Runtime expressions preserve the type of the referenced value.
Expressions can be embedded into string values by surrounding the expression with <code>{}</code> curly braces.</p>
</section></section></section><section id="header-object"><div class="header-wrapper"><h3 id="x4-21-header-object"><bdi class="secno">4.21 </bdi>Header Object</h3><a class="self-link" href="#header-object" aria-label="Permalink for Section 4.21"></a></div>
<p>Describes a single header for <a href="#response-headers">HTTP responses</a> and for <a href="#encoding-headers">individual parts in <code>multipart</code> representations</a>; see the relevant <a href="#response-object">Response Object</a> and <a href="#encoding-object">Encoding Object</a> documentation for restrictions on which headers can be described.</p>
<p>The Header Object follows the structure of the <a href="#parameter-object">Parameter Object</a>, including determining its serialization strategy based on whether <code>schema</code> or <code>content</code> is present, with the following changes:</p>
<ol>
<li><code>name</code> <em class="rfc2119">MUST NOT</em> be specified, it is given in the corresponding <code>headers</code> map.</li>
<li><code>in</code> <em class="rfc2119">MUST NOT</em> be specified, it is implicitly in <code>header</code>.</li>
<li>All traits that are affected by the location <em class="rfc2119">MUST</em> be applicable to a location of <code>header</code> (for example, <a href="#parameter-style"><code>style</code></a>). This means that <code>allowEmptyValue</code> <em class="rfc2119">MUST NOT</em> be used, and <code>style</code>, if used, <em class="rfc2119">MUST</em> be limited to <code>"simple"</code>.</li>
</ol>
<section id="fixed-fields-17"><div class="header-wrapper"><h4 id="x4-21-1-fixed-fields"><bdi class="secno">4.21.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-17" aria-label="Permalink for Section 4.21.1"></a></div>
<section id="common-fixed-fields-1"><div class="header-wrapper"><h5 id="x4-21-1-1-common-fixed-fields"><bdi class="secno">4.21.1.1 </bdi>Common Fixed Fields</h5><a class="self-link" href="#common-fixed-fields-1" aria-label="Permalink for Section 4.21.1.1"></a></div>
<p>These fields <em class="rfc2119">MAY</em> be used with either <code>content</code> or <code>schema</code>.</p>
<p>The <code>example</code> and <code>examples</code> fields are mutually exclusive; see <a href="#working-with-examples">Working with Examples</a> for guidance on validation requirements.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="header-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A brief description of the header. This could contain examples of use. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="header-required"></span>required</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Determines whether this header is mandatory. The default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="header-deprecated"></span> deprecated</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Specifies that the header is deprecated and <em class="rfc2119">SHOULD</em> be transitioned out of usage. Default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="header-example"></span>example</td>
<td style="text-align:center">Any</td>
<td>Example of the headerโs potential value; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
<tr>
<td><span id="header-examples"></span>examples</td>
<td style="text-align:center">Map[ <code>string</code>, <a href="#example-object">Example Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>Examples of the headerโs potential value; see <a href="#working-with-examples">Working With Examples</a>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="fixed-fields-for-use-with-schema-0"><div class="header-wrapper"><h5 id="x4-21-1-2-fixed-fields-for-use-with-schema"><bdi class="secno">4.21.1.2 </bdi>Fixed Fields for use with <code>schema</code></h5><a class="self-link" href="#fixed-fields-for-use-with-schema-0" aria-label="Permalink for Section 4.21.1.2"></a></div>
<p>For simpler scenarios, a <a href="#header-schema"><code>schema</code></a> and <a href="#header-style"><code>style</code></a> can describe the structure and syntax of the header.</p>
<p>When serializing headers with <code>schema</code>, URI percent-encoding <em class="rfc2119">MUST NOT</em> be applied; if using an RFC6570 implementation that automatically applies it, it <em class="rfc2119">MUST</em> be removed before use.
Implementations <em class="rfc2119">MUST</em> pass header values through unchanged rather than attempting to automatically quote header values, as the quoting rules vary too widely among different headers; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for guidance on quoting and escaping.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="header-style"></span>style</td>
<td style="text-align:center"><code>string</code></td>
<td>Describes how the header value will be serialized. The default (and only legal value for headers) is <code>"simple"</code>.</td>
</tr>
<tr>
<td><span id="header-explode"></span>explode</td>
<td style="text-align:center"><code>boolean</code></td>
<td>When this is true, header values of type <code>array</code> or <code>object</code> generate a single header whose value is a comma-separated list of the array items or key-value pairs of the map, see <a href="#style-examples">Style Examples</a>. For other data types this field has no effect. The default value is <code>false</code>.</td>
</tr>
<tr>
<td><span id="header-schema"></span>schema</td>
<td style="text-align:center"><a href="#schema-object">Schema Object</a></td>
<td>The schema defining the type used for the header.</td>
</tr>
</tbody>
</table>
<p>See also <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C: Using RFC6570-Based Serialization</a> for additional guidance.</p>
</section><section id="fixed-fields-for-use-with-content-0"><div class="header-wrapper"><h5 id="x4-21-1-3-fixed-fields-for-use-with-content"><bdi class="secno">4.21.1.3 </bdi>Fixed Fields for use with <code>content</code></h5><a class="self-link" href="#fixed-fields-for-use-with-content-0" aria-label="Permalink for Section 4.21.1.3"></a></div>
<p>For more complex scenarios, the <a href="#header-content"><code>content</code></a> field can define the media type and schema of the header, as well as give examples of its use.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="header-content"></span>content</td>
<td style="text-align:center">Map[<code>string</code>, <a href="#media-type-object">Media Type Object</a> | <a href="#reference-object">Reference Object</a>]</td>
<td>A map containing the representations for the header. The key is the media type and the value describes it. The map <em class="rfc2119">MUST</em> only contain one entry.</td>
</tr>
</tbody>
</table>
</section></section><section id="modeling-link-headers"><div class="header-wrapper"><h4 id="x4-21-2-modeling-link-headers"><bdi class="secno">4.21.2 </bdi>Modeling Link Headers</h4><a class="self-link" href="#modeling-link-headers" aria-label="Permalink for Section 4.21.2"></a></div>
<p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9264" title="Linkset: Media Types and a Link Relation Type for Link Sets">RFC9264</a></cite>] defines the <code>application/linkset</code> and <code>application/linkset+json</code> media types.
The former is exactly the format of HTTP link header values except allowing additional whitespace for readability, while the latter is an equivalent JSON representation of such headers.</p>
<p>To use either of these media types, the <code>schema</code> in the <a href="#media-type-object">Media Type Object</a> <em class="rfc2119">MUST</em> describe the links as they would be structured in the <code>application/linkset+json</code> format.
If the Media Type Objectโs parent key is <code>application/linkset+json</code>, then the serialization is trivial, however this format cannot be used in the HTTP <code>Link</code> header.
If the Media Type Objectโs parent key is <code>application/linkset</code>, then the serialization <em class="rfc2119">MUST</em> be the equivalent representation of the <code>schema</code>-modeled links in the <code>application/linkset</code> format.
If the <code>application/linkset</code> Media Type Object is used in the <code>content</code> field of a Header Object (or a Parameter Object with <code>in: "header"</code>), the serialization <em class="rfc2119">MUST</em> be made compatible with the HTTP field syntax as described by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9264" title="Linkset: Media Types and a Link Relation Type for Link Sets">RFC9264</a></cite>] <a href="https://tools.ietf.org/html/rfc9264#name-http-link-document-format-a">Section 4.1</a>.</p>
<p>The following example shows how the same data model can be used for a collection pagination linkset either in JSON format as message content, or in the HTTP <code>Link</code> header:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">SimpleLinkContext:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">items:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">href</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">href:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">format:</span> <span class="hljs-string">uri-reference</span>
    <span class="hljs-attr">CollectionLinks:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">linkset</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">linkset:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
          <span class="hljs-attr">items:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
            <span class="hljs-attr">required:</span> [<span class="hljs-string">first</span>, <span class="hljs-string">prev</span>, <span class="hljs-string">next</span>, <span class="hljs-string">last</span>]
            <span class="hljs-attr">properties:</span>
              <span class="hljs-attr">anchor:</span>
                <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
                <span class="hljs-attr">format:</span> <span class="hljs-string">uri</span>
            <span class="hljs-attr">additionalProperties:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/SimpleLinkContext'</span>
  <span class="hljs-attr">responses:</span>
    <span class="hljs-attr">CollectionWithLinks:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">headers:</span>
        <span class="hljs-attr">Link:</span>
          <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">content:</span>
            <span class="hljs-attr">application/linkset:</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/CollectionLinks'</span>
    <span class="hljs-attr">StandaloneJsonLinkset:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-string">application/linkset+json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/mediaTypes/CollectionLinks'</span>
</code></pre>
</section><section id="representing-the-set-cookie-header"><div class="header-wrapper"><h4 id="x4-21-3-representing-the-set-cookie-header"><bdi class="secno">4.21.3 </bdi>Representing the <code>Set-Cookie</code> Header</h4><a class="self-link" href="#representing-the-set-cookie-header" aria-label="Permalink for Section 4.21.3"></a></div>
<p>The <code>Set-Cookie</code> header is noted in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://tools.ietf.org/html/rfc9110#section-5.3">Section 5.3</a> as an exception to the normal rules of headers with multiple values.</p>
<p>For most headers using the general syntax defined in RFC9110, the multiple-line and comma-separated single-line forms are interchangeable, meaning that this:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>compress;q=0.5
<span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip;q=1.0
</code></pre>
<p>is interchangeable with the one-line form that works well with the OASโs <code>style: "simple"</code> option:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>compress;q=0.5,gzip;q=1.0
</code></pre>
<p>The OAS models such multi-value headers using the one-line form as it matches the behavior of <code>style: "simple"</code>, and works well when using <code>content</code> as the values are completely separate from the header name, but it does not matter which form is used in an actual HTTP message.</p>
<p>As also noted in the RFC, <code>Set-Cookie</code> is an exception as it allows unquoted, non-escaped commas in its values, and can only use the one-value-per-line form.
For HTTP messages, this is purely a serialization concern, and no more of a problem than a message that uses the multi-line form of any other header.</p>
<p>However, because examples and values modeled with <code>content</code> do not incorporate the header name, for these fields <code>Set-Cookie</code> <em class="rfc2119">MUST</em> be handled by placing each value on a separate line, without the header name or the <code>:</code> delimiter.</p>
<p>Note also that any URI percent-encoding, base64 encoding, or other escaping <em class="rfc2119">MUST</em> be performed prior to supplying the data to OAS tooling; see <a href="#appendix-d-serializing-headers-and-cookies">Appendix D</a> for details.</p>
<p>The following example shows two different ways to describe <code>Set-Cookie</code> headers that require cookies named <code>"lang"</code> and <code>"foo"</code>, as well as a <code>"urlSafeData"</code> cookie that is expected to be percent-encoded.  The first uses <code>content</code> in order to show exactly how such examples are formatted, but also notes the limitations of schema constraints with multi-line text.  The second shows the use of <code>style: "simple"</code>, which produces the same serialized example text (with each line corresponding to one <code>Set-Cookie:</code> line in the HTTP response), but allows schema constraints on each cookie; note that the percent-encoding is already applied in the <code>dataValue</code> field of the example:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">headers:</span>
    <span class="hljs-attr">SetCookieWithContent:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">text/plain:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-comment"># Due to lack of support for multiline regular expressions</span>
            <span class="hljs-comment"># in the `pattern` keyword, not much validation can be done.</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">examples:</span>
        <span class="hljs-attr">WithExpires:</span>
          <span class="hljs-comment"># This demonstrates that the text is required to be provided</span>
          <span class="hljs-comment"># in the final format, and is not changed by serialization.</span>
          <span class="hljs-comment"># In practice, it is not necessary to show both value fields.</span>
          <span class="hljs-comment"># Note that only the comma (%2C) would need to be percent-encoded</span>
          <span class="hljs-comment"># if percent-encoding were only being done to make the value</span>
          <span class="hljs-comment"># a valid cookie, as space (%20) and the exclamation point (%21)</span>
          <span class="hljs-comment"># are allowed in cookies, but not in URLs.  See the cookie</span>
          <span class="hljs-comment"># input parameter examples for an example of encoding only</span>
          <span class="hljs-comment"># what is needed for the cookie syntax.</span>
          <span class="hljs-attr">dataValue:</span> <span class="hljs-string">|
            lang=en-US; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            foo=bar; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            urlSafeData: Hello%2C%20world%21
</span>          <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">|
            lang=en-US; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            foo=bar; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            urlSafeData: Hello%2C%20world%21
</span>    <span class="hljs-attr">SetCookieWithSchemaAndStyle:</span>
      <span class="hljs-attr">schema:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
        <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">lang</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">foo</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">urlSafeData</span>
        <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">urlSafeData:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">pattern:</span> <span class="hljs-string">^[-_.%a-zA-Z0-9]+(;|$)</span>
        <span class="hljs-attr">additionalProperties:</span>
          <span class="hljs-string">$comment:</span> <span class="hljs-string">Require</span> <span class="hljs-string">an</span> <span class="hljs-string">Expires</span> <span class="hljs-string">parameter</span>
          <span class="hljs-attr">pattern:</span> <span class="hljs-string">"; *Expires="</span>
      <span class="hljs-attr">style:</span> <span class="hljs-string">simple</span>
      <span class="hljs-attr">explode:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">examples:</span>
        <span class="hljs-attr">SetCookies:</span>
          <span class="hljs-attr">dataValue:</span> {
            <span class="hljs-attr">"lang":</span> <span class="hljs-string">"en-US; Expires=Wed, 09 Jun 2021 10:18:14 GMT"</span>
            <span class="hljs-attr">"foo":</span> <span class="hljs-string">"bar; Expires=Wed, 09 Jun 2021 10:18:14 GMT"</span>
            <span class="hljs-attr">"urlSafeData":</span> <span class="hljs-string">"Hello%2C%20world%21"</span>
          }
          <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">|
            lang=en-US; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            foo=bar; Expires=Wed, 09 Jun 2021 10:18:14 GMT
            urlSafeData: Hello%2C%20world%21
</span></code></pre>
<p>In an HTTP message, the serialized example would look like:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>lang=en-US; Expires=Wed, 09 Jun 2021 10:18:14 GM
<span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>foo=bar; Expires=Wed, 09 Jun 2021 10:18:14 GMT
<span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>urlSafeData=Hello%2C%20world%21
</code></pre>
</section><section id="header-object-example"><div class="header-wrapper"><h4 id="x4-21-4-header-object-example"><bdi class="secno">4.21.4 </bdi>Header Object Example</h4><a class="self-link" href="#header-object-example" aria-label="Permalink for Section 4.21.4"></a></div>
<p>A simple header of type <code>integer</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">X-Rate-Limit-Limit:</span>
  <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">number</span> <span class="hljs-string">of</span> <span class="hljs-string">allowed</span> <span class="hljs-string">requests</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">current</span> <span class="hljs-string">period</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
</code></pre>
<p>Requiring that a strong <code>ETag</code> header (with a value starting with <code>"</code> rather than <code>W/</code>) is present.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">ETag:</span>
  <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-comment"># Note that quotation marks are part of the</span>
    <span class="hljs-comment"># ETag value, unlike many other headers that</span>
    <span class="hljs-comment"># use a quoted string purely for managing</span>
    <span class="hljs-comment"># reserved characters.</span>
    <span class="hljs-attr">pattern:</span> <span class="hljs-string">^"</span>
  <span class="hljs-attr">example:</span> <span class="hljs-string">'"xyzzy"'</span>
</code></pre>
</section></section><section id="tag-object"><div class="header-wrapper"><h3 id="x4-22-tag-object"><bdi class="secno">4.22 </bdi>Tag Object</h3><a class="self-link" href="#tag-object" aria-label="Permalink for Section 4.22"></a></div>
<p>Adds metadata to a single tag that is used by the <a href="#operation-object">Operation Object</a>.
It is not mandatory to have a Tag Object per tag defined in the Operation Object instances.</p>
<section id="fixed-fields-18"><div class="header-wrapper"><h4 id="x4-22-1-fixed-fields"><bdi class="secno">4.22.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-18" aria-label="Permalink for Section 4.22.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="tag-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the tag. Use this value in the <code>tags</code> array of an Operation.</td>
</tr>
<tr>
<td><span id="tag-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary of the tag, used for display purposes.</td>
</tr>
<tr>
<td><span id="tag-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description for the tag. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="tag-external-docs"></span>externalDocs</td>
<td style="text-align:center"><a href="#external-documentation-object">External Documentation Object</a></td>
<td>Additional external documentation for this tag.</td>
</tr>
<tr>
<td><span id="tag-parent"></span>parent</td>
<td style="text-align:center"><code>string</code></td>
<td>The <code>name</code> of a tag that this tag is nested under. The named tag <em class="rfc2119">MUST</em> exist in the API description, and circular references between parent and child tags <em class="rfc2119">MUST NOT</em> be used.</td>
</tr>
<tr>
<td><span id="tag-kind"></span>kind</td>
<td style="text-align:center"><code>string</code></td>
<td>A machine-readable string to categorize what sort of tag it is. Any string value can be used; common uses are <code>nav</code> for Navigation, <code>badge</code> for visible badges, <code>audience</code> for APIs used by different groups. A <a href="https://spec.openapis.org/registry/tag-kind/">registry of the most commonly used values</a> is available.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="tag-object-example"><div class="header-wrapper"><h4 id="x4-22-2-tag-object-example"><bdi class="secno">4.22.2 </bdi>Tag Object Example</h4><a class="self-link" href="#tag-object-example" aria-label="Permalink for Section 4.22.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">tags:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">account-updates</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">Account</span> <span class="hljs-string">Updates</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Account</span> <span class="hljs-string">update</span> <span class="hljs-string">operations</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">nav</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">partner</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">Partner</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Operations</span> <span class="hljs-string">available</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">partners</span> <span class="hljs-string">network</span>
    <span class="hljs-attr">parent:</span> <span class="hljs-string">external</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">audience</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">external</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">External</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Operations</span> <span class="hljs-string">available</span> <span class="hljs-string">to</span> <span class="hljs-string">external</span> <span class="hljs-string">consumers</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">audience</span>
</code></pre>
</section></section><section id="reference-object"><div class="header-wrapper"><h3 id="x4-23-reference-object"><bdi class="secno">4.23 </bdi>Reference Object</h3><a class="self-link" href="#reference-object" aria-label="Permalink for Section 4.23"></a></div>
<p>A simple object to allow referencing other components in the OpenAPI Description, internally and externally.</p>
<p>The <code>$ref</code> string value contains a URI [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>], which identifies the value being referenced.</p>
<p>See the rules for resolving <a href="#relative-references-in-api-description-uris">Relative References</a>.</p>
<section id="fixed-fields-19"><div class="header-wrapper"><h4 id="x4-23-1-fixed-fields"><bdi class="secno">4.23.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-19" aria-label="Permalink for Section 4.23.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="reference-ref"></span>$ref</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The reference identifier. This <em class="rfc2119">MUST</em> be in the form of a URI.</td>
</tr>
<tr>
<td><span id="reference-summary"></span>summary</td>
<td style="text-align:center"><code>string</code></td>
<td>A short summary which by default <em class="rfc2119">SHOULD</em> override that of the referenced component. If the referenced object-type does not allow a <code>summary</code> field, then this field has no effect.</td>
</tr>
<tr>
<td><span id="reference-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>A description which by default <em class="rfc2119">SHOULD</em> override that of the referenced component. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation. If the referenced object-type does not allow a <code>description</code> field, then this field has no effect.</td>
</tr>
</tbody>
</table>
<p>This object cannot be extended with additional properties, and any properties added <em class="rfc2119">SHALL</em> be ignored.</p>
<p>Note that this restriction on additional properties is a difference between Reference Objects and <a href="#schema-object">Schema Objects</a> that contain a <code>$ref</code> keyword.</p>
</section><section id="reference-object-example"><div class="header-wrapper"><h4 id="x4-23-2-reference-object-example"><bdi class="secno">4.23.2 </bdi>Reference Object Example</h4><a class="self-link" href="#reference-object-example" aria-label="Permalink for Section 4.23.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
</code></pre>
</section><section id="relative-schema-document-example"><div class="header-wrapper"><h4 id="x4-23-3-relative-schema-document-example"><bdi class="secno">4.23.3 </bdi>Relative Schema Document Example</h4><a class="self-link" href="#relative-schema-document-example" aria-label="Permalink for Section 4.23.3"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-string">$ref:</span> <span class="hljs-string">Pet.yaml</span>
</code></pre>
</section><section id="relative-documents-with-embedded-schema-example"><div class="header-wrapper"><h4 id="x4-23-4-relative-documents-with-embedded-schema-example"><bdi class="secno">4.23.4 </bdi>Relative Documents with Embedded Schema Example</h4><a class="self-link" href="#relative-documents-with-embedded-schema-example" aria-label="Permalink for Section 4.23.4"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-string">$ref:</span> <span class="hljs-string">definitions.yaml#/Pet</span>
</code></pre>
</section></section><section id="schema-object"><div class="header-wrapper"><h3 id="x4-24-schema-object"><bdi class="secno">4.24 </bdi>Schema Object</h3><a class="self-link" href="#schema-object" aria-label="Permalink for Section 4.24"></a></div>
<p>The Schema Object allows the definition of input and output data types.
These types can be objects, but also primitives and arrays. This object is a superset of the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html">JSON Schema Specification Draft 2020-12</a>. The empty schema (which allows any instance to validate) <em class="rfc2119">MAY</em> be represented by the boolean value <code>true</code> and a schema which allows no instance to validate <em class="rfc2119">MAY</em> be represented by the boolean value <code>false</code>.</p>
<p>For more information about the keywords, see <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html">JSON Schema Core</a> and <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html">JSON Schema Validation</a>.</p>
<p>Unless stated otherwise, the keyword definitions follow those of JSON Schema and do not add any additional semantics; this includes keywords such as <code>$schema</code>, <code>$id</code>, <code>$ref</code>, and <code>$dynamicRef</code> being URIs rather than URLs.
Where JSON Schema indicates that behavior is defined by the application (e.g. for annotations), OAS also defers the definition of semantics to the application consuming the OpenAPI document.</p>
<section id="json-schema-keywords"><div class="header-wrapper"><h4 id="x4-24-1-json-schema-keywords"><bdi class="secno">4.24.1 </bdi>JSON Schema Keywords</h4><a class="self-link" href="#json-schema-keywords" aria-label="Permalink for Section 4.24.1"></a></div>
<p>The OpenAPI Schema Object <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.3.3">dialect</a> is defined as requiring the <a href="#base-vocabulary">OAS base vocabulary</a>, in addition to the vocabularies as specified in the JSON Schema Specification Draft 2020-12 <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-8">general purpose meta-schema</a>.</p>
<p>The OpenAPI Schema Object dialect for this version of the specification is identified by the URI <code>https://spec.openapis.org/oas/3.1/dialect/base</code> (the <span id="dialect-schema-id"></span>โOAS dialect schema idโ).</p>
<p>The following keywords are taken from the JSON Schema specification but their definitions have been extended by the OAS:</p>
<ul>
<li>description - [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</li>
<li>format - See <a href="#data-type-format">Data Type Formats</a> for further details. While relying on JSON Schemaโs defined formats, the OAS offers a few additional predefined formats.</li>
</ul>
<p>In addition to the JSON Schema keywords comprising the OAS dialect, the Schema Object supports keywords from any other vocabularies, or entirely arbitrary properties.</p>
<p>JSON Schema implementations <em class="rfc2119">MAY</em> choose to treat keywords defined by the OpenAPI Specificationโs base vocabulary as <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.3.1">unknown keywords</a>, due to its inclusion in the OAS dialect with a <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-8.1.2"><code>$vocabulary</code></a> value of <code>false</code>.
<span id="base-vocabulary"></span>The OAS base vocabulary is comprised of the following keywords:</p>
</section><section id="fixed-fields-20"><div class="header-wrapper"><h4 id="x4-24-2-fixed-fields"><bdi class="secno">4.24.2 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-20" aria-label="Permalink for Section 4.24.2"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="schema-discriminator"></span>discriminator</td>
<td style="text-align:center"><a href="#discriminator-object">Discriminator Object</a></td>
<td>The discriminator provides a โhintโ for which of a set of schemas a payload is expected to satisfy. See <a href="#composition-and-inheritance-polymorphism">Composition and Inheritance</a> for more details.</td>
</tr>
<tr>
<td><span id="schema-xml"></span>xml</td>
<td style="text-align:center"><a href="#xml-object">XML Object</a></td>
<td>Adds additional metadata to describe the XML representation of this schema.</td>
</tr>
<tr>
<td><span id="schema-external-docs"></span>externalDocs</td>
<td style="text-align:center"><a href="#external-documentation-object">External Documentation Object</a></td>
<td>Additional external documentation for this schema.</td>
</tr>
<tr>
<td><span id="schema-example"></span>example</td>
<td style="text-align:center">Any</td>
<td>A free-form field to include an example of an instance for this schema. To represent examples that cannot be naturally represented in JSON or YAML, a string value can be used to contain the example with escaping where necessary.<br><br><strong>Deprecated:</strong> The <code>example</code> field has been deprecated in favor of the JSON Schema <code>examples</code> keyword. Use of <code>example</code> is discouraged, and later versions of this specification may remove it.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>, though as noted, additional properties <em class="rfc2119">MAY</em> omit the <code>x-</code> prefix within this object.</p>
</section><section id="data-types"><div class="header-wrapper"><h4 id="x4-24-3-data-types"><bdi class="secno">4.24.3 </bdi>Data Types</h4><a class="self-link" href="#data-types" aria-label="Permalink for Section 4.24.3"></a></div>
<p>Data types in the OAS are based on the types defined by the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-6.1.1">JSON Schema Validation Specification Draft 2020-12</a>:
โnullโ, โbooleanโ, โobjectโ, โarrayโ, โnumberโ, โstringโ, or โintegerโ.
Models are defined using the <a href="#schema-object">Schema Object</a>, which is a superset of the JSON Schema Specification Draft 2020-12.</p>
<p>JSON Schema keywords and <code>format</code> values operate on JSON โinstancesโ which may be one of the six JSON data types, โnullโ, โbooleanโ, โobjectโ, โarrayโ, โnumberโ, or โstringโ, with certain keywords and formats only applying to a specific type. For example, the <code>pattern</code> keyword and the <code>date-time</code> format only apply to strings, and treat any instance of the other five types as <em>automatically valid.</em> This means JSON Schema keywords and formats do <strong>NOT</strong> implicitly require the expected type. Use the <code>type</code> keyword to explicitly constrain the type.</p>
<p>Note that the <code>type</code> keyword allows <code>"integer"</code> as a value for convenience, but keyword and format applicability does not recognize integers as being of a distinct JSON type from other numbers because <cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a></cite> itself does not make that distinction. Since there is no distinct JSON integer type, JSON Schema defines integers mathematically. This means that both <code>1</code> and <code>1.0</code> are <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.2.2">equivalent</a>, and are both considered to be integers.</p>
<section id="data-type-format"><div class="header-wrapper"><h5 id="x4-24-3-1-data-type-format"><bdi class="secno">4.24.3.1 </bdi>Data Type Format</h5><a class="self-link" href="#data-type-format" aria-label="Permalink for Section 4.24.3.1"></a></div>
<p>As defined by the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-7.3">JSON Schema Validation specification</a>, data types can have an optional modifier keyword: <code>format</code>. As described in that specification, <code>format</code> is treated as a non-validating annotation by default; the ability to validate <code>format</code> varies across implementations.</p>
<p>The OpenAPI Initiative also hosts a <a href="https://spec.openapis.org/registry/format/">Format Registry</a> for formats defined by OAS users and other specifications. Support for any registered format is strictly <em class="rfc2119">OPTIONAL</em>, and support for one registered format does not imply support for any others.</p>
<p>Types that are not accompanied by a <code>format</code> keyword follow the type definition in the JSON Schema. Tools that do not recognize a specific <code>format</code> <em class="rfc2119">MAY</em> default back to the <code>type</code> alone, as if the <code>format</code> is not specified.
For the purpose of <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-7.1">JSON Schema validation</a>, each format should specify the set of JSON data types for which it applies. In this registry, these types are shown in the โJSON Data Typeโ column.</p>
<p>The formats defined by the OAS are:</p>
<table>
<thead>
<tr>
<th><code>format</code></th>
<th>JSON Data Type</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int32</code></td>
<td>number</td>
<td>signed 32 bits</td>
</tr>
<tr>
<td><code>int64</code></td>
<td>number</td>
<td>signed 64 bits (a.k.a long)</td>
</tr>
<tr>
<td><code>float</code></td>
<td>number</td>
<td></td>
</tr>
<tr>
<td><code>double</code></td>
<td>number</td>
<td></td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>A hint to obscure the value.</td>
</tr>
</tbody>
</table>
<p>As noted under <a href="#data-types">Data Type</a>, both <code>type: number</code> and <code>type: integer</code> are considered to be numbers in the data model.</p>
</section></section><section id="parsing-and-serializing"><div class="header-wrapper"><h4 id="x4-24-4-parsing-and-serializing"><bdi class="secno">4.24.4 </bdi>Parsing and Serializing</h4><a class="self-link" href="#parsing-and-serializing" aria-label="Permalink for Section 4.24.4"></a></div>
<p>API data has several forms:</p>
<ol>
<li>The serialized form, which is either a document of a particular media type, an HTTP header value, or part of a URI.</li>
<li>The data form, intended for use with a <a href="#schema-object">Schema Object</a>.</li>
<li>The application form, which incorporates any additional information conveyed by JSON Schema keywords such as <code>format</code> and <code>contentType</code>, and possibly additional information such as class hierarchies that are beyond the scope of this specification, although they <em class="rfc2119">MAY</em> be based on specification elements such as the <a href="#discriminator-object">Discriminator Object</a> or guidance regarding <a href="#data-modeling-techniques">Data Modeling Techniques</a>.</li>
</ol>
<section id="json-data"><div class="header-wrapper"><h5 id="x4-24-4-1-json-data"><bdi class="secno">4.24.4.1 </bdi>JSON Data</h5><a class="self-link" href="#json-data" aria-label="Permalink for Section 4.24.4.1"></a></div>
<p>JSON-serialized data is nearly equivalent to the data form because the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.2.1">JSON Schema data model</a> is nearly equivalent to the JSON representation.
The serialized UTF-8 JSON string <code>{"when": "1985-04-12T23:20:50.52"}</code> represents an object with one data field, named <code>when</code>, with a string value, <code>1985-04-12T23:20:50.52</code>.</p>
<p>The exact application form is beyond the scope of this specification, as can be shown with the following schema for our JSON instance:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">properties:</span>
  <span class="hljs-attr">when:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">format:</span> <span class="hljs-string">date-time</span>
</code></pre>
<p>Some applications might leave the string as a string regardless of programming language, while others might notice the <code>format</code> and use it as a <code>datetime.datetime</code> instance in Python, or a <code>java.time.ZonedDateTime</code> in Java.
This specification only requires that the data is valid according to the schema, and that <a href="#extended-validation-with-annotations">annotations</a> such as <code>format</code> are available in accordance with the JSON Schema specification.</p>
</section><section id="non-json-data"><div class="header-wrapper"><h5 id="x4-24-4-2-non-json-data"><bdi class="secno">4.24.4.2 </bdi>Non-JSON Data</h5><a class="self-link" href="#non-json-data" aria-label="Permalink for Section 4.24.4.2"></a></div>
<p>Non-JSON serializations can be substantially different from their corresponding data form, and might require several steps to parse.</p>
<p>To continue our โwhenโ example, if we serialized the object as <code>application/x-www-form-urlencoded</code>, it would appear as the ASCII string <code>when=1985-04-12T23%3A20%3A50.52</code>.
This example is still straightforward to use as it is all string data, and the only differences from JSON are the URI percent-encoding and the delimiter syntax (<code>=</code> instead of JSON punctuation and quoting).</p>
<p>However, many non-JSON text-based formats can be complex, requiring examination of the appropriate schema(s) in order to correctly parse the text into a schema-ready data structure.
Serializing data into such formats requires either examining the schema-validated data or performing the same schema inspections.</p>
<p>When inspecting schemas, given a starting point schema, implementations <em class="rfc2119">MUST</em> examine that schema and all schemas that can be reached from it by following only <code>$ref</code> and <code>allOf</code> keywords.
These schemas are guaranteed to apply to any instance.
When searching schemas for <code>type</code>, if the <code>type</code> keywordโs value is a list of types and the serialized value can be successfully parsed as more than one of the types in the list, and no other findable <code>type</code> keyword disambiguates the actual required type, the behavior is implementation-defined.
Schema Objects that do not contain <code>type</code> <em class="rfc2119">MUST</em> be considered to allow all types, regardless of which other keywords are present (e.g. <code>maximum</code> applies to numbers, but <em>does not</em> require the instance to be a number).</p>
<p>Implementations <em class="rfc2119">MAY</em> inspect subschemas or possible reference targets of other keywords such as <code>oneOf</code> or <code>$dynamicRef</code>, but <em class="rfc2119">MUST NOT</em> attempt to resolve ambiguities.
For example, if an implementation opts to inspect <code>anyOf</code>, the schema:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">anyOf:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
  <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
  <span class="hljs-attr">maximum:</span> <span class="hljs-number">100</span>
</code></pre>
<p>unambiguously indicates a numeric type, but the schema:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">anyOf:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">maximum:</span> <span class="hljs-number">100</span>
</code></pre>
<p>does not, because the second subschema allows all types.</p>
<p>Due to these limited requirements for searching schemas, serializers that have access to validated data <em class="rfc2119">MUST</em> inspect the data if possible; implementations that either do not work with runtime data (such as code generators) or cannot access validated data for some reason <em class="rfc2119">MUST</em> fall back to schema inspection.</p>
<p>Recall also that in JSON Schema, keywords that apply to a specific type (e.g. <code>pattern</code> applies to strings, <code>minimum</code> applies to numbers) <em>do not</em> require or imply that the data will actually be of that type.</p>
<p>As an example of these processes, given these OpenAPI components:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">Form:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/x-www-form-urlencoded:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/FormData"</span>
          <span class="hljs-attr">encoding:</span>
            <span class="hljs-attr">extra:</span>
              <span class="hljs-attr">contentType:</span> <span class="hljs-string">application/xml</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">FormData:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">code:</span>
          <span class="hljs-attr">allOf:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> [<span class="hljs-string">string</span>, <span class="hljs-string">number</span>]
            <span class="hljs-attr">pattern:</span> <span class="hljs-string">"1"</span>
            <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
            <span class="hljs-attr">pattern:</span> <span class="hljs-string">"2"</span>
        <span class="hljs-attr">count:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
        <span class="hljs-attr">extra:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
</code></pre>
<p>And this request body to parse into its data form:</p>
<pre class="nohighlight" tabindex="0"><code>code=<span class="hljs-literal">1234</span>&amp;<span class="hljs-attr">count</span>=<span class="hljs-literal">42</span>&amp;<span class="hljs-attr">extra</span>=<span class="hljs-literal">%3Cinfo%3Eabc%3C/info%3E</span>
</code></pre>
<p>We must first search the schema for <code>properties</code> or other property-defining keywords, and then use each property schema as a starting point for a search for that propertyโs <code>type</code> keyword, as follows (the exact order is implementation-defined):</p>
<ul>
<li><code>#/components/requestBodies/Form/content/application~1x-www-form-urlencoded/schema</code> (initial starting point schema, only <code>$ref</code>)</li>
<li><code>#/components/schemas/FormData</code> (follow <code>$ref</code>, found <code>properties</code>)</li>
<li><code>#/components/schemas/FormData/properties/code</code> (starting point schema for <code>code</code> property)</li>
<li><code>#/components/schemas/FormData/properties/code/allOf/0</code> (follow <code>allOf</code>, found <code>type: [string, number]</code>)</li>
<li><code>#/components/schemas/FormData/properties/code/allOf/1</code> (follow <code>allOf</code>, found <code>type: string</code>)</li>
<li><code>#/components/schemas/FormData/properties/count</code> (starting point schema for <code>count</code> property, found <code>type: integer</code>)</li>
<li><code>#/components/schemas/FormData/properties/extra</code> (starting point schema for <code>extra</code> property, found <code>type: object</code>)</li>
</ul>
<p>Note that for <code>code</code> we first found an ambiguous <code>type</code>, but then found another <code>type</code> keyword that ensures only one of the two possibilities is valid.</p>
<p>From this inspection, we determine that <code>code</code> is a string that happens to look like a number, while <code>count</code> needs to be parsed into a number <em>prior</em> to schema validation.
Furthermore, the <code>extra</code> string is in fact an XML serialization of an object containing an <code>info</code> property.
This means that the data form of this serialization is equivalent to the following JSON object:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1234"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">42</span>
  <span class="hljs-attr">"extra"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"info"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"abc"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Serializing this object also requires correlating properties with <a href="#encoding-object">Encoding Objects</a>, and may require inspection to determine a default value of the <code>contentType</code> field.
If validated data is not available, the schema inspection process is identical to that shown for parsing.</p>
<p>In this example, both <code>code</code> and <code>count</code> are of primitive type and do not appear in the <code>encoding</code> field, and are therefore serialized as plain text.
However, the <code>extra</code> field is an object, which would by default be serialized as JSON, but the <code>extra</code> entry in the <code>encoding</code> field tells use to serialize it as XML instead.</p>
</section><section id="working-with-binary-data"><div class="header-wrapper"><h5 id="x4-24-4-3-working-with-binary-data"><bdi class="secno">4.24.4.3 </bdi>Working with Binary Data</h5><a class="self-link" href="#working-with-binary-data" aria-label="Permalink for Section 4.24.4.3"></a></div>
<p>The OAS can describe either <em>raw</em> or <em>encoded</em> binary data.</p>
<ul>
<li><strong>raw binary</strong> is used where unencoded binary data is allowed, such as when sending a binary payload as the entire HTTP message body, or as part of a <code>multipart/*</code> payload that allows binary parts</li>
<li><strong>encoded binary</strong> is used where binary data is embedded in a text-only format such as <code>application/json</code> or <code>application/x-www-form-urlencoded</code> (either as a message body or in the URL query string).</li>
</ul>
<p>In the following table showing how to use Schema Object keywords for binary data, we use <code>image/png</code> as an example binary media type. Any binary media type, including <code>application/octet-stream</code>, is sufficient to indicate binary content.</p>
<table>
<thead>
<tr>
<th>Keyword</th>
<th>Raw</th>
<th>Encoded</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td><em>omit</em></td>
<td><code>string</code></td>
<td>raw binary is <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.2.3">outside of <code>type</code></a></td>
</tr>
<tr>
<td><code>contentMediaType</code></td>
<td><code>image/png</code></td>
<td><code>image/png</code></td>
<td>can sometimes be omitted if redundant (see below)</td>
</tr>
<tr>
<td><code>contentEncoding</code></td>
<td><em>omit</em></td>
<td><code>base64</code>&nbsp;or&nbsp;<code>base64url</code></td>
<td>other encodings are <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-8.3">allowed</a></td>
</tr>
</tbody>
</table>
<p>Note that the encoding indicated by <code>contentEncoding</code>, which inflates the size of data in order to represent it as 7-bit ASCII text, is unrelated to HTTPโs <code>Content-Encoding</code> header, which indicates whether and how a message body has been compressed and is applied after all content serialization described in this section has occurred. Since HTTP allows unencoded binary message bodies, there is no standardized HTTP header for indicating base64 or similar encoding of an entire message body.</p>
<p>Using a <code>contentEncoding</code> of <code>base64url</code> ensures that URL encoding (as required in the query string and in message bodies of type <code>application/x-www-form-urlencoded</code>) does not need to further encode any part of the already-encoded binary data.</p>
<p>The <code>contentMediaType</code> keyword is redundant if the media type is already set:</p>
<ul>
<li>as the key for a <a href="#media-type-object">Media Type Object</a></li>
<li>in the <code>contentType</code> field of an <a href="#encoding-object">Encoding Object</a></li>
</ul>
<p>If the <a href="#schema-object">Schema Object</a> will be processed by a non-OAS-aware JSON Schema implementation, it may be useful to include <code>contentMediaType</code> even if it is redundant. However, if <code>contentMediaType</code> contradicts a relevant Media Type Object or Encoding Object, then <code>contentMediaType</code> <em class="rfc2119">SHALL</em> be ignored.</p>
<p>See <a href="#complete-vs-streaming-content">Complete vs Streaming Content</a> for guidance on streaming binary payloads.</p>
<section id="schema-evaluation-and-binary-data"><div class="header-wrapper"><h6 id="x4-24-4-3-1-schema-evaluation-and-binary-data"><bdi class="secno">4.24.4.3.1 </bdi>Schema Evaluation and Binary Data</h6><a class="self-link" href="#schema-evaluation-and-binary-data" aria-label="Permalink for Section 4.24.4.3.1"></a></div>
<p>Few JSON Schema implementations directly support working with binary data, as doing so is not a mandatory part of that specification.</p>
<p>OAS Implementations that do not have access to a binary-instance-supporting JSON Schema implementation <em class="rfc2119">MUST</em> examine schemas and apply them in accordance with <a href="#working-with-binary-data">Working with Binary Data</a>.
When the entire instance is binary, this is straightforward as few keywords are relevant.</p>
<p>However, <code>multipart</code> media types can mix binary and text-based data, leaving implementations with two options for schema evaluations:</p>
<ol>
<li>Use a placeholder value, on the assumption that no assertions will apply to the binary data and no conditional schema keywords will cause the schema to treat the placeholder value differently (e.g. a part that could be either plain text or binary might behave unexpectedly if a string is used as a binary placeholder, as it would likely be treated as plain text and subject to different subschemas and keywords).</li>
<li>Inspect the schema(s) to find the appropriate keywords (<code>properties</code>, <code>prefixItems</code>, etc.) in order to break up the subschemas and apply them separately to binary and JSON-compatible data.</li>
</ol>
</section><section id="migrating-binary-descriptions-from-oas-3-0"><div class="header-wrapper"><h6 id="x4-24-4-3-2-migrating-binary-descriptions-from-oas-3-0"><bdi class="secno">4.24.4.3.2 </bdi>Migrating Binary Descriptions from OAS 3.0</h6><a class="self-link" href="#migrating-binary-descriptions-from-oas-3-0" aria-label="Permalink for Section 4.24.4.3.2"></a></div>
<p>The following table shows how to migrate from OAS 3.0 binary data descriptions, continuing to use <code>image/png</code> as the example binary media type:</p>
<table>
<thead>
<tr>
<th>OAS &lt; 3.1</th>
<th>OAS &gt;= 3.1</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code style="white-space:nowrap">type: string</code><br><code style="white-space:nowrap">format: binary</code></td>
<td><code style="white-space:nowrap">contentMediaType: image/png</code></td>
<td>if redundant, can be omitted, often resulting in an empty <a href="#schema-object">Schema Object</a></td>
</tr>
<tr>
<td><code style="white-space:nowrap">type: string</code><br><code style="white-space:nowrap">format: byte</code></td>
<td><code style="white-space:nowrap">type: string</code><br><code style="white-space:nowrap">contentMediaType: image/png</code><br><code style="white-space:nowrap">contentEncoding: base64</code></td>
<td>note that <code>base64url</code> can be used to avoid re-encoding the base64 string to be URL-safe</td>
</tr>
</tbody>
</table>
</section></section></section><section id="extended-validation-with-annotations"><div class="header-wrapper"><h4 id="x4-24-5-extended-validation-with-annotations"><bdi class="secno">4.24.5 </bdi>Extended Validation with Annotations</h4><a class="self-link" href="#extended-validation-with-annotations" aria-label="Permalink for Section 4.24.5"></a></div>
<p>JSON Schema Draft 2020-12 supports <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-7.7.1">collecting annotations</a>, including <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-6.5">treating unrecognized keywords as annotations</a>.
OAS implementations <em class="rfc2119">MAY</em> use such annotations, including <a href="https://spec.openapis.org/registry/extension/">extensions</a> not recognized as part of a declared JSON Schema vocabulary, as the basis for further validation.
Note that JSON Schema Draft 2020-12 does not require an <code>x-</code> prefix for extensions.</p>
<section id="non-validating-constraint-keywords"><div class="header-wrapper"><h5 id="x4-24-5-1-non-validating-constraint-keywords"><bdi class="secno">4.24.5.1 </bdi>Non-Validating Constraint Keywords</h5><a class="self-link" href="#non-validating-constraint-keywords" aria-label="Permalink for Section 4.24.5.1"></a></div>
<p>The <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-7.2.1"><code>format</code> keyword (when using default format-annotation vocabulary)</a> and the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-8.2"><code>contentMediaType</code>, <code>contentEncoding</code>, and <code>contentSchema</code> keywords</a> define constraints on the data, but are treated as annotations instead of being validated directly.
Extended validation is one way that these constraints <em class="rfc2119">MAY</em> be enforced.</p>
</section><section id="validating-readonly-and-writeonly"><div class="header-wrapper"><h5 id="x4-24-5-2-validating-readonly-and-writeonly"><bdi class="secno">4.24.5.2 </bdi>Validating <code>readOnly</code> and <code>writeOnly</code></h5><a class="self-link" href="#validating-readonly-and-writeonly" aria-label="Permalink for Section 4.24.5.2"></a></div>
<p>The <code>readOnly</code> and <code>writeOnly</code> keywords are annotations, as JSON Schema is not aware of how the data it is validating is being used.
Validation of these keywords <em class="rfc2119">MAY</em> be done by checking the annotation, the read or write direction, and (if relevant) the current value of the field.
<a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-9.4">JSON Schema Validation Draft 2020-12 Section 9.4</a> defines the expectations of these keywords, including that a resource (described as the โowning authorityโ) <em class="rfc2119">MAY</em> either ignore a <code>readOnly</code> field or treat it as an error.</p>
<p>Fields that are both required and read-only are an example of when it is beneficial to ignore a <code>readOnly: true</code> constraint in a PUT, particularly if the value has not been changed.
This allows correctly requiring the field on a GET and still using the same representation and schema with PUT.
Even when read-only fields are not required, stripping them is burdensome for clients, particularly when the JSON data is complex or deeply nested.</p>
<p>Note that the behavior of <code>readOnly</code> in particular differs from that specified by version 3.0 of this specification.</p>
</section></section><section id="data-modeling-techniques"><div class="header-wrapper"><h4 id="x4-24-6-data-modeling-techniques"><bdi class="secno">4.24.6 </bdi>Data Modeling Techniques</h4><a class="self-link" href="#data-modeling-techniques" aria-label="Permalink for Section 4.24.6"></a></div>
<section id="composition-and-inheritance-polymorphism"><div class="header-wrapper"><h5 id="x4-24-6-1-composition-and-inheritance-polymorphism"><bdi class="secno">4.24.6.1 </bdi>Composition and Inheritance (Polymorphism)</h5><a class="self-link" href="#composition-and-inheritance-polymorphism" aria-label="Permalink for Section 4.24.6.1"></a></div>
<p>The OpenAPI Specification allows combining and extending model definitions using the <code>allOf</code> keyword of JSON Schema, in effect offering model composition.
<code>allOf</code> takes an array of object definitions that are validated <em>independently</em> but together compose a single object.</p>
<p>While composition offers model extensibility, it does not imply a hierarchy between the models.</p>
<p>JSON Schema also provides the <code>anyOf</code> and <code>oneOf</code> keywords, which allow defining multiple schemas where at least one or exactly one of them must be valid, respectively.
As is the case with <code>allOf</code>, the schemas are validated <em>independently</em>.
These keywords can be used to describe polymorphism, where a single field can accept multiple types of values.</p>
<p>The OpenAPI specification extends the JSON Schema support for polymorphism by adding the <a href="#schema-discriminator"><code>discriminator</code></a> field whose value is a <a href="#discriminator-object">Discriminator Object</a>.
When used, the Discriminator Object indicates the name of the property that hints which schema of an <code>anyOf</code> or <code>oneOf</code> is expected to validate the structure of the model.
The discriminating property <em class="rfc2119">MAY</em> be defined as required or optional, but when defined as an optional property the Discriminator Object <em class="rfc2119">MUST</em> include a <code>defaultMapping</code> field that specifies which schema of the <code>anyOf</code> or <code>oneOf</code>, or which schema that references the current schema in an <code>allOf</code>, is expected to validate the structure of the model when the discriminating property is not present.</p>
<p>There are two ways to define the value of a discriminating property for an inheriting instance.</p>
<ul>
<li>Use the schema name.</li>
<li><a href="#discriminator-mapping">Override the schema name</a> by overriding the property with a new value. If a new value exists, this takes precedence over the schema name.</li>
</ul>
</section><section id="generic-template-data-structures"><div class="header-wrapper"><h5 id="x4-24-6-2-generic-template-data-structures"><bdi class="secno">4.24.6.2 </bdi>Generic (Template) Data Structures</h5><a class="self-link" href="#generic-template-data-structures" aria-label="Permalink for Section 4.24.6.2"></a></div>
<p>Implementations <em class="rfc2119">SHOULD</em> support defining generic or template data structures using JSON Schemaโs dynamic referencing feature:</p>
<ul>
<li><code>$dynamicAnchor</code> identifies a set of possible schemas (including a default placeholder schema) to which a <code>$dynamicRef</code> can resolve</li>
<li><code>$dynamicRef</code> resolves to the first matching <code>$dynamicAnchor</code> encountered on its path from the schema entry point to the reference, as described in the JSON Schema specification</li>
</ul>
<p>An example is included in the <a href="#schema-object-examples">Schema Object Examples</a> section below, and further information can be found on the Learn OpenAPI siteโs <a href="https://learn.openapis.org/referencing/dynamic.html">โDynamic Referencesโ</a> page.</p>
</section><section id="annotated-enumerations"><div class="header-wrapper"><h5 id="x4-24-6-3-annotated-enumerations"><bdi class="secno">4.24.6.3 </bdi>Annotated Enumerations</h5><a class="self-link" href="#annotated-enumerations" aria-label="Permalink for Section 4.24.6.3"></a></div>
<p>The Schema Objectโs <code>enum</code> keyword does not allow associating descriptions or other information with individual values.</p>
<p>Implementations <em class="rfc2119">MAY</em> support recognizing a <code>oneOf</code> or <code>anyOf</code> where each subschema in the keywordโs array consists of a <code>const</code> keyword and annotations such as <code>title</code> or <code>description</code> as an enumerated type with additional information. The exact behavior of this pattern beyond what is required by JSON Schema is implementation-defined.</p>
</section><section id="xml-modeling"><div class="header-wrapper"><h5 id="x4-24-6-4-xml-modeling"><bdi class="secno">4.24.6.4 </bdi>XML Modeling</h5><a class="self-link" href="#xml-modeling" aria-label="Permalink for Section 4.24.6.4"></a></div>
<p>The <a href="#schema-xml">xml</a> field allows extra definitions when translating the JSON definition to XML.
The <a href="#xml-object">XML Object</a> contains additional information about the available options.</p>
</section></section><section id="specifying-schema-dialects"><div class="header-wrapper"><h4 id="x4-24-7-specifying-schema-dialects"><bdi class="secno">4.24.7 </bdi>Specifying Schema Dialects</h4><a class="self-link" href="#specifying-schema-dialects" aria-label="Permalink for Section 4.24.7"></a></div>
<p>It is important for tooling to be able to determine which dialect or meta-schema any given resource wishes to be processed with: JSON Schema Core, JSON Schema Validation, OpenAPI Schema dialect, or some custom meta-schema.</p>
<p>The <code>$schema</code> keyword <em class="rfc2119">MAY</em> be present in any Schema Object that is a <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.3.5">schema resource root</a>, and if present <em class="rfc2119">MUST</em> be used to determine which dialect should be used when processing the schema. This allows use of Schema Objects which comply with other drafts of JSON Schema than the default Draft 2020-12 support. Tooling <em class="rfc2119">MUST</em> support the <a href="#dialect-schema-id">OAS dialect schema id</a>, and <em class="rfc2119">MAY</em> support additional values of <code>$schema</code>.</p>
<p>To allow use of a different default <code>$schema</code> value for all Schema Objects contained within an OAS document, a <code>jsonSchemaDialect</code> value may be set within the <a href="#openapi-object">OpenAPI Object</a>. If this default is not set, then the OAS dialect schema id <em class="rfc2119">MUST</em> be used for these Schema Objects. The value of <code>$schema</code> within a resource root Schema Object always overrides any default.</p>
<p>For standalone JSON Schema documents that do not set <code>$schema</code>, or for Schema Objects in OpenAPI description documents that are <em>not</em> <a href="#openapi-description-structure">complete documents</a>, the dialect <em class="rfc2119">SHOULD</em> be assumed to be the OAS dialect.
However, for maximum interoperability, it is <em class="rfc2119">RECOMMENDED</em> that OpenAPI description authors explicitly set the dialect through <code>$schema</code> in such documents.</p>
</section><section id="schema-object-examples"><div class="header-wrapper"><h4 id="x4-24-8-schema-object-examples"><bdi class="secno">4.24.8 </bdi>Schema Object Examples</h4><a class="self-link" href="#schema-object-examples" aria-label="Permalink for Section 4.24.8"></a></div>
<section id="primitive-example"><div class="header-wrapper"><h5 id="x4-24-8-1-primitive-example"><bdi class="secno">4.24.8.1 </bdi>Primitive Example</h5><a class="self-link" href="#primitive-example" aria-label="Permalink for Section 4.24.8.1"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">format:</span> <span class="hljs-string">email</span>
</code></pre>
</section><section id="simple-model"><div class="header-wrapper"><h5 id="x4-24-8-2-simple-model"><bdi class="secno">4.24.8.2 </bdi>Simple Model</h5><a class="self-link" href="#simple-model" aria-label="Permalink for Section 4.24.8.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">required:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">name</span>
<span class="hljs-attr">properties:</span>
  <span class="hljs-attr">name:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">address:</span>
    <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Address'</span>
  <span class="hljs-attr">age:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
    <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
    <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
</code></pre>
</section><section id="model-with-map-dictionary-properties"><div class="header-wrapper"><h5 id="x4-24-8-3-model-with-map-dictionary-properties"><bdi class="secno">4.24.8.3 </bdi>Model with Map/Dictionary Properties</h5><a class="self-link" href="#model-with-map-dictionary-properties" aria-label="Permalink for Section 4.24.8.3"></a></div>
<p>For a simple string to string mapping:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">additionalProperties:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>For a string to model mapping:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">additionalProperties:</span>
  <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/ComplexModel'</span>
</code></pre>
</section><section id="model-with-annotated-enumeration"><div class="header-wrapper"><h5 id="x4-24-8-4-model-with-annotated-enumeration"><bdi class="secno">4.24.8.4 </bdi>Model with Annotated Enumeration</h5><a class="self-link" href="#model-with-annotated-enumeration" aria-label="Permalink for Section 4.24.8.4"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">oneOf:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">const:</span> <span class="hljs-string">RGB</span>
    <span class="hljs-attr">title:</span> <span class="hljs-string">Red,</span> <span class="hljs-string">Green,</span> <span class="hljs-string">Blue</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Specify</span> <span class="hljs-string">colors</span> <span class="hljs-string">with</span> <span class="hljs-string">the</span> <span class="hljs-string">red,</span> <span class="hljs-string">green,</span> <span class="hljs-string">and</span> <span class="hljs-string">blue</span> <span class="hljs-string">additive</span> <span class="hljs-string">color</span> <span class="hljs-string">model</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">const:</span> <span class="hljs-string">CMYK</span>
    <span class="hljs-attr">title:</span> <span class="hljs-string">Cyan,</span> <span class="hljs-string">Magenta,</span> <span class="hljs-string">Yellow,</span> <span class="hljs-string">Black</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">Specify</span> <span class="hljs-string">colors</span> <span class="hljs-string">with</span> <span class="hljs-string">the</span> <span class="hljs-string">cyan,</span> <span class="hljs-string">magenta,</span> <span class="hljs-string">yellow,</span> <span class="hljs-string">and</span> <span class="hljs-string">black</span> <span class="hljs-string">subtractive</span> <span class="hljs-string">color</span> <span class="hljs-string">model</span>
</code></pre>
</section><section id="model-with-example"><div class="header-wrapper"><h5 id="x4-24-8-5-model-with-example"><bdi class="secno">4.24.8.5 </bdi>Model with Example</h5><a class="self-link" href="#model-with-example" aria-label="Permalink for Section 4.24.8.5"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
<span class="hljs-attr">properties:</span>
  <span class="hljs-attr">id:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
    <span class="hljs-attr">format:</span> <span class="hljs-string">int64</span>
  <span class="hljs-attr">name:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
<span class="hljs-attr">required:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">name</span>
<span class="hljs-attr">examples:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Puma</span>
    <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>
</code></pre>
</section><section id="models-with-composition"><div class="header-wrapper"><h5 id="x4-24-8-6-models-with-composition"><bdi class="secno">4.24.8.6 </bdi>Models with Composition</h5><a class="self-link" href="#models-with-composition" aria-label="Permalink for Section 4.24.8.6"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">ErrorModel:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">message</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">code</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">message:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">code:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">minimum:</span> <span class="hljs-number">100</span>
          <span class="hljs-attr">maximum:</span> <span class="hljs-number">600</span>
    <span class="hljs-attr">ExtendedErrorModel:</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/ErrorModel'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-attr">required:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">rootCause</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">rootCause:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
</section><section id="models-with-polymorphism-support"><div class="header-wrapper"><h5 id="x4-24-8-7-models-with-polymorphism-support"><bdi class="secno">4.24.8.7 </bdi>Models with Polymorphism Support</h5><a class="self-link" href="#models-with-polymorphism-support" aria-label="Permalink for Section 4.24.8.7"></a></div>
<p>The following example describes a <code>Pet</code> model that can represent either a cat or a dog, as distinguished by the <code>petType</code> property. Each type of pet has other properties beyond those of the base <code>Pet</code> model. An instance without a <code>petType</code> property, or with a <code>petType</code> property that does not match either <code>cat</code> or <code>dog</code>, is invalid.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Pet:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">name</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">petType</span>
      <span class="hljs-attr">oneOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-attr">Cat:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">cat</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">const:</span> <span class="hljs-string">'cat'</span>
        <span class="hljs-attr">huntingSkill:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">measured</span> <span class="hljs-string">skill</span> <span class="hljs-string">for</span> <span class="hljs-string">hunting</span>
          <span class="hljs-attr">enum:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">clueless</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">lazy</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">adventurous</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">aggressive</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">huntingSkill</span>
    <span class="hljs-attr">Dog:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">dog</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">const:</span> <span class="hljs-string">'dog'</span>
        <span class="hljs-attr">packSize:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">size</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">pack</span> <span class="hljs-string">the</span> <span class="hljs-string">dog</span> <span class="hljs-string">is</span> <span class="hljs-string">from</span>
          <span class="hljs-attr">default:</span> <span class="hljs-number">0</span>
          <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">packSize</span>
</code></pre>
</section><section id="models-with-polymorphism-support-and-a-discriminator-object"><div class="header-wrapper"><h5 id="x4-24-8-8-models-with-polymorphism-support-and-a-discriminator-object"><bdi class="secno">4.24.8.8 </bdi>Models with Polymorphism Support and a Discriminator Object</h5><a class="self-link" href="#models-with-polymorphism-support-and-a-discriminator-object" aria-label="Permalink for Section 4.24.8.8"></a></div>
<p>The following example extends the example of the previous section by adding a <a href="#discriminator-object">Discriminator Object</a> to the <code>Pet</code> schema. Note that the Discriminator Object is only a hint to the consumer of the API and does not change the validation outcome of the schema.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Pet:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">discriminator:</span>
        <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
        <span class="hljs-attr">mapping:</span>
          <span class="hljs-attr">cat:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
          <span class="hljs-attr">dog:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">name</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">petType</span>
      <span class="hljs-attr">oneOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-attr">Cat:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">cat</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">const:</span> <span class="hljs-string">'cat'</span>
        <span class="hljs-attr">huntingSkill:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">measured</span> <span class="hljs-string">skill</span> <span class="hljs-string">for</span> <span class="hljs-string">hunting</span>
          <span class="hljs-attr">enum:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">clueless</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">lazy</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">adventurous</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">aggressive</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">huntingSkill</span>
    <span class="hljs-attr">Dog:</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">pet</span> <span class="hljs-string">dog</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">const:</span> <span class="hljs-string">'dog'</span>
        <span class="hljs-attr">packSize:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">size</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">pack</span> <span class="hljs-string">the</span> <span class="hljs-string">dog</span> <span class="hljs-string">is</span> <span class="hljs-string">from</span>
          <span class="hljs-attr">default:</span> <span class="hljs-number">0</span>
          <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">petType</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">packSize</span>
</code></pre>
</section><section id="models-with-polymorphism-support-using-allof-and-a-discriminator-object"><div class="header-wrapper"><h5 id="x4-24-8-9-models-with-polymorphism-support-using-allof-and-a-discriminator-object"><bdi class="secno">4.24.8.9 </bdi>Models with Polymorphism Support using <code>allOf</code> and a Discriminator Object</h5><a class="self-link" href="#models-with-polymorphism-support-using-allof-and-a-discriminator-object" aria-label="Permalink for Section 4.24.8.9"></a></div>
<p>It is also possible to describe polymorphic models using <code>allOf</code>. The following example uses <code>allOf</code> with a <a href="#discriminator-object">Discriminator Object</a> to describe a polymorphic <code>Pet</code> model.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Pet:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">discriminator:</span>
        <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">name</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">petType</span>
    <span class="hljs-attr">Cat:</span> <span class="hljs-comment"># "Cat" will be used as the discriminating value</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">representation</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">cat</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">huntingSkill:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
              <span class="hljs-attr">description:</span> <span class="hljs-string">The</span> <span class="hljs-string">measured</span> <span class="hljs-string">skill</span> <span class="hljs-string">for</span> <span class="hljs-string">hunting</span>
              <span class="hljs-attr">enum:</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">clueless</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">lazy</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">adventurous</span>
                <span class="hljs-bullet">-</span> <span class="hljs-string">aggressive</span>
          <span class="hljs-attr">required:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">huntingSkill</span>
    <span class="hljs-attr">Dog:</span> <span class="hljs-comment"># "Dog" will be used as the discriminating value</span>
      <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">representation</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">dog</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">packSize:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
              <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
              <span class="hljs-attr">description:</span> <span class="hljs-string">the</span> <span class="hljs-string">size</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">pack</span> <span class="hljs-string">the</span> <span class="hljs-string">dog</span> <span class="hljs-string">is</span> <span class="hljs-string">from</span>
              <span class="hljs-attr">default:</span> <span class="hljs-number">0</span>
              <span class="hljs-attr">minimum:</span> <span class="hljs-number">0</span>
          <span class="hljs-attr">required:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">packSize</span>
</code></pre>
</section><section id="generic-data-structure-model"><div class="header-wrapper"><h5 id="x4-24-8-10-generic-data-structure-model"><bdi class="secno">4.24.8.10 </bdi>Generic Data Structure Model</h5><a class="self-link" href="#generic-data-structure-model" aria-label="Permalink for Section 4.24.8.10"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">genericArrayComponent:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">fully_generic_array</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
      <span class="hljs-attr">items:</span>
        <span class="hljs-string">$dynamicRef:</span> <span class="hljs-string">'#generic-array'</span>
      <span class="hljs-string">$defs:</span>
        <span class="hljs-attr">allowAll:</span>
          <span class="hljs-string">$dynamicAnchor:</span> <span class="hljs-string">generic-array</span>
    <span class="hljs-attr">numberArray:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">array_of_numbers</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">fully_generic_array</span>
      <span class="hljs-string">$defs:</span>
        <span class="hljs-attr">numbersOnly:</span>
          <span class="hljs-string">$dynamicAnchor:</span> <span class="hljs-string">generic-array</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
    <span class="hljs-attr">stringArray:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">array_of_strings</span>
      <span class="hljs-string">$ref:</span> <span class="hljs-string">fully_generic_array</span>
      <span class="hljs-string">$defs:</span>
        <span class="hljs-attr">stringsOnly:</span>
          <span class="hljs-string">$dynamicAnchor:</span> <span class="hljs-string">generic-array</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">objWithTypedArray:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">obj_with_typed_array</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">dataType</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">data</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">dataType:</span>
          <span class="hljs-attr">enum:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">string</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">number</span>
      <span class="hljs-attr">oneOf:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">dataType:</span>
            <span class="hljs-attr">const:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">array_of_strings</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">properties:</span>
          <span class="hljs-attr">dataType:</span>
            <span class="hljs-attr">const:</span> <span class="hljs-string">number</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">array_of_numbers</span>
</code></pre>
</section></section></section><section id="discriminator-object"><div class="header-wrapper"><h3 id="x4-25-discriminator-object"><bdi class="secno">4.25 </bdi>Discriminator Object</h3><a class="self-link" href="#discriminator-object" aria-label="Permalink for Section 4.25"></a></div>
<p>When request bodies or response payloads may be one of a number of different schemas, these should use the JSON Schema <code>anyOf</code> or <code>oneOf</code> keywords to describe the possible schemas (see <a href="#composition-and-inheritance-polymorphism">Composition and Inheritance</a>).</p>
<p>A polymorphic schema <em class="rfc2119">MAY</em> include a Discriminator Object, which defines the name of the property that may be used as a hint for which schema of the <code>anyOf</code> or <code>oneOf</code>, or which schema that references the current schema in an <code>allOf</code>, is expected to validate the structure of the model.
This hint can be used to aid in serialization, deserialization, and validation.
The Discriminator Object does this by implicitly or explicitly associating the possible values of a named property with alternative schemas.</p>
<p>Note that <code>discriminator</code> <em class="rfc2119">MUST NOT</em> change the validation outcome of the schema.</p>
<section id="fixed-fields-21"><div class="header-wrapper"><h4 id="x4-25-1-fixed-fields"><bdi class="secno">4.25.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-21" aria-label="Permalink for Section 4.25.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="property-name"></span>propertyName</td>
<td style="text-align:center"><code>string</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the discriminating property in the payload that will hold the discriminating value. The discriminating property <em class="rfc2119">MAY</em> be defined as required or optional, but when defined as optional the Discriminator Object <em class="rfc2119">MUST</em> include a <code>defaultMapping</code> field that specifies which schema is expected to validate the structure of the model when the discriminating property is not present.</td>
</tr>
<tr>
<td><span id="discriminator-mapping"></span> mapping</td>
<td style="text-align:center">Map[<code>string</code>, <code>string</code>]</td>
<td>An object to hold mappings between payload values and schema names or URI references.</td>
</tr>
<tr>
<td><span id="discriminator-default-mapping"></span> defaultMapping</td>
<td style="text-align:center"><code>string</code></td>
<td>The schema name or URI reference to a schema that is expected to validate the structure of the model when the discriminating property is not present in the payload or contains a value for which there is no explicit or implicit mapping.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="conditions-for-using-the-discriminator-object"><div class="header-wrapper"><h4 id="x4-25-2-conditions-for-using-the-discriminator-object"><bdi class="secno">4.25.2 </bdi>Conditions for Using the Discriminator Object</h4><a class="self-link" href="#conditions-for-using-the-discriminator-object" aria-label="Permalink for Section 4.25.2"></a></div>
<p>The Discriminator Object is legal only when using one of the composite keywords <code>oneOf</code>, <code>anyOf</code>, <code>allOf</code>.</p>
<p>In both the <code>oneOf</code> and <code>anyOf</code> use cases, where those keywords are adjacent to <code>discriminator</code>, all possible schemas <em class="rfc2119">MUST</em> be listed explicitly.</p>
<p>To avoid redundancy, the discriminator <em class="rfc2119">MAY</em> be added to a parent schema definition, and all schemas building on the parent schema via an <code>allOf</code> construct may be used as an alternate schema.</p>
<p>The <code>allOf</code> form of <code>discriminator</code> is <em>only</em> useful for non-validation use cases; validation with the parent schema with this form of <code>discriminator</code> <em>does not</em> perform a search for child schemas or use them in validation in any way.
This is because <code>discriminator</code> cannot change the validation outcome, and no standard JSON Schema keyword connects the parent schema to the child schemas.</p>
<p>The behavior of any configuration of <code>oneOf</code>, <code>anyOf</code>, <code>allOf</code> and <code>discriminator</code> that is not described above is undefined.</p>
</section><section id="options-for-mapping-values-to-schemas"><div class="header-wrapper"><h4 id="x4-25-3-options-for-mapping-values-to-schemas"><bdi class="secno">4.25.3 </bdi>Options for Mapping Values to Schemas</h4><a class="self-link" href="#options-for-mapping-values-to-schemas" aria-label="Permalink for Section 4.25.3"></a></div>
<p>The value of the property named in <code>propertyName</code> is used as the name of the associated schema under the <a href="#components-object">Components Object</a>, <em>unless</em> a <code>mapping</code> is present for that value.
The <code>mapping</code> entry maps a specific property value to either a different schema component name, or to a schema identified by a URI.
When using implicit or explicit schema component names, inline <code>oneOf</code> or <code>anyOf</code> subschemas are not considered.
The behavior of a <code>mapping</code> value or <code>defaultMapping</code> value that is both a valid schema name and a valid relative URI reference is implementation-defined, but it is <em class="rfc2119">RECOMMENDED</em> that it be treated as a schema name.
To ensure that an ambiguous value (e.g. <code>"foo"</code>) is treated as a relative URI reference by all implementations, authors <em class="rfc2119">MUST</em> prefix it with the <code>"."</code> path segment (e.g. <code>"./foo"</code>).</p>
<p>Mapping keys <em class="rfc2119">MUST</em> be string values, but tooling <em class="rfc2119">MAY</em> convert response values to strings for comparison.
However, the exact nature of such conversions are implementation-defined.</p>
</section><section id="optional-discriminating-property"><div class="header-wrapper"><h4 id="x4-25-4-optional-discriminating-property"><bdi class="secno">4.25.4 </bdi>Optional Discriminating Property</h4><a class="self-link" href="#optional-discriminating-property" aria-label="Permalink for Section 4.25.4"></a></div>
<p>When the discriminating property is defined as optional, the <a href="#discriminator-object">Discriminator Object</a> <em class="rfc2119">MUST</em> include a <code>defaultMapping</code> field that specifies a schema that is expected to validate the structure of the model when the discriminating property is not present in the payload or contains a value for which there is no explicit or implicit mapping. This allows the schema to still be validated correctly even if the discriminating property is missing.</p>
<p>The primary use case for an optional discriminating property is to allow a schema to be extended with a discriminator without breaking existing clients that do not provide the discriminating property.</p>
<p>When the discriminating property is defined as optional, it is important that each subschema that defines a value for the discriminating property also define the property as required, since this is no longer enforced by the parent schema.</p>
<p>The <code>defaultMapping</code> schema is also expected to validate the structure of the model when the discriminating property is present but contains a value for which there is no explicit or implicit mapping. This is typically expressed in the <code>defaultMapping</code> schema by excluding any instances with mapped values of the discriminating property, e.g.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">OtherPet:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">properties:</span>
    <span class="hljs-attr">petType:</span>
      <span class="hljs-attr">not:</span>
        <span class="hljs-attr">enum:</span> [<span class="hljs-string">'cat'</span>, <span class="hljs-string">'dog'</span>]
</code></pre>
<p>This prevents the <code>defaultMapping</code> schema from validating a payload that includes the discriminating property with a mapped discriminating value, which would cause a validation to fail when polymorphism is described using the <code>oneOf</code> JSON schema keyword.</p>
</section><section id="examples-0"><div class="header-wrapper"><h4 id="x4-25-5-examples"><bdi class="secno">4.25.5 </bdi>Examples</h4><a class="self-link" href="#examples-0" aria-label="Permalink for Section 4.25.5"></a></div>
<p>For these examples, assume all schemas are in the <a href="#openapi-description-structure">entry document</a> of the OAD; for handling of <code>discriminator</code> in referenced documents see <a href="#resolving-implicit-connections">Resolving Implicit Connections</a>.</p>
<p>In OAS 3.x, a response payload <em class="rfc2119">MAY</em> be described to be exactly one of any number of types:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">MyResponseType:</span>
  <span class="hljs-attr">oneOf:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Lizard'</span>
</code></pre>
<p>which means a valid payload has to match exactly one of the schemas described by <code>Cat</code>, <code>Dog</code>, or <code>Lizard</code>. Deserialization of a <code>oneOf</code> can be a costly operation, as it requires determining which schema matches the payload and thus should be used in deserialization. This problem also exists for <code>anyOf</code> schemas. A <code>discriminator</code> can be used as a โhintโ to improve the efficiency of selection of the matching schema. The <a href="#discriminator-object">Discriminator Object</a> cannot change the validation result of the <code>oneOf</code>, it can only help make the deserialization more efficient and provide better error messaging. We can specify the exact field that tells us which schema is expected to match the instance:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">MyResponseType:</span>
  <span class="hljs-attr">oneOf:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Lizard'</span>
  <span class="hljs-attr">discriminator:</span>
    <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
</code></pre>
<p>The expectation now is that a property with name <code>petType</code> <em><em class="rfc2119">MUST</em></em> be present in the response payload, and the value will correspond to the name of a schema defined in the OpenAPI Description. Thus the response payload:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12345</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"petType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Cat"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>will indicate that the <code>Cat</code> schema is expected to match this payload.</p>
<p>In scenarios where the value of the discriminating property does not match the schema name or implicit mapping is not possible, an optional <code>mapping</code> definition can be used:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">MyResponseType:</span>
  <span class="hljs-attr">oneOf:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Lizard'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">https://gigantic-server.com/schemas/Monster/schema.json</span>
  <span class="hljs-attr">discriminator:</span>
    <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
    <span class="hljs-attr">mapping:</span>
      <span class="hljs-attr">dog:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
      <span class="hljs-attr">monster:</span> <span class="hljs-string">https://gigantic-server.com/schemas/Monster/schema.json</span>
</code></pre>
<p>Here the discriminating value of <code>dog</code> will map to the schema <code>#/components/schemas/Dog</code>, rather than the default (implicit) value of <code>#/components/schemas/dog</code>. If the discriminating value does not match an implicit or explicit mapping, no schema can be determined and validation <em class="rfc2119">SHOULD</em> fail.</p>
<p>When used in conjunction with the <code>anyOf</code> construct, the use of the discriminator can avoid ambiguity for serializers/deserializers where multiple schemas may satisfy a single payload.</p>
<p>When the discriminating property is defined as optional, the Discriminator Object has to include a <code>defaultMapping</code> field that specifies a schema of the <code>anyOf</code> or <code>oneOf</code> is expected to validate the structure of the model when the discriminating property is not present in the payload. This allows the schema to still be validated correctly even if the discriminator property is missing.</p>
<p>For example:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">MyResponseType:</span>
  <span class="hljs-attr">oneOf:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Cat'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Dog'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Lizard'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/OtherPet'</span>
  <span class="hljs-attr">discriminator:</span>
    <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
    <span class="hljs-attr">defaultMapping:</span> <span class="hljs-string">OtherPet</span>
<span class="hljs-attr">OtherPet:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">properties:</span>
    <span class="hljs-attr">petType:</span>
      <span class="hljs-attr">not:</span>
        <span class="hljs-attr">enum:</span> [<span class="hljs-string">'Cat'</span>, <span class="hljs-string">'Dog'</span>, <span class="hljs-string">'Lizard'</span>]
</code></pre>
<p>In this example, if the <code>petType</code> property is not present in the payload, or if the value of <code>petType</code> is not โCatโ, โDogโ, or โLizardโ, then the payload should validate against the <code>OtherPet</code> schema.</p>
<p>This example shows the <code>allOf</code> usage, which avoids needing to reference all child schemas in the parent:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Pet:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">petType</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">petType:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">discriminator:</span>
        <span class="hljs-attr">propertyName:</span> <span class="hljs-string">petType</span>
        <span class="hljs-attr">mapping:</span>
          <span class="hljs-attr">dog:</span> <span class="hljs-string">Dog</span>
    <span class="hljs-attr">Cat:</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-comment"># all other properties specific to a `Cat`</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">name:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">Dog:</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-comment"># all other properties specific to a `Dog`</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">bark:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-attr">Lizard:</span>
      <span class="hljs-attr">allOf:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Pet'</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
          <span class="hljs-comment"># all other properties specific to a `Lizard`</span>
          <span class="hljs-attr">properties:</span>
            <span class="hljs-attr">lovesRocks:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">boolean</span>
</code></pre>
<p>Validated against the <code>Pet</code> schema, a payload like this:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"petType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Cat"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Misty"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>will indicate that the <code>#/components/schemas/Cat</code> schema is expected to match. Likewise this payload:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"petType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dog"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bark"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"soft"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>will map to <code>#/components/schemas/Dog</code> because the <code>dog</code> entry in the <code>mapping</code> element maps to <code>Dog</code> which is the schema name for <code>#/components/schemas/Dog</code>.</p>
</section></section><section id="xml-object"><div class="header-wrapper"><h3 id="x4-26-xml-object"><bdi class="secno">4.26 </bdi>XML Object</h3><a class="self-link" href="#xml-object" aria-label="Permalink for Section 4.26"></a></div>
<p>A metadata object that allows for more fine-tuned XML model definitions.
When using a Schema Object with XML, if no XML Object is present, the behavior is determined by the XML Objectโs default field values.</p>
<section id="fixed-fields-22"><div class="header-wrapper"><h4 id="x4-26-1-fixed-fields"><bdi class="secno">4.26.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-22" aria-label="Permalink for Section 4.26.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="xml-node-type"></span>nodeType</td>
<td style="text-align:center"><code>string</code></td>
<td>One of <code>element</code>, <code>attribute</code>, <code>text</code>, <code>cdata</code>, or <code>none</code>, as explained under <a href="#xml-node-types">XML Node Types</a>.  The default value is <code>none</code> if <code>$ref</code>, <code>$dynamicRef</code>, or <code>type: "array"</code> is present in the <a href="#schema-object">Schema Object</a> containing the XML Object, and <code>element</code> otherwise.</td>
</tr>
<tr>
<td><span id="xml-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td>Sets the name of the element/attribute corresponding to the schema, replacing the name that was inferred as described under <a href="#xml-node-names">XML Node Names</a>. This field <em class="rfc2119">SHALL</em> be ignored if the <code>nodeType</code> is <code>text</code>, <code>cdata</code>, or <code>none</code>.</td>
</tr>
<tr>
<td><span id="xml-namespace"></span>namespace</td>
<td style="text-align:center"><code>string</code></td>
<td>The IRI ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3987" title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>]) of the namespace definition. Value <em class="rfc2119">MUST</em> be in the form of a non-relative IRI.</td>
</tr>
<tr>
<td><span id="xml-prefix"></span>prefix</td>
<td style="text-align:center"><code>string</code></td>
<td>The prefix to be used for the <a href="#xml-name">name</a>.</td>
</tr>
<tr>
<td><span id="xml-attribute"></span>attribute</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Declares whether the property definition translates to an attribute instead of an element. Default value is <code>false</code>. If <code>nodeType</code> is present, this field <em class="rfc2119">MUST NOT</em> be present.<br><br><strong>Deprecated:</strong> Use <code>nodeType: "attribute"</code> instead of <code>attribute: true</code></td>
</tr>
<tr>
<td><span id="xml-wrapped"></span>wrapped</td>
<td style="text-align:center"><code>boolean</code></td>
<td><em class="rfc2119">MAY</em> be used only for an array definition. Signifies whether the array is wrapped (for example, <code>&lt;books&gt;&lt;book/&gt;&lt;book/&gt;&lt;/books&gt;</code>) or unwrapped (<code>&lt;book/&gt;&lt;book/&gt;</code>). Default value is <code>false</code>. The definition takes effect only when defined alongside <code>type</code> being <code>"array"</code> (outside the <code>items</code>). If <code>nodeType</code> is present, this field <em class="rfc2119">MUST NOT</em> be present.<br><br><strong>Deprecated:</strong> Use <code>nodeType: "element"</code> instead of <code>wrapped: true</code></td>
</tr>
</tbody>
</table>
<p>Note that when generating an XML document from object data, the order of the nodes is undefined.
Use <code>prefixItems</code> to control node ordering as shown under <a href="#ordered-elements-and-text">Ordered Elements and Text</a>.</p>
<p>See <a href="#appendix-b-data-type-conversion">Appendix B</a> for a discussion of converting values of various types to string representations.</p>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="xml-node-types"><div class="header-wrapper"><h4 id="x4-26-2-xml-node-types"><bdi class="secno">4.26.2 </bdi>XML Node Types</h4><a class="self-link" href="#xml-node-types" aria-label="Permalink for Section 4.26.2"></a></div>
<p>Each Schema Object describes a particular type of XML [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom" title="DOM Standard">DOM</a></cite>] <a href="https://dom.spec.whatwg.org/#interface-node">node</a> which is specified by the <code>nodeType</code> field, which has the following possible values.
Except for the special value <code>none</code>, these values have numeric equivalents in the DOM specification which are given in parentheses after the name:</p>
<ul>
<li><code>element</code> (1): The schema represents an element and describes its contents</li>
<li><code>attribute</code> (2): The schema represents an attribute and describes its value</li>
<li><code>text</code> (3): The schema represents a text node (parsed character data)</li>
<li><code>cdata</code> (4): The schema represents a CDATA section</li>
<li><code>none</code>: The schema does not correspond to any node in the XML document, and the nodes corresponding to its subschema(s) are included directly under its parent schemaโs node</li>
</ul>
<p>The <code>none</code> type is useful for JSON Schema constructs that require more Schema Objects than XML nodes, such as a schema containing only <code>$ref</code> that exists to facilitate re-use rather than imply any structure.</p>
<section id="modeling-element-lists"><div class="header-wrapper"><h5 id="x4-26-2-1-modeling-element-lists"><bdi class="secno">4.26.2.1 </bdi>Modeling Element Lists</h5><a class="self-link" href="#modeling-element-lists" aria-label="Permalink for Section 4.26.2.1"></a></div>
<p>For historical compatibility, schemas of <code>type: "array"</code> default to <code>nodeType: "none"</code>, placing the nodes for each array item directly under the parent node.
This also aligns with the inferred naming behavior defined under <a href="#xml-node-names">XML Node Names</a>.</p>
<p>To produce an element wrapping the list, set an explicit <code>nodeType: "element"</code> on the <code>type: "array"</code> schema.
When doing so, it is advisable to set an explicit name on either the wrapping element or the item elements to avoid them having the same inferred name.
See examples for expected behavior.</p>
</section><section id="implicit-and-explicit-text-nodes"><div class="header-wrapper"><h5 id="x4-26-2-2-implicit-and-explicit-text-nodes"><bdi class="secno">4.26.2.2 </bdi>Implicit and Explicit <code>text</code> Nodes</h5><a class="self-link" href="#implicit-and-explicit-text-nodes" aria-label="Permalink for Section 4.26.2.2"></a></div>
<p>If an <code>element</code> node has a primitive type, then the schema also produces an implicit <code>text</code> node described by the schema for the contents of the <code>element</code> node named by the property name (or <code>name</code> field).</p>
<p>Explicit <code>text</code> nodes are necessary if an element has both attributes and content.</p>
<p>Note that placing two <code>text</code> nodes adjacent to each other is ambiguous for parsing, and the resulting behavior is implementation-defined.</p>
</section></section><section id="xml-node-names"><div class="header-wrapper"><h4 id="x4-26-3-xml-node-names"><bdi class="secno">4.26.3 </bdi>XML Node Names</h4><a class="self-link" href="#xml-node-names" aria-label="Permalink for Section 4.26.3"></a></div>
<p>The <code>element</code> and <code>attribute</code> node types require a name, which <em class="rfc2119">MUST</em> be inferred from the schema as follows, unless overridden by the <code>name</code> field:</p>
<ul>
<li>For schemas directly under the <a href="#components-object">Components Objectโs</a> <code>schemas</code> field, the component name is the inferred name.</li>
<li>For property schemas, and for array item schemas under a property schema, the property name is the inferred name.</li>
<li>In all other cases, such as an inline schema under a <a href="#media-type-object">Media Type Objectโs</a> <code>schema</code> field, no name can be inferred and an XML Object with a <code>name</code> field <em class="rfc2119">MUST</em> be present.</li>
</ul>
<p>Note that when using arrays, singular vs plural forms are <em>not</em> inferred, and must be set explicitly.</p>
</section><section id="namespace-limitations"><div class="header-wrapper"><h4 id="x4-26-4-namespace-limitations"><bdi class="secno">4.26.4 </bdi>Namespace Limitations</h4><a class="self-link" href="#namespace-limitations" aria-label="Permalink for Section 4.26.4"></a></div>
<p>The <code>namespace</code> field is intended to match the syntax of <cite><a class="bibref" data-link-type="biblio" href="#bib-xml-names11" title="Namespaces in XML 1.1 (Second Edition)">XML namespaces</a></cite>, although there are a few caveats:</p>
<ul>
<li>Versions 3.1.0, 3.0.3, and earlier of this specification erroneously used the term โabsolute URIโ instead of โnon-relative URIโ (โnon-relative IRIโ as of OAS v3.2.0), so authors using namespaces that include a fragment should check tooling support carefully.</li>
<li>XML allows but discourages relative IRI-references, while this specification outright forbids them.</li>
</ul>
</section><section id="handling-null-values"><div class="header-wrapper"><h4 id="x4-26-5-handling-null-values"><bdi class="secno">4.26.5 </bdi>Handling <code>null</code> Values</h4><a class="self-link" href="#handling-null-values" aria-label="Permalink for Section 4.26.5"></a></div>
<p>XML does not, by default, have a concept equivalent to <code>null</code>, and to preserve compatibility with version 3.1.1 and earlier of this specification, the behavior of serializing <code>null</code> values is implementation-defined.</p>
<p>However, implementations <em class="rfc2119">SHOULD</em> handle <code>null</code> values as follows:</p>
<ul>
<li>For elements, produce an empty element with an <code>xsi:nil="true"</code> attribute.</li>
<li>For attributes, omit the attribute.</li>
<li>For text and CDATA sections, see <a href="#appendix-b-data-type-conversion">Appendix B</a> for a discussion of serializing non-text values to text.</li>
</ul>
<p>Note that for attributes, this makes either a <code>null</code> value or a missing property serialize to an omitted attribute.
As the Schema Object validates the in-memory representation, this allows handling the combination of <code>null</code> and a required property.
However, because there is no distinct way to represent <code>null</code> as an attribute, it is <em class="rfc2119">RECOMMENDED</em> to make attribute properties optional rather than use <code>null</code>.</p>
<p>To ensure correct round-trip behavior, when parsing an element that omits an attribute, implementations <em class="rfc2119">SHOULD</em> set the corresponding property to <code>null</code> if the schema allows for that value (e.g. <code>type: ["number", "null"]</code>), and omit the property otherwise (e.g.<code>type: "number"</code>).</p>
</section><section id="xml-object-examples"><div class="header-wrapper"><h4 id="x4-26-6-xml-object-examples"><bdi class="secno">4.26.6 </bdi>XML Object Examples</h4><a class="self-link" href="#xml-object-examples" aria-label="Permalink for Section 4.26.6"></a></div>
<p>The Schema Objects are followed by an example XML representation produced for the schema shown.
For examples using <code>attribute</code> or <code>wrapped</code>, please see version 3.1 of the OpenAPI Specification.</p>
<section id="no-xml-object"><div class="header-wrapper"><h5 id="x4-26-6-1-no-xml-object"><bdi class="secno">4.26.6.1 </bdi>No XML Object</h5><a class="self-link" href="#no-xml-object" aria-label="Permalink for Section 4.26.6.1"></a></div>
<p>Basic string property without an XML Object, using <code>serializedValue</code> (the remaining examples will use <code>externalValue</code> so that the XML form can be shown with syntax highlighting):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span> <span class="hljs-string">dog,</span> <span class="hljs-string">cat,</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">serializedValue:</span> <span class="hljs-string">|
        &lt;document&gt;
          &lt;animals&gt;dog, cat, hamster&lt;/animals&gt;
        &lt;/document&gt;
</span></code></pre>
<p>Basic string array property (<code>nodeType</code> is <code>none</code> by default):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
</section><section id="xml-name-replacement"><div class="header-wrapper"><h5 id="x4-26-6-2-xml-name-replacement"><bdi class="secno">4.26.6.2 </bdi>XML Name Replacement</h5><a class="self-link" href="#xml-name-replacement" aria-label="Permalink for Section 4.26.6.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
</section><section id="xml-attribute-prefix-and-namespace"><div class="header-wrapper"><h5 id="x4-26-6-3-xml-attribute-prefix-and-namespace"><bdi class="secno">4.26.6.3 </bdi>XML Attribute, Prefix and Namespace</h5><a class="self-link" href="#xml-attribute-prefix-and-namespace" aria-label="Permalink for Section 4.26.6.3"></a></div>
<p>Note that the name of the root XML element comes from the component name.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Person:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">id:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">integer</span>
          <span class="hljs-attr">format:</span> <span class="hljs-string">int32</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">attribute</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">namespace:</span> <span class="hljs-string">https://example.com/schema/sample</span>
            <span class="hljs-attr">prefix:</span> <span class="hljs-string">sample</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">Person:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/xml:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Person"</span>
          <span class="hljs-attr">examples:</span>
            <span class="hljs-attr">Person:</span>
              <span class="hljs-attr">dataValue:</span>
                <span class="hljs-attr">id:</span> <span class="hljs-number">123</span>
                <span class="hljs-attr">name:</span> <span class="hljs-string">example</span>
              <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/Person.xml</span>
</code></pre>
<p>Where <code>./examples/Person.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"123"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sample:name</span> <span class="hljs-attr">xmlns:sample</span>=<span class="hljs-string">"https://example.com/schema/sample"</span>&gt;</span>example<span class="hljs-tag">&lt;/<span class="hljs-name">sample:name</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Person</span>&gt;</span>
</code></pre>
</section><section id="xml-arrays"><div class="header-wrapper"><h5 id="x4-26-6-4-xml-arrays"><bdi class="secno">4.26.6.4 </bdi>XML Arrays</h5><a class="self-link" href="#xml-arrays" aria-label="Permalink for Section 4.26.6.4"></a></div>
<p>Changing the element names:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
<p>The <code>name</code> field for the <code>type: "array"</code> schema has no effect because the default <code>nodeType</code> for that object is <code>none</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">aliens</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
<p>Even when a wrapping element is explicitly created by setting <code>nodeType</code> to <code>element</code>, if a name is not explicitly defined, the same name will be used for both the wrapping element and the list item elements:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
<p>To overcome the naming problem in the example above, the following definition can be used:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
<p>Affecting both wrapping element and item element names:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">aliens</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">aliens</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">animal</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">animal</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">aliens</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
<p>If we change the wrapping element name but not the item element names:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">document</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">animals:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">aliens</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
        <span class="hljs-attr">items:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">animals:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">dog</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">cat</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">hamster</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/pets.xml</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">document</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">aliens</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aliens</span>&gt;</span>dog<span class="hljs-tag">&lt;/<span class="hljs-name">aliens</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aliens</span>&gt;</span>cat<span class="hljs-tag">&lt;/<span class="hljs-name">aliens</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aliens</span>&gt;</span>hamster<span class="hljs-tag">&lt;/<span class="hljs-name">aliens</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">aliens</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">document</span>&gt;</span>
</code></pre>
</section><section id="elements-with-attributes-and-text"><div class="header-wrapper"><h5 id="x4-26-6-5-elements-with-attributes-and-text"><bdi class="secno">4.26.6.5 </bdi>Elements With Attributes And Text</h5><a class="self-link" href="#elements-with-attributes-and-text" aria-label="Permalink for Section 4.26.6.5"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">animals</span>
    <span class="hljs-attr">items:</span>
      <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">animal</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">kind:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">attribute</span>
        <span class="hljs-attr">name:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">text</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">pets:</span>
      <span class="hljs-attr">dataValue:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Cat</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Fluffy</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Dog</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Fido</span>
</code></pre>
<p>Where <code>./examples/pets.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"Cat"</span>&gt;</span>Fluffy<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animal</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"Dog"</span>&gt;</span>Fido<span class="hljs-tag">&lt;/<span class="hljs-name">animals</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">animals</span>&gt;</span>
</code></pre>
</section><section id="referenced-element-with-cdata"><div class="header-wrapper"><h5 id="x4-26-6-6-referenced-element-with-cdata"><bdi class="secno">4.26.6.6 </bdi>Referenced Element With CDATA</h5><a class="self-link" href="#referenced-element-with-cdata" aria-label="Permalink for Section 4.26.6.6"></a></div>
<p>In this example, no element is created for the Schema Object that contains only  the <code>$ref</code>, as its <code>nodeType</code> defaults to <code>none</code>.
It is necessary to create a subschema for the CDATA section as otherwise the content would be treated as an implicit node of type <code>text</code>.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Documentation:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">contentMediaType:</span> <span class="hljs-string">text/html</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">cdata</span>
  <span class="hljs-attr">responses:</span>
    <span class="hljs-attr">content:</span>
      <span class="hljs-attr">application/xml:</span>
        <span class="hljs-attr">schema:</span>
          <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Documentation"</span>
        <span class="hljs-attr">examples:</span>
          <span class="hljs-attr">docs:</span>
            <span class="hljs-attr">dataValue:</span>
              <span class="hljs-attr">content:</span> <span class="hljs-string">&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome</span> <span class="hljs-string">Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;</span>
            <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/docs.xml</span>
</code></pre>
<p>Where <code>./examples/docs.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">Documentation</span>&gt;</span>
  &lt;![CDATA[&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;]]&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">Documentation</span>&gt;</span>
</code></pre>
<p>Alternatively, the named root element could be set at the point of use and the root element disabled on the component (note that in this example, the same <code>dataValue</code> is used in two places with different serializations shown with <code>externalValue</code>):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">paths:</span>
  <span class="hljs-string">/docs:</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">"200":</span>
          <span class="hljs-attr">content:</span>
            <span class="hljs-attr">application/xml:</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-attr">xml:</span>
                  <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
                  <span class="hljs-attr">name:</span> <span class="hljs-string">StoredDocument</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Documentation"</span>
              <span class="hljs-attr">examples:</span>
                <span class="hljs-attr">stored:</span>
                  <span class="hljs-attr">dataValue:</span>
                    <span class="hljs-attr">content:</span> <span class="hljs-string">&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome</span> <span class="hljs-string">Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;</span>
                  <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/stored.xml</span>
    <span class="hljs-attr">put:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/xml:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-attr">xml:</span>
                <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
                <span class="hljs-attr">name:</span> <span class="hljs-string">UpdatedDocument</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">"#/components/schemas/Documentation"</span>
            <span class="hljs-attr">examples:</span>
              <span class="hljs-attr">updated:</span>
                <span class="hljs-attr">dataValue:</span>
                  <span class="hljs-attr">content:</span> <span class="hljs-string">&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome</span> <span class="hljs-string">Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;</span>
                <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/updated.xml</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">"201":</span> {}
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Documentation:</span>
      <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">nodeType:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">contentMediaType:</span> <span class="hljs-string">text/html</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">cdata</span>
</code></pre>
<p>where <code>./examples/stored.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">StoredDocument</span>&gt;</span>
  &lt;![CDATA[&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;]]&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">StoredDocument</span>&gt;</span>
</code></pre>
<p>and <code>./examples/updated.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">UpdatedDocument</span>&gt;</span>
  &lt;![CDATA[&lt;html&gt;&lt;head&gt;&lt;title&gt;Awesome Docs&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;html&gt;]]&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">UpdatedDocument</span>&gt;</span>
</code></pre>
</section><section id="ordered-elements-and-text"><div class="header-wrapper"><h5 id="x4-26-6-7-ordered-elements-and-text"><bdi class="secno">4.26.6.7 </bdi>Ordered Elements and Text</h5><a class="self-link" href="#ordered-elements-and-text" aria-label="Permalink for Section 4.26.6.7"></a></div>
<p>To control the exact order of elements, use the <code>prefixItems</code> keyword.
With this approach, it is necessary to set the element names using the XML Object as they would otherwise all inherit the parentโs name despite being different elements in a specific order.
It is also necessary to set <code>nodeType: "element"</code> explicitly on the array in order to get an element containing the sequence.</p>
<p>This first ordered example shows a sequence of elements, as well as the recommended serialization of <code>null</code> for elements:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">OneTwoThree</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">minLength:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">maxLength:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">prefixItems:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">One</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Two</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">required:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">unit</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">value</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">unit:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">attribute</span>
        <span class="hljs-attr">value:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
          <span class="hljs-attr">xml:</span>
            <span class="hljs-attr">nodeType:</span> <span class="hljs-string">text</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">Three</span>
      <span class="hljs-attr">type:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">boolean</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"null"</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">OneTwoThree:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">Some</span> <span class="hljs-string">text</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">unit:</span> <span class="hljs-string">cubits</span>
          <span class="hljs-attr">value:</span> <span class="hljs-number">42</span>
        <span class="hljs-literal">null</span>
      <span class="hljs-string">]</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/OneTwoThree.xml</span>
</code></pre>
<p>Where <code>./examples/OneTwoThree.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">OneTwoThree</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">One</span>&gt;</span>Some text<span class="hljs-tag">&lt;/<span class="hljs-name">One</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Two</span> <span class="hljs-attr">unit</span>=<span class="hljs-string">"cubits"</span>&gt;</span>42<span class="hljs-tag">&lt;/<span class="hljs-name">Two</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Three</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">OneTwoThree</span>&gt;</span>
</code></pre>
<p>In this next example, the <code>name</code> needs to be set for the element, while the <code>nodeType</code> needs to be set for the text nodes.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">nodeType:</span> <span class="hljs-string">element</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">Report</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">prefixItems:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">nodeType:</span> <span class="hljs-string">text</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">data</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">xml:</span>
        <span class="hljs-attr">nodeType:</span> <span class="hljs-string">text</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">Report:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">Some</span> <span class="hljs-string">preamble</span> <span class="hljs-string">text.</span>
        <span class="hljs-bullet">-</span> <span class="hljs-number">42</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">Some</span> <span class="hljs-string">postamble</span> <span class="hljs-string">text.</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/Report.xml</span>
</code></pre>
<p>Where <code>./examples/Report.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">Report</span>&gt;</span>Some preamble text.<span class="hljs-tag">&lt;<span class="hljs-name">data</span>&gt;</span>42<span class="hljs-tag">&lt;/<span class="hljs-name">data</span>&gt;</span>Some postamble text.<span class="hljs-tag">&lt;/<span class="hljs-name">Report</span>&gt;</span>
</code></pre>
</section><section id="xml-with-null-values"><div class="header-wrapper"><h5 id="x4-26-6-8-xml-with-null-values"><bdi class="secno">4.26.6.8 </bdi>XML With <code>null</code> Values</h5><a class="self-link" href="#xml-with-null-values" aria-label="Permalink for Section 4.26.6.8"></a></div>
<p>Recall that the schema validates the in-memory data, not the XML document itself.
This example does not define properties for <code>"related"</code> as it is showing how
empty objects and <code>null</code> are handled.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">application/xml:</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">xml:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">product</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">required:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">count</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">description</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">related</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">count:</span>
        <span class="hljs-attr">type:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">number</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">"null"</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">attribute</span>
      <span class="hljs-attr">rating:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">xml:</span>
          <span class="hljs-attr">nodeType:</span> <span class="hljs-string">attribute</span>
      <span class="hljs-attr">description:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
      <span class="hljs-attr">related:</span>
        <span class="hljs-attr">type:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">object</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">"null"</span>
  <span class="hljs-attr">examples:</span>
    <span class="hljs-attr">productWithNulls:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">count:</span> <span class="hljs-literal">null</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Thing</span>
        <span class="hljs-attr">related:</span> <span class="hljs-literal">null</span>
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/productWithNulls.xml</span>
    <span class="hljs-attr">productNoNulls:</span>
      <span class="hljs-attr">dataValue:</span>
        <span class="hljs-attr">count:</span> <span class="hljs-number">42</span>
        <span class="hljs-attr">description:</span> <span class="hljs-string">Thing</span>
        <span class="hljs-attr">related:</span> {}
      <span class="hljs-attr">externalValue:</span> <span class="hljs-string">./examples/productNoNulls.xml</span>
</code></pre>
<p>Where <code>./examples/productWithNulls.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">product</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Thing<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">related</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">product</span>&gt;</span>
</code></pre>
<p>and <code>./examples/productNoNulls.xml</code> would be:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-tag">&lt;<span class="hljs-name">product</span> <span class="hljs-attr">count</span>=<span class="hljs-string">"42"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Thing<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">related</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">related</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">product</span>&gt;</span>
</code></pre>
</section></section></section><section id="security-scheme-object"><div class="header-wrapper"><h3 id="x4-27-security-scheme-object"><bdi class="secno">4.27 </bdi>Security Scheme Object</h3><a class="self-link" href="#security-scheme-object" aria-label="Permalink for Section 4.27"></a></div>
<p>Defines a security scheme that can be used by the operations.</p>
<p>Supported schemes are HTTP authentication, an API key (either as a header, a cookie parameter or as a query parameter), mutual TLS (use of a client certificate), OAuth2โs common flows (implicit, password, client credentials and authorization code) as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6749" title="The OAuth 2.0 Authorization Framework">RFC6749</a></cite>], OAuth2 device authorization flow as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8628" title="OAuth 2.0 Device Authorization Grant">RFC8628</a></cite>], and [<cite><a class="bibref" data-link-type="biblio" href="#bib-openid-connect-core" title="OpenID Connect Core 1.0 incorporating errata set 2">OpenID-Connect-Core</a></cite>].
Please note that as of 2020, the implicit flow is about to be deprecated by <a href="https://tools.ietf.org/html/draft-ietf-oauth-security-topics">OAuth 2.0 Security Best Current Practice</a>. Recommended for most use cases is Authorization Code Grant flow with PKCE.</p>
<section id="fixed-fields-23"><div class="header-wrapper"><h4 id="x4-27-1-fixed-fields"><bdi class="secno">4.27.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-23" aria-label="Permalink for Section 4.27.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Applies To</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="security-scheme-type"></span>type</td>
<td style="text-align:center"><code>string</code></td>
<td>Any</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The type of the security scheme. Valid values are <code>"apiKey"</code>, <code>"http"</code>, <code>"mutualTLS"</code>, <code>"oauth2"</code>, <code>"openIdConnect"</code>.</td>
</tr>
<tr>
<td><span id="security-scheme-description"></span>description</td>
<td style="text-align:center"><code>string</code></td>
<td>Any</td>
<td>A description for security scheme. [<cite><a class="bibref" data-link-type="biblio" href="#bib-commonmark" title="CommonMark Spec">CommonMark</a></cite>] syntax <em class="rfc2119">MAY</em> be used for rich text representation.</td>
</tr>
<tr>
<td><span id="security-scheme-name"></span>name</td>
<td style="text-align:center"><code>string</code></td>
<td><code>apiKey</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the header, query or cookie parameter to be used.</td>
</tr>
<tr>
<td><span id="security-scheme-in"></span>in</td>
<td style="text-align:center"><code>string</code></td>
<td><code>apiKey</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The location of the API key. Valid values are <code>"query"</code>, <code>"header"</code>, or <code>"cookie"</code>.</td>
</tr>
<tr>
<td><span id="security-scheme-scheme"></span>scheme</td>
<td style="text-align:center"><code>string</code></td>
<td><code>http</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The name of the HTTP Authentication scheme to be used in the Authorization header as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-16.4.1">Section 16.4.1</a>. The values used <em class="rfc2119">SHOULD</em> be registered in the <cite><a class="bibref" data-link-type="biblio" href="#bib-iana-http-authschemes" title="Hypertext Transfer Protocol (HTTP) Authentication Scheme Registry">IANA Authentication Scheme registry</a></cite>. The value is case-insensitive, as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc9110#section-11.1">Section 11.1</a>.</td>
</tr>
<tr>
<td><span id="security-scheme-bearer-format"></span>bearerFormat</td>
<td style="text-align:center"><code>string</code></td>
<td><code>http</code> (<code>"bearer"</code>)</td>
<td>A hint to the client to identify how the bearer token is formatted. Bearer tokens are usually generated by an authorization server, so this information is primarily for documentation purposes.</td>
</tr>
<tr>
<td><span id="security-scheme-flows"></span>flows</td>
<td style="text-align:center"><a href="#oauth-flows-object">OAuth Flows Object</a></td>
<td><code>oauth2</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. An object containing configuration information for the flow types supported.</td>
</tr>
<tr>
<td><span id="security-scheme-open-id-connect-url"></span>openIdConnectUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>openIdConnect</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig">Well-known URL</a> to discover the [<cite><a class="bibref" data-link-type="biblio" href="#bib-openid-connect-discovery" title="OpenID Connect Discovery 1.0 incorporating errata set 2">OpenID-Connect-Discovery</a></cite>] <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">provider metadata</a>.</td>
</tr>
<tr>
<td><span id="security-scheme-oauth2-metadata-url"></span>oauth2MetadataUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>oauth2</code></td>
<td>URL to the OAuth2 authorization server metadata [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8414" title="OAuth 2.0 Authorization Server Metadata">RFC8414</a></cite>]. TLS is required.</td>
</tr>
<tr>
<td><span id="security-scheme-deprecated"></span>deprecated</td>
<td style="text-align:center"><code>boolean</code></td>
<td>Any</td>
<td>Declares this security scheme to be deprecated. Consumers <em class="rfc2119">SHOULD</em> refrain from usage of the declared scheme. Default value is <code>false</code>.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="security-scheme-object-examples"><div class="header-wrapper"><h4 id="x4-27-2-security-scheme-object-examples"><bdi class="secno">4.27.2 </bdi>Security Scheme Object Examples</h4><a class="self-link" href="#security-scheme-object-examples" aria-label="Permalink for Section 4.27.2"></a></div>
<section id="basic-authentication-example"><div class="header-wrapper"><h5 id="x4-27-2-1-basic-authentication-example"><bdi class="secno">4.27.2.1 </bdi>Basic Authentication Example</h5><a class="self-link" href="#basic-authentication-example" aria-label="Permalink for Section 4.27.2.1"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">http</span>
<span class="hljs-attr">scheme:</span> <span class="hljs-string">basic</span>
</code></pre>
</section><section id="api-key-example"><div class="header-wrapper"><h5 id="x4-27-2-2-api-key-example"><bdi class="secno">4.27.2.2 </bdi>API Key Example</h5><a class="self-link" href="#api-key-example" aria-label="Permalink for Section 4.27.2.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">apiKey</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">api-key</span>
<span class="hljs-attr">in:</span> <span class="hljs-string">header</span>
</code></pre>
</section><section id="jwt-bearer-example"><div class="header-wrapper"><h5 id="x4-27-2-3-jwt-bearer-example"><bdi class="secno">4.27.2.3 </bdi>JWT Bearer Example</h5><a class="self-link" href="#jwt-bearer-example" aria-label="Permalink for Section 4.27.2.3"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">http</span>
<span class="hljs-attr">scheme:</span> <span class="hljs-string">bearer</span>
<span class="hljs-attr">bearerFormat:</span> <span class="hljs-string">JWT</span>
</code></pre>
</section><section id="mutualtls-example"><div class="header-wrapper"><h5 id="x4-27-2-4-mutualtls-example"><bdi class="secno">4.27.2.4 </bdi>MutualTLS Example</h5><a class="self-link" href="#mutualtls-example" aria-label="Permalink for Section 4.27.2.4"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">mutualTLS</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Cert</span> <span class="hljs-string">must</span> <span class="hljs-string">be</span> <span class="hljs-string">signed</span> <span class="hljs-string">by</span> <span class="hljs-string">example.com</span> <span class="hljs-string">CA</span>
</code></pre>
</section><section id="implicit-oauth2-example"><div class="header-wrapper"><h5 id="x4-27-2-5-implicit-oauth2-example"><bdi class="secno">4.27.2.5 </bdi>Implicit OAuth2 Example</h5><a class="self-link" href="#implicit-oauth2-example" aria-label="Permalink for Section 4.27.2.5"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">oauth2</span>
<span class="hljs-attr">flows:</span>
  <span class="hljs-attr">implicit:</span>
    <span class="hljs-attr">authorizationUrl:</span> <span class="hljs-string">https://example.com/api/oauth/dialog</span>
    <span class="hljs-attr">scopes:</span>
      <span class="hljs-attr">write:pets:</span> <span class="hljs-string">modify</span> <span class="hljs-string">pets</span> <span class="hljs-string">in</span> <span class="hljs-string">your</span> <span class="hljs-string">account</span>
      <span class="hljs-attr">read:pets:</span> <span class="hljs-string">read</span> <span class="hljs-string">your</span> <span class="hljs-string">pets</span>
</code></pre>
</section></section></section><section id="oauth-flows-object"><div class="header-wrapper"><h3 id="x4-28-oauth-flows-object"><bdi class="secno">4.28 </bdi>OAuth Flows Object</h3><a class="self-link" href="#oauth-flows-object" aria-label="Permalink for Section 4.28"></a></div>
<p>Allows configuration of the supported OAuth Flows.</p>
<section id="fixed-fields-24"><div class="header-wrapper"><h4 id="x4-28-1-fixed-fields"><bdi class="secno">4.28.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-24" aria-label="Permalink for Section 4.28.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="oauth-flows-implicit"></span>implicit</td>
<td style="text-align:center"><a href="#oauth-flow-object">OAuth Flow Object</a></td>
<td>Configuration for the OAuth Implicit flow</td>
</tr>
<tr>
<td><span id="oauth-flows-password"></span>password</td>
<td style="text-align:center"><a href="#oauth-flow-object">OAuth Flow Object</a></td>
<td>Configuration for the OAuth Resource Owner Password flow</td>
</tr>
<tr>
<td><span id="oauth-flows-client-credentials"></span>clientCredentials</td>
<td style="text-align:center"><a href="#oauth-flow-object">OAuth Flow Object</a></td>
<td>Configuration for the OAuth Client Credentials flow. Previously called <code>application</code> in OpenAPI 2.0.</td>
</tr>
<tr>
<td><span id="oauth-flows-authorization-code"></span>authorizationCode</td>
<td style="text-align:center"><a href="#oauth-flow-object">OAuth Flow Object</a></td>
<td>Configuration for the OAuth Authorization Code flow. Previously called <code>accessCode</code> in OpenAPI 2.0.</td>
</tr>
<tr>
<td><span id="oauth-flows-device-authorization"></span>deviceAuthorization</td>
<td style="text-align:center"><a href="#oauth-flow-object">OAuth Flow Object</a></td>
<td>Configuration for the OAuth Device Authorization flow.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section></section><section id="oauth-flow-object"><div class="header-wrapper"><h3 id="x4-29-oauth-flow-object"><bdi class="secno">4.29 </bdi>OAuth Flow Object</h3><a class="self-link" href="#oauth-flow-object" aria-label="Permalink for Section 4.29"></a></div>
<p>Configuration details for a supported OAuth Flow</p>
<section id="fixed-fields-25"><div class="header-wrapper"><h4 id="x4-29-1-fixed-fields"><bdi class="secno">4.29.1 </bdi>Fixed Fields</h4><a class="self-link" href="#fixed-fields-25" aria-label="Permalink for Section 4.29.1"></a></div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align:center">Type</th>
<th>Applies To</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="oauth-flow-authorization-url"></span>authorizationUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>oauth2</code> (<code>"implicit"</code>, <code>"authorizationCode"</code>)</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The authorization URL to be used for this flow. This <em class="rfc2119">MUST</em> be in the form of a URL. The OAuth2 standard requires the use of TLS.</td>
</tr>
<tr>
<td><span id="oauth-flow-device-authorization-url"></span>deviceAuthorizationUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>oauth2</code> (<code>"deviceAuthorization"</code>)</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The device authorization URL to be used for this flow. This <em class="rfc2119">MUST</em> be in the form of a URL. The OAuth2 standard requires the use of TLS.</td>
</tr>
<tr>
<td><span id="oauth-flow-token-url"></span>tokenUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>oauth2</code> (<code>"password"</code>, <code>"clientCredentials"</code>, <code>"authorizationCode"</code>, <code>"deviceAuthorization"</code>)</td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The token URL to be used for this flow. This <em class="rfc2119">MUST</em> be in the form of a URL. The OAuth2 standard requires the use of TLS.</td>
</tr>
<tr>
<td><span id="oauth-flow-refresh-url"></span>refreshUrl</td>
<td style="text-align:center"><code>string</code></td>
<td><code>oauth2</code></td>
<td>The URL to be used for obtaining refresh tokens. This <em class="rfc2119">MUST</em> be in the form of a URL. The OAuth2 standard requires the use of TLS.</td>
</tr>
<tr>
<td><span id="oauth-flow-scopes"></span>scopes</td>
<td style="text-align:center">Map[<code>string</code>, <code>string</code>]</td>
<td><code>oauth2</code></td>
<td><strong><em class="rfc2119">REQUIRED</em></strong>. The available scopes for the OAuth2 security scheme. A map between the scope name and a short description for it. The map <em class="rfc2119">MAY</em> be empty.</td>
</tr>
</tbody>
</table>
<p>This object <em class="rfc2119">MAY</em> be extended with <a href="#specification-extensions">Specification Extensions</a>.</p>
</section><section id="oauth-flow-object-example"><div class="header-wrapper"><h4 id="x4-29-2-oauth-flow-object-example"><bdi class="secno">4.29.2 </bdi>OAuth Flow Object Example</h4><a class="self-link" href="#oauth-flow-object-example" aria-label="Permalink for Section 4.29.2"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">type:</span> <span class="hljs-string">oauth2</span>
<span class="hljs-attr">flows:</span>
  <span class="hljs-attr">implicit:</span>
    <span class="hljs-attr">authorizationUrl:</span> <span class="hljs-string">https://example.com/api/oauth/dialog</span>
    <span class="hljs-attr">scopes:</span>
      <span class="hljs-attr">write:pets:</span> <span class="hljs-string">modify</span> <span class="hljs-string">pets</span> <span class="hljs-string">in</span> <span class="hljs-string">your</span> <span class="hljs-string">account</span>
      <span class="hljs-attr">read:pets:</span> <span class="hljs-string">read</span> <span class="hljs-string">your</span> <span class="hljs-string">pets</span>
  <span class="hljs-attr">authorizationCode:</span>
    <span class="hljs-attr">authorizationUrl:</span> <span class="hljs-string">https://example.com/api/oauth/dialog</span>
    <span class="hljs-attr">tokenUrl:</span> <span class="hljs-string">https://example.com/api/oauth/token</span>
    <span class="hljs-attr">scopes:</span>
      <span class="hljs-attr">write:pets:</span> <span class="hljs-string">modify</span> <span class="hljs-string">pets</span> <span class="hljs-string">in</span> <span class="hljs-string">your</span> <span class="hljs-string">account</span>
      <span class="hljs-attr">read:pets:</span> <span class="hljs-string">read</span> <span class="hljs-string">your</span> <span class="hljs-string">pets</span>
</code></pre>
</section></section><section id="security-requirement-object"><div class="header-wrapper"><h3 id="x4-30-security-requirement-object"><bdi class="secno">4.30 </bdi>Security Requirement Object</h3><a class="self-link" href="#security-requirement-object" aria-label="Permalink for Section 4.30"></a></div>
<p>Lists the required security schemes to execute this operation.</p>
<p>The name used for each property <em class="rfc2119">MUST</em> either correspond to a security scheme declared in the <a href="#components-security-schemes">Security Schemes</a> under the <a href="#components-object">Components Object</a>, or be the URI of a Security Scheme Object.
Property names that are identical to a component name under the Components Object <em class="rfc2119">MUST</em> be treated as a component name.
To reference a Security Scheme with a single-segment relative URI reference (e.g. <code>foo</code>) that collides with a component name (e.g. <code>#/components/securitySchemes/foo</code>), use the <code>.</code> path segment (e.g. <code>./foo</code>).</p>
<p>Using a Security Scheme component name that appears to be a URI is <em class="rfc2119">NOT RECOMMENDED</em>, as the precedence of component-name-matching over URI resolution, which is necessary to maintain compatibility with prior OAS versions, is counter-intuitive. See also <a href="#security-considerations">Security Considerations</a>.</p>
<p>A Security Requirement Object <em class="rfc2119">MAY</em> refer to multiple security schemes in which case all schemes <em class="rfc2119">MUST</em> be satisfied for a request to be authorized.
This enables support for scenarios where multiple query parameters or HTTP headers are required to convey security information.</p>
<p>When the <code>security</code> field is defined on the <a href="#openapi-object">OpenAPI Object</a> or <a href="#operation-object">Operation Object</a> and contains multiple Security Requirement Objects, only one of the entries in the list needs to be satisfied to authorize the request.
This enables support for scenarios where the API allows multiple, independent security schemes.</p>
<p>An empty Security Requirement Object (<code>{}</code>) indicates anonymous access is supported.</p>
<section id="patterned-fields-2"><div class="header-wrapper"><h4 id="x4-30-1-patterned-fields"><bdi class="secno">4.30.1 </bdi>Patterned Fields</h4><a class="self-link" href="#patterned-fields-2" aria-label="Permalink for Section 4.30.1"></a></div>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="security-requirements-name"></span>{name}</td>
<td style="text-align:center">[<code>string</code>]</td>
<td>Each name or URI <em class="rfc2119">MUST</em> correspond to a security scheme as described above. If the security scheme is of type <code>"oauth2"</code> or <code>"openIdConnect"</code>, then the value is a list of scope names required for the execution, and the list <em class="rfc2119">MAY</em> be empty if authorization does not require a specified scope. For other security scheme types, the array <em class="rfc2119">MAY</em> contain a list of role names which are required for the execution, but are not otherwise defined or exchanged in-band.</td>
</tr>
</tbody>
</table>
</section><section id="security-requirement-object-examples"><div class="header-wrapper"><h4 id="x4-30-2-security-requirement-object-examples"><bdi class="secno">4.30.2 </bdi>Security Requirement Object Examples</h4><a class="self-link" href="#security-requirement-object-examples" aria-label="Permalink for Section 4.30.2"></a></div>
<p>See also <a href="#implicit-connection-resolution-examples">Implicit Connection Resolution Examples</a> in <a href="#appendix-g-parsing-and-resolution-guidance">Appendix G: Parsing and Resolution Guidance</a> for an example using Security Requirement Objects in multi-document OpenAPI Descriptions.</p>
<section id="non-oauth2-security-requirement"><div class="header-wrapper"><h5 id="x4-30-2-1-non-oauth2-security-requirement"><bdi class="secno">4.30.2.1 </bdi>Non-OAuth2 Security Requirement</h5><a class="self-link" href="#non-oauth2-security-requirement" aria-label="Permalink for Section 4.30.2.1"></a></div>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">api_key:</span> []
</code></pre>
</section><section id="oauth2-security-requirement"><div class="header-wrapper"><h5 id="x4-30-2-2-oauth2-security-requirement"><bdi class="secno">4.30.2.2 </bdi>OAuth2 Security Requirement</h5><a class="self-link" href="#oauth2-security-requirement" aria-label="Permalink for Section 4.30.2.2"></a></div>
<p>This example uses a component name for the Security Scheme.</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">petstore_auth:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">write:pets</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">read:pets</span>
</code></pre>
</section><section id="optional-oauth2-security"><div class="header-wrapper"><h5 id="x4-30-2-3-optional-oauth2-security"><bdi class="secno">4.30.2.3 </bdi>Optional OAuth2 Security</h5><a class="self-link" href="#optional-oauth2-security" aria-label="Permalink for Section 4.30.2.3"></a></div>
<p>This example uses a relative URI reference for the Security Scheme.</p>
<p>Optional OAuth2 security as would be defined in an <a href="#openapi-object">OpenAPI Object</a> or an <a href="#operation-object">Operation Object</a>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">security:</span>
  <span class="hljs-bullet">-</span> {}
  <span class="hljs-bullet">-</span> <span class="hljs-attr">petstore_auth:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">write:pets</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">read:pets</span>
</code></pre>
</section></section></section></section><section id="specification-extensions"><div class="header-wrapper"><h2 id="x5-specification-extensions"><bdi class="secno">5. </bdi>Specification Extensions</h2><a class="self-link" href="#specification-extensions" aria-label="Permalink for Section 5."></a></div>
<p>While the OpenAPI Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points.</p>
<p>The extensions properties are implemented as patterned fields that are always prefixed by <code>x-</code>.</p>
<table>
<thead>
<tr>
<th>Field Pattern</th>
<th style="text-align:center">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span id="extension-properties"></span>^x-</td>
<td style="text-align:center">Any</td>
<td>Allows extensions to the OpenAPI Schema. The field name <em class="rfc2119">MUST</em> begin with <code>x-</code>, for example, <code>x-internal-id</code>. Field names beginning <code>x-oai-</code> and <code>x-oas-</code> are reserved for uses defined by the <a href="https://www.openapis.org/">OpenAPI Initiative</a>. The value can be any valid JSON value (<code>null</code>, a primitive, an array, or an object.)</td>
</tr>
</tbody>
</table>
<p>The OpenAPI Initiative maintains several <cite><a class="bibref" data-link-type="biblio" href="#bib-openapi-registry" title="OpenAPI Initiative Registry">extension registries</a></cite>, including registries for <a href="https://spec.openapis.org/registry/extension/">individual extension keywords</a> and <a href="https://spec.openapis.org/registry/namespace/">extension keyword namespaces</a>.</p>
<p>Extensions are one of the best ways to prove the viability of proposed additions to the specification.
It is therefore <em class="rfc2119">RECOMMENDED</em> that implementations be designed for extensibility to support community experimentation.</p>
<p>Support for any one extension is <em class="rfc2119">OPTIONAL</em>, and support for one extension does not imply support for others.</p>
</section><section id="security-considerations"><div class="header-wrapper"><h2 id="x6-security-considerations"><bdi class="secno">6. </bdi>Security Considerations</h2><a class="self-link" href="#security-considerations" aria-label="Permalink for Section 6."></a></div>
<section id="openapi-description-formats"><div class="header-wrapper"><h3 id="x6-1-openapi-description-formats"><bdi class="secno">6.1 </bdi>OpenAPI Description Formats</h3><a class="self-link" href="#openapi-description-formats" aria-label="Permalink for Section 6.1"></a></div>
<p>OpenAPI Descriptions use a combination of JSON, YAML, and JSON Schema, and therefore share their security considerations:</p>
<ul>
<li><a href="https://www.iana.org/assignments/media-types/application/json">JSON</a></li>
<li><a href="https://www.iana.org/assignments/media-types/application/yaml">YAML</a></li>
<li><a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-13">JSON Schema Core</a></li>
<li><a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-validation-01.html#section-10">JSON Schema Validation</a></li>
</ul>
</section><section id="tooling-and-usage-scenarios"><div class="header-wrapper"><h3 id="x6-2-tooling-and-usage-scenarios"><bdi class="secno">6.2 </bdi>Tooling and Usage Scenarios</h3><a class="self-link" href="#tooling-and-usage-scenarios" aria-label="Permalink for Section 6.2"></a></div>
<p>In addition, OpenAPI Descriptions are processed by a wide variety of tooling for numerous different purposes, such as client code generation, documentation generation, server side routing, and API testing. OpenAPI Description authors must consider the risks of the scenarios where the OpenAPI Description may be used.</p>
</section><section id="security-schemes"><div class="header-wrapper"><h3 id="x6-3-security-schemes"><bdi class="secno">6.3 </bdi>Security Schemes</h3><a class="self-link" href="#security-schemes" aria-label="Permalink for Section 6.3"></a></div>
<p>An OpenAPI Description describes the security schemes used to protect the resources it defines. The security schemes available offer varying degrees of protection. Factors such as the sensitivity of the data and the potential impact of a security breach should guide the selection of security schemes for the API resources. Some security schemes, such as basic auth and OAuth Implicit flow, are supported for compatibility with existing APIs. However, their inclusion in OpenAPI does not constitute an endorsement of their use, particularly for highly sensitive data or operations.</p>
<p>The rules for connecting a <a href="#security-requirement-object">Security Requirement Object</a> to a <a href="#security-scheme-object">Security Scheme Object</a> under a <a href="#components-object">Components Object</a> are ambiguous in a way that could be exploited. Specifically:</p>
<ul>
<li>It is implementation-defined whether a component name used by a Security Requirement Object in a referenced document is resolved from the entry document (<em class="rfc2119">RECOMMENDED</em>) or the referenced document.</li>
<li>A Security Requirement Object that uses a URI to identify a Security Scheme Object can have the URI resolution hijacked by providing a Security Scheme component name identical to the URI, as the name lookup behavior takes precedence over URI resolution for compatibility with previous versions of the OAS.</li>
</ul>
</section><section id="security-filtering"><div class="header-wrapper"><h3 id="x6-4-security-filtering"><bdi class="secno">6.4 </bdi>Security Filtering</h3><a class="self-link" href="#security-filtering" aria-label="Permalink for Section 6.4"></a></div>
<p>Some objects in the OpenAPI Specification <em class="rfc2119">MAY</em> be declared and remain empty, or be completely removed, even though they are inherently the core of the API documentation.</p>
<p>The reasoning is to allow an additional layer of access control over the documentation.
While not part of the specification itself, certain libraries <em class="rfc2119">MAY</em> choose to allow access to parts of the documentation based on some form of authentication/authorization.</p>
<p>Two examples of this:</p>
<ol>
<li>The <a href="#paths-object">Paths Object</a> <em class="rfc2119">MAY</em> be present but empty. It may be counterintuitive, but this may tell the viewer that they got to the right place, but canโt access any documentation. They would still have access to at least the <a href="#info-object">Info Object</a> which may contain additional information regarding authentication.</li>
<li>The <a href="#path-item-object">Path Item Object</a> <em class="rfc2119">MAY</em> be empty. In this case, the viewer will be aware that the path exists, but will not be able to see any of its operations or parameters. This is different from hiding the path itself from the <a href="#paths-object">Paths Object</a>, because the user will be aware of its existence. This allows the documentation provider to finely control what the viewer can see.</li>
</ol>
</section><section id="handling-external-resources"><div class="header-wrapper"><h3 id="x6-5-handling-external-resources"><bdi class="secno">6.5 </bdi>Handling External Resources</h3><a class="self-link" href="#handling-external-resources" aria-label="Permalink for Section 6.5"></a></div>
<p>OpenAPI Descriptions may contain references to external resources that may be dereferenced automatically by consuming tools. External resources may be hosted on different domains that may be untrusted.</p>
</section><section id="handling-reference-cycles"><div class="header-wrapper"><h3 id="x6-6-handling-reference-cycles"><bdi class="secno">6.6 </bdi>Handling Reference Cycles</h3><a class="self-link" href="#handling-reference-cycles" aria-label="Permalink for Section 6.6"></a></div>
<p>References in an OpenAPI Description may cause a cycle. Tooling must detect and handle cycles to prevent resource exhaustion.</p>
</section><section id="markdown-and-html-sanitization"><div class="header-wrapper"><h3 id="x6-7-markdown-and-html-sanitization"><bdi class="secno">6.7 </bdi>Markdown and HTML Sanitization</h3><a class="self-link" href="#markdown-and-html-sanitization" aria-label="Permalink for Section 6.7"></a></div>
<p>Certain fields allow the use of Markdown which can contain HTML including script. It is the responsibility of tooling to appropriately sanitize the Markdown.</p>
</section></section><section class="appendix" id="appendix-a-revision-history"><div class="header-wrapper"><h2 id="a-appendix-a-revision-history"><bdi class="secno">A. </bdi>Appendix A: Revision History</h2><a class="self-link" href="#appendix-a-revision-history" aria-label="Permalink for Appendix A."></a></div>
<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.2.0</td>
<td>2025-09-19</td>
<td>Release of the OpenAPI Specification 3.2.0</td>
</tr>
<tr>
<td>3.1.2</td>
<td>2025-09-19</td>
<td>Patch release of the OpenAPI Specification 3.1.2</td>
</tr>
<tr>
<td>3.1.1</td>
<td>2024-10-24</td>
<td>Patch release of the OpenAPI Specification 3.1.1</td>
</tr>
<tr>
<td>3.1.0</td>
<td>2021-02-15</td>
<td>Release of the OpenAPI Specification 3.1.0</td>
</tr>
<tr>
<td>3.1.0-rc1</td>
<td>2020-10-08</td>
<td>rc1 of the 3.1 specification</td>
</tr>
<tr>
<td>3.1.0-rc0</td>
<td>2020-06-18</td>
<td>rc0 of the 3.1 specification</td>
</tr>
<tr>
<td>3.0.4</td>
<td>2024-10-24</td>
<td>Patch release of the OpenAPI Specification 3.0.4</td>
</tr>
<tr>
<td>3.0.3</td>
<td>2020-02-20</td>
<td>Patch release of the OpenAPI Specification 3.0.3</td>
</tr>
<tr>
<td>3.0.2</td>
<td>2018-10-08</td>
<td>Patch release of the OpenAPI Specification 3.0.2</td>
</tr>
<tr>
<td>3.0.1</td>
<td>2017-12-06</td>
<td>Patch release of the OpenAPI Specification 3.0.1</td>
</tr>
<tr>
<td>3.0.0</td>
<td>2017-07-26</td>
<td>Release of the OpenAPI Specification 3.0.0</td>
</tr>
<tr>
<td>3.0.0-rc2</td>
<td>2017-06-16</td>
<td>rc2 of the 3.0 specification</td>
</tr>
<tr>
<td>3.0.0-rc1</td>
<td>2017-04-27</td>
<td>rc1 of the 3.0 specification</td>
</tr>
<tr>
<td>3.0.0-rc0</td>
<td>2017-02-28</td>
<td>Implementerโs Draft of the 3.0 specification</td>
</tr>
<tr>
<td>2.0</td>
<td>2015-12-31</td>
<td>Donation of Swagger 2.0 to the OpenAPI Initiative</td>
</tr>
<tr>
<td>2.0</td>
<td>2014-09-08</td>
<td>Release of Swagger 2.0</td>
</tr>
<tr>
<td>1.2</td>
<td>2014-03-14</td>
<td>Initial release of the formal document.</td>
</tr>
<tr>
<td>1.1</td>
<td>2012-08-22</td>
<td>Release of Swagger 1.1</td>
</tr>
<tr>
<td>1.0</td>
<td>2011-08-10</td>
<td>First release of the Swagger Specification</td>
</tr>
</tbody>
</table>
</section><section class="appendix" id="appendix-b-data-type-conversion"><div class="header-wrapper"><h2 id="b-appendix-b-data-type-conversion"><bdi class="secno">B. </bdi>Appendix B: Data Type Conversion</h2><a class="self-link" href="#appendix-b-data-type-conversion" aria-label="Permalink for Appendix B."></a></div>
<p>Serializing typed data to plain text, which can occur in <code>text/plain</code> message bodies or <code>multipart</code> parts, as well as in the <code>application/x-www-form-urlencoded</code> format in either URL query strings or message bodies, involves significant implementation- or application-defined behavior.</p>
<p><a href="#schema-object">Schema Objects</a> validate data based on the <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#section-4.2.1">JSON Schema data model</a>, which only recognizes four primitive data types: strings (which are <a href="https://tools.ietf.org/html/rfc7159#section-8.1">only broadly interoperable as UTF-8</a>), numbers, booleans, and <code>null</code>.
Notably, integers are not a distinct type from other numbers, with <code>type: "integer"</code> being a convenience defined mathematically, rather than based on the presence or absence of a decimal point in any string representation.</p>
<p>The <a href="#parameter-object">Parameter Object</a>, <a href="#header-object">Header Object</a>, and <a href="#encoding-object">Encoding Object</a> offer features to control how to arrange values from array or object types.
They can also be used to control how strings are further encoded to avoid reserved or illegal characters.
However, there is no general-purpose specification for converting schema-validated non-UTF-8 primitive data types (or entire arrays or objects) to strings.</p>
<p>Two cases do offer standards-based guidance:</p>
<ul>
<li>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3987" title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3987#section-3.1">Section 3.1</a> provides guidance for converting non-Unicode strings to UTF-8, particularly in the context of URIs (and by extension, the form media types which use the same encoding rules)</li>
<li>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc6570#section-2.3">Section 2.3</a> specifies which values, including but not limited to <code>null</code>, are considered <em>undefined</em> and therefore treated specially in the expansion process when serializing based on that specification</li>
</ul>
<p>Implementations of RFC6570 often have their own conventions for converting non-string values, but these are implementation-specific and not defined by the RFC itself.
This is one reason for the OpenAPI Specification to leave these conversions as implementation-defined: It allows using RFC6570 implementations regardless of how they choose to perform the conversions.</p>
<p>To control the serialization of numbers, booleans, and <code>null</code> (or other values RFC6570 deems to be undefined) more precisely, schemas can be defined as <code>type: "string"</code> and constrained using <code>pattern</code>, <code>enum</code>, <code>format</code>, and other keywords to communicate how applications must pre-convert their data prior to schema validation.
The resulting strings would not require any further type conversion.</p>
<p>The <code>format</code> keyword can assist in serialization.
Some formats (such as <code>date-time</code>) are unambiguous, while others (such as <a href="https://spec.openapis.org/registry/format/decimal.html"><code>decimal</code></a> in the <a href="https://spec.openapis.org/registry/format/">Format Registry</a>) are less clear.
However, care must be taken with <code>format</code> to ensure that the specific formats are supported by all relevant tools as unrecognized formats are ignored.</p>
<p>Requiring input as pre-formatted, schema-validated strings also improves round-trip interoperability as not all programming languages and environments support the same data types.</p>
</section><section class="appendix" id="appendix-c-using-rfc6570-based-serialization"><div class="header-wrapper"><h2 id="c-appendix-c-using-rfc6570-based-serialization"><bdi class="secno">C. </bdi>Appendix C: Using RFC6570-Based Serialization</h2><a class="self-link" href="#appendix-c-using-rfc6570-based-serialization" aria-label="Permalink for Appendix C."></a></div>
<p>Serialization is defined in terms of [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] URI Templates in three scenarios:</p>
<table>
<thead>
<tr>
<th>Object</th>
<th>Condition</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#parameter-object">Parameter Object</a></td>
<td>When <code>schema</code> is present</td>
</tr>
<tr>
<td><a href="#header-object">Header Object</a></td>
<td>When <code>schema</code> is present</td>
</tr>
<tr>
<td><a href="#encoding-object">Encoding Object</a></td>
<td>When encoding for <code>application/x-www-form-urlencoded</code> and any of <code>style</code>, <code>explode</code>, or <code>allowReserved</code> are used</td>
</tr>
</tbody>
</table>
<p>Implementations of this specification <em class="rfc2119">MAY</em> use an implementation of RFC6570 to perform variable expansion, however, some caveats apply.</p>
<p>Note that when using <code>style: "form"</code> RFC6570 expansion to produce an <code>application/x-www-form-urlencoded</code> HTTP message body, it is necessary to remove the <code>?</code> prefix that is produced to satisfy the URI query string syntax.</p>
<p>When using <code>style</code> and similar keywords to produce a <code>multipart/form-data</code> body, the query string names are placed in the <code>name</code> parameter of the <code>Content-Disposition</code> part header, and the values are placed in the corresponding part body; the <code>?</code>, <code>=</code>, and <code>&amp;</code> characters are not used, and URI percent encoding is not applied, regardless of the value of <code>allowReserved</code>.
Note that while [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] allows using [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] percent-encoding in โfile namesโ, it does not otherwise address the use of percent-encoding within the format.
Users are expected to provide names and data with any escaping necessary for conformance with RFC7578 already applied.</p>
<p>Note also that not all RFC6570 implementations support all four levels of operators, all of which are needed to fully support the OpenAPI Specificationโs usage.
Using an implementation with a lower level of support will require additional manual construction of URI Templates to work around the limitations.</p>
<section id="equivalences-between-fields-and-rfc6570-operators"><div class="header-wrapper"><h3 id="c-1-equivalences-between-fields-and-rfc6570-operators"><bdi class="secno">C.1 </bdi>Equivalences Between Fields and RFC6570 Operators</h3><a class="self-link" href="#equivalences-between-fields-and-rfc6570-operators" aria-label="Permalink for Appendix C.1"></a></div>
<p>Certain field values translate to RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.2">operators</a> (or lack thereof):</p>
<table>
<thead>
<tr>
<th>field</th>
<th>value</th>
<th>equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td>style</td>
<td><code>"simple"</code></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td>style</td>
<td><code>"matrix"</code></td>
<td><code>;</code> prefix operator</td>
</tr>
<tr>
<td>style</td>
<td><code>"label"</code></td>
<td><code>.</code> prefix operator</td>
</tr>
<tr>
<td>style</td>
<td><code>"form"</code></td>
<td><code>?</code> prefix operator</td>
</tr>
<tr>
<td>allowReserved</td>
<td><code>false</code></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td>allowReserved</td>
<td><code>true</code></td>
<td><code>+</code> prefix operator</td>
</tr>
<tr>
<td>explode</td>
<td><code>false</code></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td>explode</td>
<td><code>true</code></td>
<td><code>*</code> modifier suffix</td>
</tr>
</tbody>
</table>
<p>Multiple <code>style: "form"</code> parameters are equivalent to a single RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.2">variable list</a> using the <code>?</code> prefix operator:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">parameters:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">foo</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
  <span class="hljs-attr">explode:</span> <span class="hljs-literal">true</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">bar</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>This example is equivalent to RFC6570โs <code>{?foo*,bar}</code>, and <strong>NOT</strong> <code>{?foo*}{&amp;bar}</code>. The latter is problematic because if <code>foo</code> is not defined, the result will be an invalid URI.
The <code>&amp;</code> prefix operator has no equivalent in the Parameter Object.</p>
<p>Note that RFC6570 does not specify behavior for compound values beyond the single level addressed by <code>explode</code>. The result of using objects or arrays where no behavior is clearly specified for them is implementation-defined.</p>
</section><section id="delimiters-in-parameter-values"><div class="header-wrapper"><h3 id="c-2-delimiters-in-parameter-values"><bdi class="secno">C.2 </bdi>Delimiters in Parameter Values</h3><a class="self-link" href="#delimiters-in-parameter-values" aria-label="Permalink for Appendix C.2"></a></div>
<p>Delimiters used by RFC6570 expansion, such as the <code>,</code> used to join arrays or object values with <code>style: "simple"</code>, are all automatically percent-encoded as long as <code>allowReserved</code> is <code>false</code>.
Note that since RFC6570 does not define a way to parse variables based on a URI Template, users must take care to first split values by delimiter before percent-decoding values that might contain the delimiter character.</p>
<p>When <code>allowReserved</code> is <code>true</code>, both percent-encoding (prior to joining values with a delimiter) and percent-decoding (after splitting on the delimiter) must be done manually at the correct time.</p>
<p>See <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for additional guidance on handling delimiters for <code>style</code> values with no RFC6570 equivalent that already need to be percent-encoded when used as delimiters.</p>
</section><section id="non-rfc6570-field-values-and-combinations"><div class="header-wrapper"><h3 id="c-3-non-rfc6570-field-values-and-combinations"><bdi class="secno">C.3 </bdi>Non-RFC6570 Field Values and Combinations</h3><a class="self-link" href="#non-rfc6570-field-values-and-combinations" aria-label="Permalink for Appendix C.3"></a></div>
<p>Configurations with no direct [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>] equivalent <em class="rfc2119">SHOULD</em> also be handled according to RFC6570.
Implementations <em class="rfc2119">MAY</em> create a properly delimited URI Template with variables for individual names and values using RFC6570 regular or reserved expansion (based on <code>allowReserved</code>).</p>
<p>This includes:</p>
<ul>
<li>the styles <code>pipeDelimited</code>, <code>spaceDelimited</code>, and <code>deepObject</code>, which have no equivalents at all</li>
<li>the combination of the style <code>form</code> with <code>allowReserved: true</code>, which is not allowed because only one prefix operator can be used at a time</li>
<li>any parameter name that is not a legal RFC6570 variable name</li>
</ul>
<p>The Parameter Objectโs <code>name</code> field has a much more permissive syntax than RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.3">variable name syntax</a>.
A parameter name that includes characters outside of the allowed RFC6570 variable character set <em class="rfc2119">MUST</em> be percent-encoded before it can be used in a URI Template.</p>
</section><section id="examples-1"><div class="header-wrapper"><h3 id="c-4-examples"><bdi class="secno">C.4 </bdi>Examples</h3><a class="self-link" href="#examples-1" aria-label="Permalink for Appendix C.4"></a></div>
<p>Letโs say we want to use the following data in a form query string, where <code>formulas</code> is exploded, and <code>words</code> is not:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">formulas:</span>
  <span class="hljs-attr">a:</span> <span class="hljs-string">x+y</span>
  <span class="hljs-attr">b:</span> <span class="hljs-string">x/y</span>
  <span class="hljs-attr">c:</span> <span class="hljs-string">x^y</span>
<span class="hljs-attr">words:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">math</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">is</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">fun</span>
</code></pre>
<section id="rfc6570-equivalent-expansion"><div class="header-wrapper"><h4 id="c-4-1-rfc6570-equivalent-expansion"><bdi class="secno">C.4.1 </bdi>RFC6570-Equivalent Expansion</h4><a class="self-link" href="#rfc6570-equivalent-expansion" aria-label="Permalink for Appendix C.4.1"></a></div>
<p>This array of Parameter Objects uses regular <code>style: "form"</code> expansion, fully supported by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">parameters:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">formulas</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">additionalProperties:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">explode:</span> <span class="hljs-literal">true</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">words</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">items:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>This translates to the following URI Template:</p>
<pre class="nohighlight" tabindex="0"><code>{<span class="hljs-attr">?formulas*</span>,<span class="hljs-attr">words</span>}
</code></pre>
<p>when expanded with the data given earlier, we get:</p>
<pre class="nohighlight" tabindex="0"><code>?<span class="hljs-attr">a</span>=<span class="hljs-literal">x%2By</span>&amp;<span class="hljs-attr">b</span>=<span class="hljs-literal">x%2Fy</span>&amp;<span class="hljs-attr">c</span>=<span class="hljs-literal">x%5Ey</span>&amp;<span class="hljs-attr">words</span>=<span class="hljs-literal">math,is,fun</span>
</code></pre>
</section><section id="expansion-with-non-rfc6570-supported-options"><div class="header-wrapper"><h4 id="c-4-2-expansion-with-non-rfc6570-supported-options"><bdi class="secno">C.4.2 </bdi>Expansion with Non-RFC6570-Supported Options</h4><a class="self-link" href="#expansion-with-non-rfc6570-supported-options" aria-label="Permalink for Appendix C.4.2"></a></div>
<p>But now letโs say that (for some reason), we really want that <code>/</code> in the <code>b</code> formula to show up as-is in the query string, and we want our words to be space-separated like in a written phrase.
To do that, weโll add <code>allowReserved: true</code> to <code>formulas</code>, and change to <code>style: "spaceDelimited"</code> for <code>words</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">parameters:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">formulas</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
    <span class="hljs-attr">additionalProperties:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
  <span class="hljs-attr">explode:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">allowReserved:</span> <span class="hljs-literal">true</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">words</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">style:</span> <span class="hljs-string">spaceDelimited</span>
  <span class="hljs-attr">explode:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">array</span>
    <span class="hljs-attr">items:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>We canโt combine the <code>?</code> and <code>+</code> RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.4.1">prefixes</a>, and thereโs no way with RFC6570 to replace the <code>,</code> separator with a space character.
So we need to restructure the data to fit a manually constructed URI Template that passes all of the pieces through the right sort of expansion.</p>
<p>Here is one such template, using a made-up convention of <code>words.0</code> for the first entry in the words value, <code>words.1</code> for the second, and <code>words.2</code> for the third:</p>
<pre class="nohighlight" tabindex="0"><code>?a={<span class="hljs-attr">+a</span>}&amp;b={<span class="hljs-attr">+b</span>}&amp;c={<span class="hljs-attr">+c</span>}&amp;words={<span class="hljs-attr">words.0</span>} {<span class="hljs-attr">words.1</span>} {<span class="hljs-attr">words.2</span>}
</code></pre>
<p>RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.4.2">mentions</a> the use of <code>.</code> โto indicate name hierarchy in substructures,โ but does not define any specific naming convention or behavior for it.
Since the <code>.</code> usage is not automatic, weโll need to construct an appropriate input structure for this new template.</p>
<p>Weโll also need to pre-process the values for <code>formulas</code> because while <code>/</code> and most other reserved characters are allowed in the query string by RFC3986, <code>[</code>, <code>]</code>, and <code>#</code> <a href="https://tools.ietf.org/html/rfc3986#appendix-A">are not</a>, and <code>&amp;</code>, <code>=</code>, and <code>+</code> all have <a href="https://url.spec.whatwg.org/#application/x-www-form-urlencoded">special behavior</a> in the <code>application/x-www-form-urlencoded</code> format, which is what we are using in the query string.</p>
<p>Setting <code>allowReserved: true</code> does <em>not</em> make reserved characters that are not allowed in URIs allowed, it just allows them to be <em>passed through expansion unchanged</em>, for example because some other specification has defined a particular meaning for them.</p>
<p>Therefore, users still need to percent-encode any reserved characters that are <em>not</em> being passed through due to a special meaning because reserved expansion does not know which reserved characters are being used, and which should still be percent-encoded.
However, reserved expansion, unlike regular expansion,  <em>will</em> leave the pre-percent-encoded triples unchanged.
See also <a href="#appendix-e-percent-encoding-and-form-media-types">Appendix E</a> for further guidance on percent-encoding and form media types, including guidance on handling the delimiter characters for <code>spaceDelimited</code>, <code>pipeDelimited</code>, and <code>deepObject</code> in parameter names and values.</p>
<p>So here is our data structure that arranges the names and values to suit the template above, where values for <code>formulas</code> have <code>[]#&amp;=+</code> pre-percent encoded (although only <code>+</code> appears in this example):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">a:</span> <span class="hljs-string">x%2By</span>
<span class="hljs-attr">b:</span> <span class="hljs-string">x/y</span>
<span class="hljs-attr">c:</span> <span class="hljs-string">x^y</span>
<span class="hljs-attr">words.0:</span> <span class="hljs-string">math</span>
<span class="hljs-attr">words.1:</span> <span class="hljs-string">is</span>
<span class="hljs-attr">words.2:</span> <span class="hljs-string">fun</span>
</code></pre>
<p>Expanding our manually assembled template with our restructured data yields the following query string:</p>
<pre class="nohighlight" tabindex="0"><code>?<span class="hljs-attr">a</span>=<span class="hljs-literal">x%2By</span>&amp;<span class="hljs-attr">b</span>=<span class="hljs-literal">x/y</span>&amp;<span class="hljs-attr">c</span>=<span class="hljs-literal">x%5Ey</span>&amp;<span class="hljs-attr">words</span>=<span class="hljs-literal">math%20is%20fun</span>
</code></pre>
<p>The <code>/</code> and the pre-percent-encoded <code>%2B</code> have been left alone, but the disallowed <code>^</code> character (inside a value) and space characters (in the template but outside of the expanded variables) were percent-encoded.</p>
</section><section id="undefined-values-and-manual-uri-template-construction"><div class="header-wrapper"><h4 id="c-4-3-undefined-values-and-manual-uri-template-construction"><bdi class="secno">C.4.3 </bdi>Undefined Values and Manual URI Template Construction</h4><a class="self-link" href="#undefined-values-and-manual-uri-template-construction" aria-label="Permalink for Appendix C.4.3"></a></div>
<p>Care must be taken when manually constructing templates to handle the values that RFC6570 <a href="https://tools.ietf.org/html/rfc6570#section-2.3">considers to be <em>undefined</em></a> correctly:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">formulas:</span> {}
<span class="hljs-attr">words:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">hello</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">world</span>
</code></pre>
<p>Using this data with our original RFC6570-friendly URI Template, <code>{?formulas*,words}</code>, produces the following:</p>
<pre class="nohighlight" tabindex="0"><code>?<span class="hljs-attr">words</span>=<span class="hljs-literal">hello,world</span>
</code></pre>
<p>This means that the manually constructed URI Template and restructured data need to leave out the <code>formulas</code> object entirely so that the <code>words</code> parameter is the first and only parameter in the query string.</p>
<p>Restructured data:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">words.0:</span> <span class="hljs-string">hello</span>
<span class="hljs-attr">words.1:</span> <span class="hljs-string">world</span>
</code></pre>
<p>Manually constructed URI Template:</p>
<pre class="nohighlight" tabindex="0"><code>?words={<span class="hljs-attr">words.0</span>} {<span class="hljs-attr">words.1</span>}
</code></pre>
<p>Result:</p>
<pre class="nohighlight" tabindex="0"><code>?<span class="hljs-attr">words</span>=<span class="hljs-literal">hello%20world</span>
</code></pre>
</section><section id="illegal-variable-names-as-parameter-names"><div class="header-wrapper"><h4 id="c-4-4-illegal-variable-names-as-parameter-names"><bdi class="secno">C.4.4 </bdi>Illegal Variable Names as Parameter Names</h4><a class="self-link" href="#illegal-variable-names-as-parameter-names" aria-label="Permalink for Appendix C.4.4"></a></div>
<p>In this example, the heart emoji is not legal in URI Template names (or URIs):</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">parameters:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">โค๏ธ</span>
  <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
  <span class="hljs-attr">schema:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>We canโt just pass <code>โค๏ธ: "love!"</code> to an RFC6570 implementation.
Instead, we have to pre-percent-encode the name (which is a six-octet UTF-8 sequence) in both the data and the URI Template:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-string">"%E2%9D%A4%EF%B8%8F"</span><span class="hljs-string">:</span> <span class="hljs-string">love!</span>
</code></pre>
<pre class="nohighlight" tabindex="0"><code>{<span class="hljs-attr">?%E2%9D%A4%EF%B8%8F</span>}
</code></pre>
<p>This will expand to the result:</p>
<pre class="nohighlight" tabindex="0"><code>?<span class="hljs-attr">%E2%9D%A4%EF%B8%8F</span>=<span class="hljs-literal">love%21</span>
</code></pre>
</section></section></section><section class="appendix" id="appendix-d-serializing-headers-and-cookies"><div class="header-wrapper"><h2 id="d-appendix-d-serializing-headers-and-cookies"><bdi class="secno">D. </bdi>Appendix D: Serializing Headers and Cookies</h2><a class="self-link" href="#appendix-d-serializing-headers-and-cookies" aria-label="Permalink for Appendix D."></a></div>
<p>HTTP headers have inconsistent rules regarding what characters are allowed, and how some or all disallowed characters can be escaped and included.
While the <code>quoted-string</code> ABNF rule given in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9110" title="HTTP Semantics">RFC9110</a></cite>] <a href="https://tools.ietf.org/html/rfc9110#section-5.6.4">Section 5.4.6</a> is the most common escaping solution, it is not sufficiently universal to apply automatically.
For example, a strong <code>ETag</code> looks like <code>"foo"</code> (with quotes, regardless of the contents), and a weak <code>ETag</code> looks like <code>W/"foo"</code> (note that only part of the value is quoted); the contents of the quotes for this header are also not escaped in the way <code>quoted-string</code> contents are.</p>
<p>For this reason, any data being passed to a header by way of a <a href="#parameter-object">Parameter</a> or <a href="#header-object">Header</a> Object needs to be quoted and escaped prior to passing it to the OAS implementation, and the parsed header values are expected to contain the quotes and escapes.</p>
<section id="percent-encoding-and-cookies"><div class="header-wrapper"><h3 id="d-1-percent-encoding-and-cookies"><bdi class="secno">D.1 </bdi>Percent-Encoding and Cookies</h3><a class="self-link" href="#percent-encoding-and-cookies" aria-label="Permalink for Appendix D.1"></a></div>
<p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]'s percent-encoding behavior is not always appropriate for <code>in: "cookie"</code> parameters.
While percent-encoding seems more common as an escaping mechanism than the base64 encoding (<code>contentEncoding</code>: โbase64โ) recommended by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6265" title="HTTP State Management Mechanism">RFC6265</a></cite>], <a href="https://www.ietf.org/archive/id/draft-ietf-httpbis-rfc6265bis-20.html#section-5.6">section 5.6 of draft-ietf-httpbis-rfc6265bis-20</a>, the proposed update to that RFC notes that cookies sent in the <code>Set-Cookie</code> response header that appear to be percent-encoded <em class="rfc2119">MUST NOT</em> be decoded when stored by the client, which would mean that they are already encoded when retrieved from that storage for use in the <code>Cookie</code> request header.
The behavior of <code>style: "cookie"</code> assumes this usage, and <em>does not</em> apply or remove percent-encoding.</p>
<p>If automatic percent-encoding is desired, <code>style: "form"</code> with a primitive value or with the non-default <code>explode</code> value of <code>false</code> provides this behavior.
However, note that the default value of <code>explode: true</code> for <code>style: "form"</code> with non-primitive values uses the wrong delimiter for cookies (<code>&amp;</code> instead of <code>;</code> followed by a single space) to set multiple cookie values.
Using <code>style: "form"</code> with <code>in: "cookie"</code> via an RFC6570 implementation requires stripping the <code>?</code> prefix, as when producing <code>application/x-www-form-urlencoded</code> message bodies.
To allow the full use of <code>style: "form"</code> with <code>in: "cookie"</code>, use the <code>allowReserved</code> field.</p>
</section></section><section class="appendix" id="appendix-e-percent-encoding-and-form-media-types"><div class="header-wrapper"><h2 id="e-appendix-e-percent-encoding-and-form-media-types"><bdi class="secno">E. </bdi>Appendix E: Percent-Encoding and Form Media Types</h2><a class="self-link" href="#appendix-e-percent-encoding-and-form-media-types" aria-label="Permalink for Appendix E."></a></div>
<p><em><strong>NOTE:</strong> In this section, the <code>application/x-www-form-urlencoded</code> and <code>multipart/form-data</code> media types are abbreviated as <code>form-urlencoded</code> and <code>form-data</code>, respectively, for readability.</em></p>
<p>Percent-encoding is used in URIs and media types that derive their syntax from URIs.
The fundamental rules of percent-encoding are:</p>
<ul>
<li>The set of characters that <em class="rfc2119">MUST</em> be encoded varies depending on which version of which specification you use, and (for URIs) in which part of the URI the character appears.</li>
<li>The way an unencoded <code>+</code> character is decoded depends on whether you are using <code>application/x-www-form-urlencoded</code> rules or more general URI rules; this is the only time where choice of decoding algorithm can change the outcome.</li>
<li>Encoding more characters than necessary is always safe in terms of the decoding process, but may produce non-normalized URIs.</li>
<li>In practice, some systems tolerate or even expect unencoded characters that some or all percent-encoding specifications require to be encoded; this can cause interoperability issues with more strictly compliant implementations.</li>
</ul>
<p>The rest of this appendix provides more detailed guidance based on the above rules.</p>
<section id="percent-encoding-character-classes"><div class="header-wrapper"><h3 id="e-1-percent-encoding-character-classes"><bdi class="secno">E.1 </bdi>Percent-Encoding Character Classes</h3><a class="self-link" href="#percent-encoding-character-classes" aria-label="Permalink for Appendix E.1"></a></div>
<p>This process is concerned with three classes of characters, the names of which vary among specifications but are defined as follows for the purposes of this section:</p>
<ul>
<li><em>unreserved</em> characters do not need to be percent-encoded; while it is safe to percent-encode them, doing so produces a URI that is <a href="https://tools.ietf.org/html/rfc3986#section-6.2.2.2">not normalized</a></li>
<li><em>reserved</em> characters either have special behavior in the URI syntax (such as delimiting components) or are reserved for other specifications that need to define special behavior (e.g. <code>form-urlencoded</code> defines special behavior for <code>=</code>, <code>&amp;</code>, and <code>+</code>)</li>
<li><em>unsafe</em> characters are known to cause problems when parsing URIs in certain environments</li>
</ul>
<p>Unless otherwise specified, this section uses RFC3986โs definition of <a href="https://tools.ietf.org/html/rfc3986#section-2.2">reserved</a> and <a href="https://tools.ietf.org/html/rfc3986#section-2.3">unreserved</a>, and defines the unsafe set as all characters not included in either of those sets.</p>
</section><section id="percent-encoding-and-form-urlencoded"><div class="header-wrapper"><h3 id="e-2-percent-encoding-and-form-urlencoded"><bdi class="secno">E.2 </bdi>Percent-Encoding and <code>form-urlencoded</code></h3><a class="self-link" href="#percent-encoding-and-form-urlencoded" aria-label="Permalink for Appendix E.2"></a></div>
<p>Each URI component (such as the query string) considers some of the reserved characters to be unsafe, either because they serve as delimiters between the components (e.g. <code>#</code>), or (in the case of <code>[</code> and <code>]</code>) were historically considered globally unsafe but were later given reserved status for limited purposes.</p>
<p>Reserved characters with no special meaning defined within a component can be left un-percent encoded.
However, other specifications can define special meanings, requiring percent-encoding for those characters outside of the additional special meanings.</p>
<p>The <code>form-urlencoded</code> media type defines special meanings for <code>=</code> and <code>&amp;</code> as delimiters, and <code>+</code> as the replacement for the space character (instead of its percent-encoded form of <code>%20</code>).
This means that while these three characters are reserved-but-allowed in query strings by RFC3986, they must be percent-encoded in <code>form-urlencoded</code> query strings except when used for their <code>form-urlencoded</code> purposes; see <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C</a> for an example of handling <code>+</code> in form values.</p>
</section><section id="percent-encoding-and-form-data"><div class="header-wrapper"><h3 id="e-3-percent-encoding-and-form-data"><bdi class="secno">E.3 </bdi>Percent-Encoding and <code>form-data</code></h3><a class="self-link" href="#percent-encoding-and-form-data" aria-label="Permalink for Appendix E.3"></a></div>
<p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7578" title="Returning Values from Forms: multipart/form-data">RFC7578</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc7578#section-2">Section 2</a> suggests RFC3986-based percent-encoding as a mechanism to keep text-based per-part header data such as file names within the ASCII character set.
This suggestion was not part of older (pre-2015) specifications for <code>form-data</code>, so care must be taken to ensure interoperability.
Users wishing to use percent-encoding in this way <em class="rfc2119">MUST</em> provide the data in percent-encoded form, as percent-encoding is not automatically applied for this media type regardless of which Encoding Object fields are used.</p>
<p>The <code>form-data</code> media type allows arbitrary text or binary data in its parts, so percent-encoding or similar escaping is not needed in general.</p>
</section><section id="generating-and-validating-uris-and-form-urlencoded-strings"><div class="header-wrapper"><h3 id="e-4-generating-and-validating-uris-and-form-urlencoded-strings"><bdi class="secno">E.4 </bdi>Generating and Validating URIs and <code>form-urlencoded</code> Strings</h3><a class="self-link" href="#generating-and-validating-uris-and-form-urlencoded-strings" aria-label="Permalink for Appendix E.4"></a></div>
<p>URI percent encoding and the <code>form-urlencoded</code> media type have complex specification histories spanning multiple revisions and, in some cases, conflicting claims of ownership by different standards bodies.
Unfortunately, these specifications each define slightly different percent-encoding rules, which need to be taken into account if the URIs or <code>form-urlencoded</code> message bodies will be subject to strict validation.
(Note that many URI parsers do not perform validation by default, if at all.)</p>
<p>This specification normatively cites the following relevant standards:</p>
<table>
<thead>
<tr>
<th>Specification</th>
<th>Date</th>
<th>OAS Usage</th>
<th>Percent-Encoding</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]</td>
<td>01/2005</td>
<td>URI/URL syntax, including non-<code>form-urlencoded</code> content-based serialization</td>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]</td>
<td>obsoletes [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1738" title="Uniform Resource Locators (URL)">RFC1738</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2396" title="Uniform Resource Identifiers (URI): Generic Syntax">RFC2396</a></cite>]</td>
</tr>
<tr>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]</td>
<td>03/2012</td>
<td>style-based serialization</td>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]</td>
<td>does not use <code>+</code> for query strings</td>
</tr>
<tr>
<td><a href="https://url.spec.whatwg.org/#application/x-www-form-urlencoded">WHATWG-URL Section 5</a></td>
<td>โlivingโ standard</td>
<td>content-based <code>form/url-encoded</code> serialization, including HTTP message contents</td>
<td><a href="https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set">WHATWG-URL Section 1.3</a></td>
<td>obsoletes [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1866" title="Hypertext Markup Language - 2.0">RFC1866</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-html401" title="HTML 4.01 Specification">HTML401</a></cite>]</td>
</tr>
</tbody>
</table>
<p>Style-based serialization with percent-encoding is used in the <a href="#parameter-object">Parameter Object</a> when <code>schema</code> is present, and in the <a href="#encoding-object">Encoding Object</a> when at least one of <code>style</code>, <code>explode</code>, or <code>allowReserved</code> is present.
See <a href="#appendix-c-using-rfc6570-based-serialization">Appendix C</a> for more details of RFC6570โs two different approaches to percent-encoding, including an example involving <code>+</code>.</p>
<p>Content-based serialization is defined by the <a href="#media-type-object">Media Type Object</a>, and used with the <a href="#parameter-object">Parameter Object</a> and <a href="#header-object">Header Object</a> when the <code>content</code> field is present, and with the <a href="#encoding-object">Encoding Object</a> based on the <code>contentType</code> field when the fields <code>style</code>, <code>explode</code>, and <code>allowReserved</code> are absent.
For use in URIs, each part is encoded based on the media type (e.g. <code>text/plain</code> or <code>application/json</code>), and must then be percent-encoded for use in a <code>form-urlencoded</code> string (in form-style query strings), or for general URI use in other URL components, unless the media type already incorporates URI percent-encoding.</p>
<section id="interoperability-with-historical-specifications"><div class="header-wrapper"><h4 id="e-4-1-interoperability-with-historical-specifications"><bdi class="secno">E.4.1 </bdi>Interoperability with Historical Specifications</h4><a class="self-link" href="#interoperability-with-historical-specifications" aria-label="Permalink for Appendix E.4.1"></a></div>
<p>Prior versions of this specification required [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1866" title="Hypertext Markup Language - 2.0">RFC1866</a></cite>] and its use of [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1738" title="Uniform Resource Locators (URL)">RFC1738</a></cite>] percent-encoding rules in place of [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>].
The [<cite><a class="bibref" data-link-type="biblio" href="#bib-whatwg-url" title="URL Standard">WHATWG-URL</a></cite>] <code>form-urlencoded</code> rules represent the current browser consensus on that media type, and avoid the ambiguity introduced by unclear paraphrasing of RFC1738 in RFC1866.</p>
<p>Users needing conformance with RFC1866/RFC1738 are advised to check their tooling and library behavior carefully.</p>
</section><section id="interoperability-with-web-browser-environments"><div class="header-wrapper"><h4 id="e-4-2-interoperability-with-web-browser-environments"><bdi class="secno">E.4.2 </bdi>Interoperability with Web Browser Environments</h4><a class="self-link" href="#interoperability-with-web-browser-environments" aria-label="Permalink for Appendix E.4.2"></a></div>
<p>WHATWG is a <a href="https://whatwg.org/faq#what-is-the-whatwg-working-on">web browser-oriented</a> standards group that has defined a โURL Living Standardโ for parsing and serializing URLs in a browser context, including parsing and serializing <code>form-urlencoded</code> data.
WHATWGโs percent-encoding rules for query strings are different depending on whether the query string is <a href="https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set">being treated as <code>form-urlencoded</code></a> (where it requires more percent-encoding than [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc1738" title="Uniform Resource Locators (URL)">RFC1738</a></cite>]) or <a href="https://url.spec.whatwg.org/#query-percent-encode-set">as part of the generic syntax</a>, where its requirements differ from [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>].</p>
<p>This specification only depends on WHATWG for its <code>form-urlencoded</code> specification.
Implementations using the query string in other ways are advised that, the distinctions between WHATWGโs non-<code>form-urlencoded</code> query string rules and RFC3986 require careful consideration, incorporating both WHATWGโs percent-encoding sets and their set of valid Unicode code points for URLs; see <a href="#percent-encoding-and-illegal-or-reserved-delimiters">Percent-Encoding and Illegal or Reserved Delimiters</a> for more information.</p>
</section></section><section id="decoding-uris-and-form-urlencoded-strings"><div class="header-wrapper"><h3 id="e-5-decoding-uris-and-form-urlencoded-strings"><bdi class="secno">E.5 </bdi>Decoding URIs and <code>form-urlencoded</code> Strings</h3><a class="self-link" href="#decoding-uris-and-form-urlencoded-strings" aria-label="Permalink for Appendix E.5"></a></div>
<p>The percent-decoding algorithm does not care which characters were or were not percent-decoded, which means that URIs percent-encoded according to any specification will be decoded correctly.</p>
<p>Similarly, all <code>form-urlencoded</code> decoding algorithms simply add <code>+</code>-for-space handling to the percent-decoding algorithm, and will work regardless of the encoding specification used.</p>
<p>However, care must be taken to use <code>form-urlencoded</code> decoding if <code>+</code> represents a space, and to use regular percent-decoding if <code>+</code> represents itself as a literal value.</p>
</section><section id="percent-encoding-and-illegal-or-reserved-delimiters"><div class="header-wrapper"><h3 id="e-6-percent-encoding-and-illegal-or-reserved-delimiters"><bdi class="secno">E.6 </bdi>Percent-Encoding and Illegal or Reserved Delimiters</h3><a class="self-link" href="#percent-encoding-and-illegal-or-reserved-delimiters" aria-label="Permalink for Appendix E.6"></a></div>
<p>The <code>[</code>, <code>]</code>, <code>|</code>, and space characters, which are used as delimiters for the <code>deepObject</code>, <code>pipeDelimited</code>, and <code>spaceDelimited</code> styles, respectively, all <em class="rfc2119">MUST</em> be percent-encoded to comply with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>].
This requires users to pre-encode the character(s) in some other way in parameter names and values to distinguish them from the delimiter usage when using one of these styles.</p>
<p>The space character is always illegal and encoded in some way by all implementations of all versions of the relevant standards.
While one could use the <code>form-urlencoded</code> convention of <code>+</code> to distinguish spaces in parameter names and values from <code>spaceDelimited</code> delimiters encoded as <code>%20</code>, the specifications define the decoding as a single pass, making it impossible to distinguish the different usages in the decoded result unless a non-standard parsing algorithm is used that separates based on one delimiter before decoding the other.
Any such non-standard parsing approach will not be interoperable across all tools.</p>
<p>Some environments use <code>[</code>, <code>]</code>, and possibly <code>|</code> unencoded in query strings without apparent difficulties.
WHATWGโs generic query string rules do not require percent-encoding them in non-<code>form-urlencoded</code> query strings, although it also excludes them from the set of valid URL Unicode code points.
Code that relies on leaving these delimiters unencoded, while using regular percent-encoding for them within names and values, is not guaranteed to be interoperable across all implementations.</p>
<p>For maximum interoperability, it is <em class="rfc2119">RECOMMENDED</em> to either define and document an additional escape convention while percent-encoding the delimiters for these styles, or to avoid these styles entirely.
The exact method of additional encoding/escaping is left to the API designer, and is expected to be performed before serialization and encoding described in this specification, and reversed after this specificationโs encoding and serialization steps are reversed.
This keeps it outside of the processes governed by this specification.</p>
</section></section><section class="appendix" id="appendix-f-examples-of-base-uri-determination-and-reference-resolution"><div class="header-wrapper"><h2 id="f-appendix-f-examples-of-base-uri-determination-and-reference-resolution"><bdi class="secno">F. </bdi>Appendix F: Examples of Base URI Determination and Reference Resolution</h2><a class="self-link" href="#appendix-f-examples-of-base-uri-determination-and-reference-resolution" aria-label="Permalink for Appendix F."></a></div>
<p>This section shows each of the four possible sources of base URIs, followed by an example with a relative <code>$self</code> and <code>$id</code>.</p>
<section id="base-uri-within-content"><div class="header-wrapper"><h3 id="f-1-base-uri-within-content"><bdi class="secno">F.1 </bdi>Base URI Within Content</h3><a class="self-link" href="#base-uri-within-content" aria-label="Permalink for Appendix F.1"></a></div>
<p>A base URI within the resourceโs content ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-5.1.1">Section 5.1.1</a>) is the highest-precedence source of a base URI.
For OpenAPI documents, this source is the OpenAPI Objectโs <code>$self</code> field, while for Schema Objects that contain a <code>$id</code>, or are a subschema of a Schema Object containing a <code>$id</code>, the source is the <code>$id</code> field:</p>
<p>Assume the retrieval URI of the following document is <code>file://home/someone/src/api/openapi.yaml</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-string">$self:</span> <span class="hljs-string">https://example.com/api/openapi</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Example</span> <span class="hljs-string">API</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">paths:</span>
  <span class="hljs-string">/foo:</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">"shared/foo#/components/requestBodies/Foo"</span>
</code></pre>
<p>Assume the retrieval URI for the following document is <code>https://git.example.com/shared/blob/main/shared/foo.yaml</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-string">$self:</span> <span class="hljs-string">https://example.com/api/shared/foo</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Shared</span> <span class="hljs-string">components</span> <span class="hljs-string">for</span> <span class="hljs-string">all</span> <span class="hljs-string">APIs</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">../schemas/foo</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">https://example.com/api/schemas/foo</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">bar:</span>
          <span class="hljs-string">$ref:</span> <span class="hljs-string">bar</span>
    <span class="hljs-attr">Bar:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">https://example.com/api/schemas/bar</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>In this example, the retrieval URIs are irrelevant because both documents define <code>$self</code>.</p>
<p>The relative <code>$ref</code> in the first document is resolved against <code>$self</code> to produce <code>https://example.com/api/shared/foo#/components/requestBodies/Foo</code>.
The portion of that URI before the <code>#</code> matches the <code>$self</code> of the second document, so the reference target is resolved to <code>#/components/requestBodies/Foo</code> in that second document.</p>
<p>In that document, the <code>$ref</code> in the Request Body Object is resolved using that documentโs <code>$self</code> as the base URI, producing <code>https://example.com/api/schemas/foo</code>.
This matches the <code>$id</code> at <code>#/components/schemas/Foo/$id</code> so it points to that Schema Object.
That Schema Object has a subschema with <code>$ref: bar</code>, which is resolved against the <code>$id</code> to produce <code>https://example.com/api/schemas/bar</code>, which matches the <code>$id</code> at <code>#/components/schemas/Bar/$id</code>.</p>
<p>To guarantee interoperability, Schema Objects containing an <code>$id</code>, or that are under a schema containing an <code>$id</code>, <em class="rfc2119">MUST</em> be referenced by the nearest such <code>$id</code> for the non-fragment part of the reference.
As the JSON Schema specification notes, using a base URI other than the nearest <code>$id</code> and crossing that <code>$id</code> with a JSON Pointer fragment <a href="https://www.ietf.org/archive/id/draft-bhutton-json-schema-01.html#name-json-pointer-fragments-and-">is not interoperable</a>.</p>
<p>Note also that it is impossible for the reference at <code>#/components/schemas/Foo/properties/bar/$ref</code> to reference the schema at <code>#/components/schemas/Bar</code> using <em>only</em> a JSON Pointer fragment, as the JSON Pointer would be resolved relative to <code>https://example.com/api/schemas/foo</code>, not to the OpenAPI documentโs base URI from <code>$self</code>.</p>
</section><section id="base-uri-from-encapsulating-entity"><div class="header-wrapper"><h3 id="f-2-base-uri-from-encapsulating-entity"><bdi class="secno">F.2 </bdi>Base URI From Encapsulating Entity</h3><a class="self-link" href="#base-uri-from-encapsulating-entity" aria-label="Permalink for Appendix F.2"></a></div>
<p>If no base URI can be determined within the content, the next location to search is any encapsulating entity ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-5.1.2">Section 5.1.2</a>).</p>
<p>This is common for Schema Objects encapsulated within an OpenAPI document.
An example of an OpenAPI Object itself being encapsulated in another entity would be a <code>multipart/related</code> archive ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2557" title="MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)">RFC2557</a></cite>]), such as the following <code>multipart/related; boundary="boundary-example"; type="application/openapi+yaml"</code> document.
Note that this is purely an example, and support for such multipart documents or any other format that could encapsulate an OpenAPI Object is not a requirement of this specification.</p>
<p>RFC2557 was written to allow sending hyperlinked sets of documents as email attachments, in which case there would not be a retrieval URI for the multipart attachment (although the format could also be used in HTTP as well).</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-meta">--boundary-example</span>
<span class="hljs-literal">Content-Type:<span class="hljs-attr"> application/openapi+yaml</span></span>
<span class="hljs-literal">Content-Location:<span class="hljs-attr"> https://example.com/api/openapi.yaml</span></span>

openapi: 3.2.0
info:
  title: Example API
  version: 1.0
  externalDocs:
    url: docs.html
components:
  requestBodies:
    Foo:
      content:
        application/json:
          schema:
            $ref: "#/components/api/schemas/Foo"
  schemas:
    Foo:
      properties:
        bar:
          $ref: schemas/bar
<span class="hljs-meta">--boundary-example</span>
<span class="hljs-literal">Content-Type:<span class="hljs-attr"> application/schema+json</span></span>
<span class="hljs-literal">Content-Location:<span class="hljs-attr"> https://example.com/api/schemas/bar</span></span>

{
  "type": "string"
}
<span class="hljs-meta">--boundary-example</span>
<span class="hljs-literal">Content-Type:<span class="hljs-attr"> text/html</span></span>
<span class="hljs-literal">Content-Location:<span class="hljs-attr"> https://example.com/api/docs.html</span></span>

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;API Documentation&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Awesome documentation goes here&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
<span class="hljs-meta">--boundary-example</span>
</code></pre>
<p>In this example, the URI for each part, which also serves as its base URI, comes from the partโs <code>Content-Location</code> header as specified by RFC2557.
Since the Schema Object at <code>#/components/schemas/Foo</code> does not contain an <code>$id</code>, the reference in its subschema uses the OpenAPI documentโs base URI, which is taken from the <code>Content-Location</code> header of its part within the <code>multipart/related</code> format.
The resulting reference to <code>https://example.com/schemas/bar</code> matches the <code>Content-Location</code> header of the second part, which according to RFC2557 allows the reference target to be located within the multipart archive.</p>
<p>Similarly, the <code>url</code> field of the <a href="#external-documentation-object">External Documentation Object</a> is resolved against the base URI from <code>Content-Location</code>, producing <code>https://example.com/api/docs.html</code> which matches the <code>Content-Location</code> of the third part.</p>
</section><section id="base-uri-from-the-retrieval-uri"><div class="header-wrapper"><h3 id="f-3-base-uri-from-the-retrieval-uri"><bdi class="secno">F.3 </bdi>Base URI From the Retrieval URI</h3><a class="self-link" href="#base-uri-from-the-retrieval-uri" aria-label="Permalink for Appendix F.3"></a></div>
<p>If no base URI is provided from either of the previous sources, the next source is the retrieval URI ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-5.1.3">Section 5.1.3</a>).</p>
<p>Assume this document was retrieved from <code>https://example.com/api/openapis.yaml</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Example</span> <span class="hljs-string">API</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">schemas/foo</span>
</code></pre>
<p>Assume this document was retrieved from <code>https://example.com/api/schemas/foo</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bar"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Resolving the <code>$ref: schemas/foo</code> against the retrieval URI of the OpenAPI document produces <code>https://example.com/api/schemas/foo</code>, the retrieval URI of the JSON Schema document.</p>
</section><section id="application-specific-default-base-uri"><div class="header-wrapper"><h3 id="f-4-application-specific-default-base-uri"><bdi class="secno">F.4 </bdi>Application-Specific Default Base URI</h3><a class="self-link" href="#application-specific-default-base-uri" aria-label="Permalink for Appendix F.4"></a></div>
<p>When constructing an OpenAPI document in memory that does not have a <code>$self</code>, or an encapsulating entity, or a retrieval URI, applications can resolve internal (fragment-only) references by assuming a default base URI ([<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-5.1.4">Section 5.1.4</a>).
While this sort of internal resolution can be performed in practice without choosing a base URI, choosing one, such as a URN with a randomly generated UUID (e.g. <code>urn:uuid:f26cdaad-3193-4398-a838-4ecb7326c4c5</code>) avoids the need to implement it as a special case.</p>
</section><section id="resolving-relative-self-and-id"><div class="header-wrapper"><h3 id="f-5-resolving-relative-self-and-id"><bdi class="secno">F.5 </bdi>Resolving Relative <code>$self</code> and <code>$id</code></h3><a class="self-link" href="#resolving-relative-self-and-id" aria-label="Permalink for Appendix F.5"></a></div>
<p>Letโs re-consider the first example in this appendix, but with relative URI references for <code>$self</code> and <code>$id</code>, and retrieval URIs that support that relative usage:</p>
<p>Assume that the following is retrieved from <code>https://staging.example.com/api/openapi</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-string">$self:</span> <span class="hljs-string">/api/openapi</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Example</span> <span class="hljs-string">API</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">paths:</span>
  <span class="hljs-string">/foo:</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-string">$ref:</span> <span class="hljs-string">"shared/foo#/components/requestBodies/Foo"</span>
</code></pre>
<p>Assume the retrieval URI for the following document is <code>https://staging.example.com/api/shared/foo</code>:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">openapi:</span> <span class="hljs-number">3.2</span><span class="hljs-number">.0</span>
<span class="hljs-string">$self:</span> <span class="hljs-string">/api/shared/foo</span>
<span class="hljs-attr">info:</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">Shared</span> <span class="hljs-string">components</span> <span class="hljs-string">for</span> <span class="hljs-string">all</span> <span class="hljs-string">APIs</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">requestBodies:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-attr">content:</span>
        <span class="hljs-attr">application/json:</span>
          <span class="hljs-attr">schema:</span>
            <span class="hljs-string">$ref:</span> <span class="hljs-string">../schemas/foo</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">/api/schemas/foo</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">bar:</span>
          <span class="hljs-string">$ref:</span> <span class="hljs-string">bar</span>
    <span class="hljs-attr">Bar:</span>
      <span class="hljs-string">$id:</span> <span class="hljs-string">/api/schemas/bar</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
</code></pre>
<p>In this example, all of the <code>$self</code> and <code>$id</code> values are relative URI references consisting of an absolute path.
This allows the retrieval URI to set the host (and scheme), in this case <code>https://staging.example.com</code>, resulting in the first documentโs <code>$self</code> being <code>https://staging.example.com/openapi</code>, and the second documentโs <code>$self</code> being <code>https://staging.example.com/api/shared/foo</code>, with <code>$id</code> values of <code>https://staging.example.com/api/schemas/foo</code> and <code>https://staging.example.com/api/schemas/bar</code>.
Relative <code>$self</code> and <code>$id</code> values of this sort  allow the same set of documents to work when deployed to other hosts, e.g. <code>https://example.com</code> (production) or <code>https://localhost:8080</code> (local development).</p>
</section></section><section class="appendix" id="appendix-g-parsing-and-resolution-guidance"><div class="header-wrapper"><h2 id="g-appendix-g-parsing-and-resolution-guidance"><bdi class="secno">G. </bdi>Appendix G: Parsing and Resolution Guidance</h2><a class="self-link" href="#appendix-g-parsing-and-resolution-guidance" aria-label="Permalink for Appendix G."></a></div>
<p>Implementations <em class="rfc2119">MAY</em> support complete-document parsing in any of the following ways:</p>
<ul>
<li>Detecting OpenAPI or JSON Schema documents using media types</li>
<li>Detecting OpenAPI documents through the root <code>openapi</code> field</li>
<li>Detecting JSON Schema documents through detecting keywords or otherwise successfully parsing the document in accordance with the JSON Schema specification</li>
</ul>
<p>Additional mechanisms can be used to support documents with Objects other than an OpenAPI Object or a Schema Object at the root, but note that the resulting behavior is implementation-defined:</p>
<ul>
<li>Detecting a document containing a referenceable Object at its root based on the expected type of the reference</li>
<li>Allowing users to configure the type of documents that might be loaded due to a reference to a non-root Object</li>
</ul>
<section id="warnings-regarding-fragmentary-parsing"><div class="header-wrapper"><h3 id="g-1-warnings-regarding-fragmentary-parsing"><bdi class="secno">G.1 </bdi>Warnings Regarding Fragmentary Parsing</h3><a class="self-link" href="#warnings-regarding-fragmentary-parsing" aria-label="Permalink for Appendix G.1"></a></div>
<p>Implementations that parse referenced fragments of OpenAPI content without regard for the content of the rest of the containing document will miss keywords that change the meaning and behavior of the reference target.
In particular, failing to take into account keywords that change the base URI introduces security risks by causing references to resolve to unintended URIs, with unpredictable results.
While some implementations support this sort of parsing due to the requirements of past versions of this specification, in version 3.1 and later, the result of parsing fragments in isolation is <em>undefined</em> and likely to contradict the requirements of this specification.</p>
<p>While it is possible to structure certain OpenAPI Descriptions to ensure that they will behave correctly when references are parsed as isolated fragments, depending on this is <em class="rfc2119">NOT RECOMMENDED</em>.
This specification does not explicitly enumerate the conditions under which such behavior is safe and provides no guarantee for continued safety in any future versions of the OAS.</p>
</section><section id="conflicts-between-field-types-and-reference-contexts"><div class="header-wrapper"><h3 id="g-2-conflicts-between-field-types-and-reference-contexts"><bdi class="secno">G.2 </bdi>Conflicts Between Field Types and Reference Contexts</h3><a class="self-link" href="#conflicts-between-field-types-and-reference-contexts" aria-label="Permalink for Appendix G.2"></a></div>
<p>JSON or YAML objects within an OAD are interpreted as specific Objects (such as <a href="#operation-object">Operation Objects</a>, <a href="#response-object">Response Objects</a>, <a href="#reference-object">Reference Objects</a>, etc.) based on their context. Depending on how references are arranged, a given JSON or YAML object can be interpreted in multiple different contexts:</p>
<ul>
<li>As the root object of the <a href="#openapi-description-structure">entry document</a>, which is always interpreted as an OpenAPI Object</li>
<li>As the Object type implied by its parent Objectโs field within the document</li>
<li>As a reference target, with the Object type matching the reference sourceโs context</li>
</ul>
<p>If the same JSON/YAML object is parsed multiple times and the respective contexts require it to be parsed as <em>different</em> Object types, the resulting behavior is <em>implementation defined</em>, and <em class="rfc2119">MAY</em> be treated as an error if detected. An example would be referencing an empty Schema Object under <code>#/components/schemas</code> where a Path Item Object is expected, as an empty object is valid for both types. For maximum interoperability, it is <em class="rfc2119">RECOMMENDED</em> that OpenAPI Description authors avoid such scenarios.</p>
</section><section id="guidance-regarding-implicit-connections"><div class="header-wrapper"><h3 id="g-3-guidance-regarding-implicit-connections"><bdi class="secno">G.3 </bdi>Guidance Regarding Implicit Connections</h3><a class="self-link" href="#guidance-regarding-implicit-connections" aria-label="Permalink for Appendix G.3"></a></div>
<p>The following Objects and Fields involve the use of implicit connections:</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Target</th>
<th>Alternative</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#security-requirement-object">Security Requirement Object</a> <code>{name}</code></td>
<td><a href="#security-scheme-object">Security Scheme Object</a> name under the <a href="#components-object">Components Object</a></td>
<td><em>n/a</em></td>
</tr>
<tr>
<td><a href="#discriminator-object">Discriminator Object</a> <code>mapping</code> <em>(implicit, or explicit name syntax)</em></td>
<td><a href="#schema-object">Schema Object</a> name under the Components Object</td>
<td><code>mapping</code> <em>(explicit URI syntax)</em></td>
</tr>
<tr>
<td><a href="#operation-object">Operation Object</a> <code>tags</code></td>
<td><a href="#tag-object">Tag Object</a> <code>name</code> (in the <a href="#openapi-object">OpenAPI Object</a>โs <code>tags</code> array)</td>
<td><em>n/a</em></td>
</tr>
<tr>
<td><a href="#link-object">Link Object</a> <code>operationId</code></td>
<td><a href="#operation-object">Operation Object</a> <code>operationId</code></td>
<td><code>operationRef</code></td>
</tr>
</tbody>
</table>
<p>An additional implicit connection involves appending the templated URL paths of the <a href="#paths-object">Paths Object</a> to the appropriate <a href="#server-object">Server Object</a>โs <code>url</code> field.
This connection is unambiguous because only the entry documentโs Paths Object contributes URLs to the described API.</p>
<p>The implicit connections in the Security Requirement Object and Discriminator Object rely on the <em>component name</em>, which is the name of the property holding the component in the appropriately typed sub-object of the Components Object.
For example, the component name of the Schema Object at <code>#/components/schemas/Foo</code> is <code>Foo</code>.
The implicit connection of <code>tags</code> in the Operation Object uses the <code>name</code> field of Tag Objects, which (like the Components Object) are found under the root OpenAPI Object.
This means resolving component names and tag names both depend on starting from the correct OpenAPI Object.</p>
<p>For resolving component and tag name connections from a referenced (non-entry) document, it is <em class="rfc2119">RECOMMENDED</em> that tools resolve from the entry document, rather than the current document.
Resolving component and tag name connections from a referenced (non-entry) document to the entry document as recommended under <a href="#resolving-implicit-connections">Resolving Implicit Connections</a> allows components and Tag Objects to be defined next to the APIโs deployment information in the top-level array of Server Objects and treated as an interface for referenced documents to access.</p>
<p>For Security Requirement Objects and Discriminator Objects, it is also possible to keep the resolution within the referenced document by using the URI-reference form that these Objects offer.</p>
<p>There are no URI-based alternatives for the Operation Objectโs <code>tags</code> field.
OAD authors are advised to use external solutions such as the OpenAPI Initiativeโs Overlay Specification to simulate sharing <a href="#tag-object">Tag Objects</a> across multiple documents.</p>
<section id="implicit-connection-resolution-examples"><div class="header-wrapper"><h4 id="g-3-1-implicit-connection-resolution-examples"><bdi class="secno">G.3.1 </bdi>Implicit Connection Resolution Examples</h4><a class="self-link" href="#implicit-connection-resolution-examples" aria-label="Permalink for Appendix G.3.1"></a></div>
<p>This section shows how to retrieve an HTTP-accessible multi-document OpenAPI Description (OAD) and resolve a <a href="#security-requirement-object">Security Requirement Object</a> in the referenced (non-entry) document.
The behavior for Discriminator Object non-URI mappings and for the Operation Objectโs <code>tags</code> field operate on the same principles.</p>
<p>First, the <a href="#openapi-description-structure">entry document</a> is where parsing begins. It defines the <code>MySecurity</code> security scheme to be JWT-based, and it defines a Path Item as a reference to a component in another document:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/api/description/openapi</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com
<span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>application/openapi+json
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">"components"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"securitySchemes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"MySecurity"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bearer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"bearerFormat"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JWT"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"/foo"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"$ref"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"other#/components/pathItems/Foo"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/api/description/openapi</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com
<span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>application/openapi+yaml
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">securitySchemes:</span>
    <span class="hljs-attr">MySecurity:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">http</span>
      <span class="hljs-attr">scheme:</span> <span class="hljs-string">bearer</span>
      <span class="hljs-attr">bearerFormat:</span> <span class="hljs-string">JWT</span>
<span class="hljs-attr">paths:</span>
  <span class="hljs-string">/foo:</span>
    <span class="hljs-string">$ref:</span> <span class="hljs-string">'other#/components/pathItems/Foo'</span>
</code></pre>
<p>This entry document references another document, <code>other</code>, without using a file extension. This gives the client the flexibility to choose an acceptable format on a resource-by-resource basis, assuming both representations are available:</p>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/api/description/other</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com
<span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>application/openapi+json
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">"components"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"securitySchemes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"MySecurity"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"basic"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"pathItems"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Foo"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"get"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"security"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-attr">"MySecurity"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/api/description/other</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>www.example.com
<span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>application/openapi+yaml
</code></pre>
<pre class="nohighlight" tabindex="0"><code><span class="hljs-attr">components:</span>
  <span class="hljs-attr">securitySchemes:</span>
    <span class="hljs-attr">MySecurity:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">http</span>
      <span class="hljs-attr">scheme:</span> <span class="hljs-string">basic</span>
  <span class="hljs-attr">pathItems:</span>
    <span class="hljs-attr">Foo:</span>
      <span class="hljs-attr">get:</span>
        <span class="hljs-attr">security:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">MySecurity:</span> []
</code></pre>
<p>In the <code>other</code> document, the referenced path item has a Security Requirement for a Security Scheme, <code>MySecurity</code>. The same Security Scheme exists in the original entry document. As outlined in <a href="#resolving-implicit-connections">Resolving Implicit Connections</a>, <code>MySecurity</code> is resolved with an <a href="#undefined-and-implementation-defined-behavior">implementation-defined behavior</a>, but the section formally recommends that tools resolve component names from the <a href="#openapi-description-structure">entry document</a>. As with all implementation-defined behavior, it is important to check tool documentation to determine which behavior is supported.</p>

</section></section></section><section id="references" class="appendix"><div class="header-wrapper"><h2 id="h-references"><bdi class="secno">H. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix H."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="h-1-normative-references"><bdi class="secno">H.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix H.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-abnf">[ABNF]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc5234"><cite>Augmented BNF for Syntax Specifications: ABNF</cite></a>. D. Crocker, Ed.; P. Overell.  IETF. January 2008. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5234">https://www.rfc-editor.org/rfc/rfc5234</a>
    </dd><dt id="bib-commonmark">[CommonMark]</dt><dd>
      <a href="https://spec.commonmark.org/"><cite>CommonMark Spec</cite></a>. URL: <a href="https://spec.commonmark.org/">https://spec.commonmark.org/</a>
    </dd><dt id="bib-commonmark-0.27">[CommonMark-0.27]</dt><dd>
      <a href="https://spec.commonmark.org/0.27/"><cite>CommonMark Spec, Version 0.27</cite></a>. John MacFarlane. 18 November 2016. URL: <a href="https://spec.commonmark.org/0.27/">https://spec.commonmark.org/0.27/</a>
    </dd><dt id="bib-dom">[DOM]</dt><dd>
      <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
    </dd><dt id="bib-iana-http-authschemes">[IANA-HTTP-AUTHSCHEMES]</dt><dd>
      <a href="https://www.iana.org/assignments/http-authschemes/"><cite>Hypertext Transfer Protocol (HTTP) Authentication Scheme Registry</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/http-authschemes/">https://www.iana.org/assignments/http-authschemes/</a>
    </dd><dt id="bib-iana-http-status-codes">[IANA-HTTP-STATUS-CODES]</dt><dd>
      <a href="https://www.iana.org/assignments/http-status-codes/"><cite>Hypertext Transfer Protocol (HTTP) Status Code Registry</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/http-status-codes/">https://www.iana.org/assignments/http-status-codes/</a>
    </dd><dt id="bib-openapi-registry">[OpenAPI-Registry]</dt><dd>
      <a href="https://spec.openapis.org/registry/index.html"><cite>OpenAPI Initiative Registry</cite></a>.  OpenAPI Initiative. URL: <a href="https://spec.openapis.org/registry/index.html">https://spec.openapis.org/registry/index.html</a>
    </dd><dt id="bib-openid-connect-core">[OpenID-Connect-Core]</dt><dd>
      <a href="https://openid.net/specs/openid-connect-core-1_0.html"><cite>OpenID Connect Core 1.0 incorporating errata set 2</cite></a>. N. Sakimura; J. Bradley; M. Jones; B. de Medeiros; C. Mortimore.  OpenID Foundation. 15 December 2023. Final. URL: <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a>
    </dd><dt id="bib-openid-connect-discovery">[OpenID-Connect-Discovery]</dt><dd>
      <a href="https://openid.net/specs/openid-connect-discovery-1_0.html"><cite>OpenID Connect Discovery 1.0 incorporating errata set 2</cite></a>. N. Sakimura; J. Bradley; M. Jones; E. Jay.  OpenID Foundation. 15 December 2023. Final. URL: <a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a>
    </dd><dt id="bib-rfc2046">[RFC2046]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2046"><cite>Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</cite></a>. N. Freed; N. Borenstein.  IETF. November 1996. Draft Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2046">https://www.rfc-editor.org/rfc/rfc2046</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc3986">[RFC3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc3987">[RFC3987]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3987"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>. M. Duerst; M. Suignard.  IETF. January 2005. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3987">https://www.rfc-editor.org/rfc/rfc3987</a>
    </dd><dt id="bib-rfc4648">[RFC4648]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data Encodings</cite></a>. S. Josefsson.  IETF. October 2006. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
    </dd><dt id="bib-rfc6265">[RFC6265]</dt><dd>
      <a href="https://httpwg.org/specs/rfc6265.html"><cite>HTTP State Management Mechanism</cite></a>. A. Barth.  IETF. April 2011. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc6265.html">https://httpwg.org/specs/rfc6265.html</a>
    </dd><dt id="bib-rfc6570">[RFC6570]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6570"><cite>URI Template</cite></a>. J. Gregorio; R. Fielding; M. Hadley; M. Nottingham; D. Orchard.  IETF. March 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6570">https://www.rfc-editor.org/rfc/rfc6570</a>
    </dd><dt id="bib-rfc6749">[RFC6749]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6749"><cite>The OAuth 2.0 Authorization Framework</cite></a>. D. Hardt, Ed. IETF. October 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6749">https://www.rfc-editor.org/rfc/rfc6749</a>
    </dd><dt id="bib-rfc6901">[RFC6901]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6901"><cite>JavaScript Object Notation (JSON) Pointer</cite></a>. P. Bryan, Ed.; K. Zyp; M. Nottingham, Ed. IETF. April 2013. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6901">https://www.rfc-editor.org/rfc/rfc6901</a>
    </dd><dt id="bib-rfc7578">[RFC7578]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7578"><cite>Returning Values from Forms: multipart/form-data</cite></a>. L. Masinter.  IETF. July 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7578">https://www.rfc-editor.org/rfc/rfc7578</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc8259">[RFC8259]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed. IETF. December 2017. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
    </dd><dt id="bib-rfc8414">[RFC8414]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8414"><cite>OAuth 2.0 Authorization Server Metadata</cite></a>. M. Jones; N. Sakimura; J. Bradley.  IETF. June 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8414">https://www.rfc-editor.org/rfc/rfc8414</a>
    </dd><dt id="bib-rfc8628">[RFC8628]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8628"><cite>OAuth 2.0 Device Authorization Grant</cite></a>. W. Denniss; J. Bradley; M. Jones; H. Tschofenig.  IETF. August 2019. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8628">https://www.rfc-editor.org/rfc/rfc8628</a>
    </dd><dt id="bib-rfc9110">[RFC9110]</dt><dd>
      <a href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP Semantics</cite></a>. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed. IETF. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
    </dd><dt id="bib-rfc9264">[RFC9264]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9264"><cite>Linkset: Media Types and a Link Relation Type for Link Sets</cite></a>. E. Wilde; H. Van de Sompel.  IETF. July 2022. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9264">https://www.rfc-editor.org/rfc/rfc9264</a>
    </dd><dt id="bib-rfc9512">[RFC9512]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9512"><cite>YAML Media Type</cite></a>. R. Polli; E. Wilde; E. Aro.  IETF. February 2024. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc9512">https://www.rfc-editor.org/rfc/rfc9512</a>
    </dd><dt id="bib-sniff">[SNIFF]</dt><dd>
      <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Gordon P. Hemsley.  WHATWG. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
    </dd><dt id="bib-spdx-licenses">[SPDX-Licenses]</dt><dd>
      <a href="https://spdx.org/licenses/"><cite>SPDX License List</cite></a>.  Linux Foundation. URL: <a href="https://spdx.org/licenses/">https://spdx.org/licenses/</a>
    </dd><dt id="bib-whatwg-url">[WHATWG-URL]</dt><dd>
      <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
    </dd><dt id="bib-xml-names11">[xml-names11]</dt><dd>
      <a href="https://www.w3.org/TR/xml-names11/"><cite>Namespaces in XML 1.1 (Second Edition)</cite></a>. Tim Bray; Dave Hollander; Andrew Layman; Richard Tobin et al.  W3C. 16 August 2006. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml-names11/">https://www.w3.org/TR/xml-names11/</a>
    </dd><dt id="bib-yaml">[YAML]</dt><dd>
      <a href="http://yaml.org/spec/1.2/spec.html"><cite>YAML Ainโt Markup Language (YAMLโข) Version 1.2</cite></a>. Oren Ben-Kiki; Clark Evans; Ingy dรถt Net. 1 October 2009. URL: <a href="http://yaml.org/spec/1.2/spec.html">http://yaml.org/spec/1.2/spec.html</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="h-2-informative-references"><bdi class="secno">H.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix H.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-html">[HTML]</dt><dd>
      <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jรคgenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    </dd><dt id="bib-html401">[HTML401]</dt><dd>
      <a href="https://www.w3.org/TR/html401/"><cite>HTML 4.01 Specification</cite></a>. Dave Raggett; Arnaud Le Hors; Ian Jacobs.  W3C. 27 March 2018. W3C Recommendation. URL: <a href="https://www.w3.org/TR/html401/">https://www.w3.org/TR/html401/</a>
    </dd><dt id="bib-openapi-learn">[OpenAPI-Learn]</dt><dd>
      <a href="https://learn.openapis.org/"><cite>OpenAPI - Getting started, and the specification explained</cite></a>.  OpenAPI Initiative. URL: <a href="https://learn.openapis.org/">https://learn.openapis.org/</a>
    </dd><dt id="bib-rfc1738">[RFC1738]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc1738"><cite>Uniform Resource Locators (URL)</cite></a>. T. Berners-Lee; L. Masinter; M. McCahill.  IETF. December 1994. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc1738">https://www.rfc-editor.org/rfc/rfc1738</a>
    </dd><dt id="bib-rfc1866">[RFC1866]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc1866"><cite>Hypertext Markup Language - 2.0</cite></a>. T. Berners-Lee; D. Connolly.  IETF. November 1995. Historic. URL: <a href="https://www.rfc-editor.org/rfc/rfc1866">https://www.rfc-editor.org/rfc/rfc1866</a>
    </dd><dt id="bib-rfc2396">[RFC2396]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2396"><cite>Uniform Resource Identifiers (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. August 1998. Draft Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2396">https://www.rfc-editor.org/rfc/rfc2396</a>
    </dd><dt id="bib-rfc2557">[RFC2557]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2557"><cite>MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)</cite></a>. J. Palme; A. Hopmann; N. Shelness.  IETF. March 1999. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2557">https://www.rfc-editor.org/rfc/rfc2557</a>
    </dd><dt id="bib-rfc6838">[RFC6838]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6838"><cite>Media Type Specifications and Registration Procedures</cite></a>. N. Freed; J. Klensin; T. Hansen.  IETF. January 2013. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>
    </dd><dt id="bib-rfc7464">[RFC7464]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7464"><cite>JavaScript Object Notation (JSON) Text Sequences</cite></a>. N. Williams.  IETF. February 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7464">https://www.rfc-editor.org/rfc/rfc7464</a>
    </dd><dt id="bib-rfc8091">[RFC8091]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8091"><cite>A Media Type Structured Syntax Suffix for JSON Text Sequences</cite></a>. E. Wilde.  IETF. February 2017. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc8091">https://www.rfc-editor.org/rfc/rfc8091</a>
    </dd><dt id="bib-rfc9535">[RFC9535]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9535"><cite>JSONPath: Query Expressions for JSON</cite></a>. S. Gรถssner, Ed.; G. Normington, Ed.; C. Bormann, Ed. IETF. February 2024. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9535">https://www.rfc-editor.org/rfc/rfc9535</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">โ</abbr></a>
  </p><script id="respec-highlight-vars">(() => {
// @ts-check

if (document.respec) {
  document.respec.ready.then(setupVarHighlighter);
} else {
  setupVarHighlighter();
}

function setupVarHighlighter() {
  document
    .querySelectorAll("var")
    .forEach(varElem => varElem.addEventListener("click", highlightListener));
}

function highlightListener(ev) {
  ev.stopPropagation();
  const { target: varElem } = ev;
  const hightligtedElems = highlightVars(varElem);
  const resetListener = () => {
    const hlColor = getHighlightColor(varElem);
    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
  };
  if (hightligtedElems.length) {
    document.body.addEventListener("click", resetListener, { once: true });
  }
}

// availability of highlight colors. colors from var.css
const HL_COLORS = new Map([
  ["respec-hl-c1", true],
  ["respec-hl-c2", true],
  ["respec-hl-c3", true],
  ["respec-hl-c4", true],
  ["respec-hl-c5", true],
  ["respec-hl-c6", true],
  ["respec-hl-c7", true],
]);

function getHighlightColor(target) {
  // return current colors if applicable
  const { value } = target.classList;
  const re = /respec-hl-\w+/;
  const activeClass = re.test(value) && value.match(re);
  if (activeClass) return activeClass[0];

  // first color preference
  if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

  // otherwise get some other available color
  return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
}

function highlightVars(varElem) {
  const textContent = norm(varElem.textContent);
  const parent = varElem.closest(".algorithm, section");
  const highlightColor = getHighlightColor(varElem);

  const varsToHighlight = [...parent.querySelectorAll("var")].filter(
    el =>
      norm(el.textContent) === textContent &&
      el.closest(".algorithm, section") === parent
  );

  // update availability of highlight color
  const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
  HL_COLORS.set(highlightColor, colorStatus);

  // highlight vars
  if (colorStatus) {
    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
    return [];
  } else {
    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
  }
  return varsToHighlight;
}

function removeHighlight(el, highlightColor) {
  el.classList.remove("respec-hl", highlightColor);
  // clean up empty class attributes so they don't come in export
  if (!el.classList.length) el.removeAttribute("class");
}

function addHighlight(elem, highlightColor) {
  elem.classList.add("respec-hl", highlightColor);
}

/**
 * Same as `norm` from src/core/utils, but our build process doesn't allow
 * imports in runtime scripts, so duplicated here.
 * @param {string} str
 */
function norm(str) {
  return str.trim().replace(/\s+/g, " ");
}
})()</script><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>